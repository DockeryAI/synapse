{"version":3,"mappings":"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","names":["BrandContext","React.createContext","BrandProvider","children","initialBrand","currentBrand","setCurrentBrandState","React.useState","stored","brand","brands","setBrands","loading","setLoading","error","setError","setCurrentBrand","React.useCallback","refreshBrands","err","refreshBrand","supabase","n","m","data","React.useEffect","value","jsx","LoadingSpinner","jsxs","Loader2","SynapsePage","lazy","__vitePreload","OnboardingPageV5","ContentCalendarPage","CampaignPage","SocialPilotCallback","App","Suspense","Routes","Route","ReactDOM","React","BrowserRouter"],"ignoreList":[],"sources":["../../src/contexts/BrandContext.tsx","../../src/components/ui/LoadingSpinner.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * BrandContext\n * Manages current brand selection and brand-related data\n */\n\nimport * as React from 'react'\n\nexport interface Brand {\n  id: string\n  name: string\n  industry: string\n  description?: string\n  logo_url?: string\n  website?: string\n  founded?: string\n  size?: string\n  created_at?: string\n  updated_at?: string\n}\n\ninterface BrandContextValue {\n  currentBrand: Brand | null\n  brands: Brand[]\n  loading: boolean\n  error: Error | null\n  setCurrentBrand: (brand: Brand) => void\n  refreshBrands: () => Promise<void>\n  refreshBrand: () => Promise<void>\n}\n\nconst BrandContext = React.createContext<BrandContextValue | undefined>(undefined)\n\ninterface BrandProviderProps {\n  children: React.ReactNode\n  initialBrand?: Brand\n}\n\nexport const BrandProvider: React.FC<BrandProviderProps> = ({\n  children,\n  initialBrand\n}) => {\n  // Load brand from localStorage on mount\n  const [currentBrand, setCurrentBrandState] = React.useState<Brand | null>(() => {\n    if (initialBrand) {\n      console.log('[BrandContext] Using initialBrand:', initialBrand.id)\n      return initialBrand\n    }\n    const stored = localStorage.getItem('currentBrand')\n    if (stored) {\n      const brand = JSON.parse(stored)\n      console.log('[BrandContext] Loaded brand from localStorage:', brand.id)\n      return brand\n    }\n    console.log('[BrandContext] No brand in localStorage')\n    return null\n  })\n  const [brands, setBrands] = React.useState<Brand[]>([])\n  const [loading, setLoading] = React.useState(false)\n  const [error, setError] = React.useState<Error | null>(null)\n\n  // Persist brand to localStorage when it changes\n  const setCurrentBrand = React.useCallback((brand: Brand) => {\n    setCurrentBrandState(brand)\n    localStorage.setItem('currentBrand', JSON.stringify(brand))\n    console.log('[BrandContext] Brand set and persisted:', brand.id)\n  }, [])\n\n  const refreshBrands = React.useCallback(async () => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      // TODO: Fetch brands from Supabase\n      // const { data, error } = await supabase\n      //   .from('brands')\n      //   .select('*')\n      //   .order('name')\n      // if (error) throw error\n      // setBrands(data || [])\n\n      throw new Error('Supabase connection not configured. Please set up Supabase to load brands.')\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error('Failed to load brands'))\n      setBrands([])\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const refreshBrand = React.useCallback(async () => {\n    if (!currentBrand?.id) return\n\n    try {\n      const { default: supabase } = await import('@/lib/supabase').then(m => ({ default: m.supabase }))\n      const { data, error } = await supabase\n        .from('brands')\n        .select('*')\n        .eq('id', currentBrand.id)\n        .single()\n\n      if (error) throw error\n      if (data) {\n        setCurrentBrand(data as Brand)\n      }\n    } catch (err) {\n      console.error('[BrandContext] Failed to refresh brand:', err)\n    }\n  }, [currentBrand?.id, setCurrentBrand])\n\n  // Load brands on mount\n  React.useEffect(() => {\n    refreshBrands()\n  }, [refreshBrands])\n\n  const value: BrandContextValue = {\n    currentBrand,\n    brands,\n    loading,\n    error,\n    setCurrentBrand,\n    refreshBrands,\n    refreshBrand\n  }\n\n  return <BrandContext.Provider value={value}>{children}</BrandContext.Provider>\n}\n\nexport const useBrand = (): BrandContextValue => {\n  const context = React.useContext(BrandContext)\n  if (!context) {\n    throw new Error('useBrand must be used within a BrandProvider')\n  }\n  return context\n}\n","/**\n * Loading Spinner Component\n * Used as Suspense fallback for lazy-loaded routes\n */\n\nimport { Loader2 } from 'lucide-react';\n\nexport function LoadingSpinner() {\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n      <div className=\"flex flex-col items-center gap-4\">\n        <Loader2 className=\"h-12 w-12 animate-spin text-primary\" />\n        <p className=\"text-sm text-muted-foreground\">Loading...</p>\n      </div>\n    </div>\n  );\n}\n","import { lazy, Suspense } from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport { BrandProvider } from './contexts/BrandContext'\nimport { LoadingSpinner } from './components/ui/LoadingSpinner'\n\n// Lazy-loaded pages for code splitting\nconst SynapsePage = lazy(() => import('./pages/SynapsePage').then(m => ({ default: m.SynapsePage })))\nconst OnboardingPageV5 = lazy(() => import('./pages/OnboardingPageV5').then(m => ({ default: m.OnboardingPageV5 })))\nconst ContentCalendarPage = lazy(() => import('./pages/ContentCalendarPage').then(m => ({ default: m.ContentCalendarPage })))\nconst CampaignPage = lazy(() => import('./pages/CampaignPage').then(m => ({ default: m.CampaignPage })))\nconst SocialPilotCallback = lazy(() => import('./pages/SocialPilotCallback').then(m => ({ default: m.SocialPilotCallback })))\n\n// TODO: Lazy load auth routes when ready to enable authentication (Phase 0)\n// const LoginPage = lazy(() => import('./pages/LoginPage'))\n// const SignUpPage = lazy(() => import('./pages/SignUpPage'))\n// const AdminDashboard = lazy(() => import('./pages/AdminDashboard'))\n// const UserSessionViewer = lazy(() => import('./pages/UserSessionViewer'))\n// const ProtectedRoute = lazy(() => import('./components/auth/ProtectedRoute'))\n\nfunction App() {\n  return (\n    <BrandProvider>\n      <div className=\"min-h-screen bg-gray-50\">\n        {/* Accessibility: Skip to main content link */}\n        <a\n          href=\"#main-content\"\n          className=\"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-md focus:shadow-lg\"\n        >\n          Skip to main content\n        </a>\n\n        <Suspense fallback={<LoadingSpinner />}>\n          <main id=\"main-content\" className=\"animate-fade-in\">\n            <Routes>\n              {/* AUTHENTICATION DISABLED FOR NOW - Will be enabled in Phase 0 */}\n              {/* <Route path=\"/login\" element={<LoginPage />} /> */}\n              {/* <Route path=\"/signup\" element={<SignUpPage />} /> */}\n\n              {/* Public Routes (temporarily - will be protected in Phase 0) */}\n              {/* Week 7: New onboarding flow as default */}\n              <Route path=\"/\" element={<OnboardingPageV5 />} />\n              <Route path=\"/onboarding\" element={<OnboardingPageV5 />} />\n\n              {/* Legacy routes */}\n              <Route path=\"/synapse\" element={<SynapsePage />} />\n              <Route path=\"/synapse-old\" element={<SynapsePage />} />\n              <Route path=\"/campaign/new\" element={<CampaignPage />} />\n              <Route path=\"/content-calendar\" element={<ContentCalendarPage />} />\n              <Route path=\"/auth/socialpilot/callback\" element={<SocialPilotCallback />} />\n\n              {/* Admin Routes - Commented out until authentication is enabled */}\n              {/* <Route path=\"/admin\" element={<ProtectedRoute adminOnly><AdminDashboard /></ProtectedRoute>} /> */}\n              {/* <Route path=\"/admin/user/:userId\" element={<ProtectedRoute adminOnly><UserSessionViewer /></ProtectedRoute>} /> */}\n            </Routes>\n          </main>\n        </Suspense>\n      </div>\n    </BrandProvider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\n// import { publishingAutomation } from './services/publishing-automation.service'\n\n// Start publishing automation\n// TODO: Uncomment after running publishing_queue migration\n// publishingAutomation.start()\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <BrowserRouter future={{\n      v7_startTransition: true,\n      v7_relativeSplatPath: true\n    }}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n)\n"],"file":"assets/index-CB3y7iIe.js"}