{"version":3,"file":"SocialPilotCallback-Bz7p7nHl.js","sources":["../../src/services/socialpilot.service.ts","../../src/pages/SocialPilotCallback.tsx"],"sourcesContent":["/**\n * SocialPilot API Service\n * Complete integration for OAuth 2.0 and social media publishing automation\n */\n\nimport { supabase } from '@/lib/supabase';\n\nexport interface SocialPilotConfig {\n  clientId: string;\n  clientSecret: string;\n  redirectUri: string;\n}\n\nexport type Platform =\n  | 'facebook'\n  | 'twitter'\n  | 'linkedin'\n  | 'instagram'\n  | 'tiktok'\n  | 'pinterest'\n  | 'youtube';\n\nexport interface SocialAccount {\n  id: string;\n  platform: Platform;\n  name: string;\n  handle: string;\n  avatar: string;\n  connected: boolean;\n}\n\nexport interface PostSchedule {\n  accountIds: string[];\n  content: string;\n  scheduledTime: Date;\n  media?: string[];\n  hashtags?: string[];\n}\n\nexport interface PostResponse {\n  id: string;\n  status: 'scheduled' | 'published' | 'failed';\n  accountsPosted: number;\n  accountsFailed: number;\n  error?: string;\n}\n\nexport interface TokenData {\n  access_token: string;\n  refresh_token: string;\n  expires_in: number;\n  token_type: string;\n}\n\n/**\n * SocialPilot API Service\n * Handles OAuth 2.0 authentication and post scheduling/management\n */\nexport class SocialPilotService {\n  private config: SocialPilotConfig;\n  private accessToken?: string;\n  private refreshToken?: string;\n  private readonly API_BASE_URL = 'https://api.socialpilot.co';\n  private readonly MAX_RETRIES = 3;\n  private readonly RETRY_DELAY = 1000; // 1 second\n\n  constructor(config: SocialPilotConfig) {\n    this.config = config;\n    this.loadTokens();\n  }\n\n  /**\n   * Load tokens from localStorage on initialization\n   */\n  private async loadTokens(): Promise<void> {\n    try {\n      // Try to load from Supabase first\n      const { data, error } = await supabase\n        .from('socialpilot_connections')\n        .select('access_token, refresh_token, expires_at')\n        .single();\n\n      if (!error && data) {\n        this.accessToken = data.access_token;\n        this.refreshToken = data.refresh_token;\n\n        // Check if token is expired\n        const expiresAt = new Date(data.expires_at);\n        if (expiresAt < new Date()) {\n          console.log('[SocialPilot] Token expired, refreshing...');\n          await this.refreshAccessToken();\n        }\n      }\n    } catch (error) {\n      console.warn('[SocialPilot] Failed to load tokens:', error);\n    }\n  }\n\n  //=============================================================================\n  // OAuth 2.0 Methods\n  //=============================================================================\n\n  /**\n   * Get authorization URL to start OAuth flow\n   * User should be redirected to this URL\n   */\n  async getAuthorizationUrl(): Promise<string> {\n    const params = new URLSearchParams({\n      client_id: this.config.clientId,\n      redirect_uri: this.config.redirectUri,\n      response_type: 'code',\n      scope: 'accounts:read posts:write analytics:read',\n    });\n\n    const authUrl = `${this.API_BASE_URL}/oauth/authorize?${params}`;\n    console.log('[SocialPilot] Generated authorization URL');\n    return authUrl;\n  }\n\n  /**\n   * Exchange authorization code for access token\n   * Called in the OAuth callback\n   */\n  async exchangeCodeForToken(code: string): Promise<void> {\n    console.log('[SocialPilot] Exchanging code for token...');\n\n    try {\n      const response = await fetch(`${this.API_BASE_URL}/oauth/token`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          client_id: this.config.clientId,\n          client_secret: this.config.clientSecret,\n          code,\n          grant_type: 'authorization_code',\n          redirect_uri: this.config.redirectUri,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Token exchange failed: ${response.status} - ${errorText}`);\n      }\n\n      const data: TokenData = await response.json();\n      this.accessToken = data.access_token;\n      this.refreshToken = data.refresh_token;\n\n      // Store tokens securely in Supabase\n      await this.storeTokens(data);\n\n      console.log('[SocialPilot] Successfully obtained access token');\n    } catch (error) {\n      console.error('[SocialPilot] Token exchange error:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Refresh the access token using refresh token\n   */\n  async refreshAccessToken(): Promise<void> {\n    if (!this.refreshToken) {\n      throw new Error('No refresh token available. Please re-authenticate.');\n    }\n\n    console.log('[SocialPilot] Refreshing access token...');\n\n    try {\n      const response = await fetch(`${this.API_BASE_URL}/oauth/token`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          client_id: this.config.clientId,\n          client_secret: this.config.clientSecret,\n          refresh_token: this.refreshToken,\n          grant_type: 'refresh_token',\n        }),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Token refresh failed: ${response.status} - ${errorText}`);\n      }\n\n      const data: TokenData = await response.json();\n      this.accessToken = data.access_token;\n\n      // Update refresh token if provided (some OAuth providers rotate refresh tokens)\n      if (data.refresh_token) {\n        this.refreshToken = data.refresh_token;\n      }\n\n      await this.storeTokens(data);\n\n      console.log('[SocialPilot] Successfully refreshed access token');\n    } catch (error) {\n      console.error('[SocialPilot] Token refresh error:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Check if user is authenticated\n   */\n  isAuthenticated(): boolean {\n    return !!this.accessToken;\n  }\n\n  /**\n   * Disconnect by clearing tokens\n   */\n  async disconnect(): Promise<void> {\n    this.accessToken = undefined;\n    this.refreshToken = undefined;\n\n    try {\n      await supabase.from('socialpilot_connections').delete().eq('user_id', 'current');\n      console.log('[SocialPilot] Disconnected successfully');\n    } catch (error) {\n      console.error('[SocialPilot] Disconnect error:', error);\n    }\n  }\n\n  //=============================================================================\n  // Account Management Methods\n  //=============================================================================\n\n  /**\n   * Get list of connected social media accounts\n   */\n  async getAccounts(): Promise<SocialAccount[]> {\n    console.log('[SocialPilot] Fetching connected accounts...');\n\n    try {\n      const response = await this.apiCall('GET', '/accounts');\n\n      // Transform API response to our interface\n      const accounts: SocialAccount[] = (response.accounts || []).map((acc: any) => ({\n        id: acc.id,\n        platform: this.normalizePlatform(acc.platform),\n        name: acc.name || acc.username,\n        handle: acc.username || acc.handle,\n        avatar: acc.profile_image_url || acc.avatar || '',\n        connected: acc.status === 'active',\n      }));\n\n      console.log(`[SocialPilot] Found ${accounts.length} connected accounts`);\n      return accounts;\n    } catch (error) {\n      console.error('[SocialPilot] Failed to fetch accounts:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get specific account by ID\n   */\n  async getAccount(accountId: string): Promise<SocialAccount | null> {\n    try {\n      const accounts = await this.getAccounts();\n      return accounts.find((acc) => acc.id === accountId) || null;\n    } catch (error) {\n      console.error('[SocialPilot] Failed to fetch account:', error);\n      return null;\n    }\n  }\n\n  //=============================================================================\n  // Post Management Methods\n  //=============================================================================\n\n  /**\n   * Schedule a post to be published later\n   */\n  async schedulePost(params: PostSchedule): Promise<PostResponse> {\n    console.log('[SocialPilot] Scheduling post...', {\n      accounts: params.accountIds.length,\n      scheduledTime: params.scheduledTime,\n    });\n\n    try {\n      const response = await this.apiCall('POST', '/posts/schedule', {\n        account_ids: params.accountIds,\n        text: params.content,\n        scheduled_at: params.scheduledTime.toISOString(),\n        media_urls: params.media || [],\n        hashtags: params.hashtags || [],\n      });\n\n      const result: PostResponse = {\n        id: response.id || response.post_id,\n        status: response.status || 'scheduled',\n        accountsPosted: response.accounts_posted || params.accountIds.length,\n        accountsFailed: response.accounts_failed || 0,\n        error: response.error,\n      };\n\n      console.log('[SocialPilot] Post scheduled successfully:', result.id);\n      return result;\n    } catch (error) {\n      console.error('[SocialPilot] Failed to schedule post:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Publish a post immediately\n   */\n  async publishPost(params: PostSchedule): Promise<PostResponse> {\n    console.log('[SocialPilot] Publishing post immediately...');\n\n    try {\n      const response = await this.apiCall('POST', '/posts', {\n        account_ids: params.accountIds,\n        text: params.content,\n        media_urls: params.media || [],\n        hashtags: params.hashtags || [],\n      });\n\n      const result: PostResponse = {\n        id: response.id || response.post_id,\n        status: 'published',\n        accountsPosted: response.accounts_posted || params.accountIds.length,\n        accountsFailed: response.accounts_failed || 0,\n        error: response.error,\n      };\n\n      console.log('[SocialPilot] Post published successfully:', result.id);\n      return result;\n    } catch (error) {\n      console.error('[SocialPilot] Failed to publish post:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get post status by ID\n   */\n  async getPostStatus(postId: string): Promise<PostResponse> {\n    console.log('[SocialPilot] Fetching post status:', postId);\n\n    try {\n      const response = await this.apiCall('GET', `/posts/${postId}`);\n\n      return {\n        id: response.id,\n        status: response.status,\n        accountsPosted: response.accounts_posted || 0,\n        accountsFailed: response.accounts_failed || 0,\n        error: response.error,\n      };\n    } catch (error) {\n      console.error('[SocialPilot] Failed to fetch post status:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Delete a scheduled post\n   */\n  async deletePost(postId: string): Promise<void> {\n    console.log('[SocialPilot] Deleting post:', postId);\n\n    try {\n      await this.apiCall('DELETE', `/posts/${postId}`);\n      console.log('[SocialPilot] Post deleted successfully');\n    } catch (error) {\n      console.error('[SocialPilot] Failed to delete post:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get post analytics\n   */\n  async getPostAnalytics(postId: string): Promise<any> {\n    console.log('[SocialPilot] Fetching post analytics:', postId);\n\n    try {\n      const response = await this.apiCall('GET', `/posts/${postId}/analytics`);\n      return response;\n    } catch (error) {\n      console.error('[SocialPilot] Failed to fetch analytics:', error);\n      throw error;\n    }\n  }\n\n  //=============================================================================\n  // Helper Methods\n  //=============================================================================\n\n  /**\n   * Make authenticated API call with retry logic\n   */\n  private async apiCall(\n    method: string,\n    endpoint: string,\n    body?: any,\n    retryCount = 0\n  ): Promise<any> {\n    if (!this.accessToken) {\n      throw new Error('Not authenticated. Please call exchangeCodeForToken() first.');\n    }\n\n    const url = `${this.API_BASE_URL}${endpoint}`;\n\n    try {\n      const response = await fetch(url, {\n        method,\n        headers: {\n          Authorization: `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json',\n        },\n        body: body ? JSON.stringify(body) : undefined,\n      });\n\n      // Handle 401 Unauthorized - token expired\n      if (response.status === 401) {\n        console.warn('[SocialPilot] Token expired (401), attempting refresh...');\n\n        // Try to refresh token\n        await this.refreshAccessToken();\n\n        // Retry the request with new token\n        if (retryCount < this.MAX_RETRIES) {\n          return this.apiCall(method, endpoint, body, retryCount + 1);\n        } else {\n          throw new Error('Max retries exceeded after token refresh');\n        }\n      }\n\n      // Handle rate limiting (429)\n      if (response.status === 429) {\n        if (retryCount < this.MAX_RETRIES) {\n          const retryAfter = parseInt(response.headers.get('Retry-After') || '60', 10);\n          const delay = retryAfter * 1000;\n\n          console.warn(`[SocialPilot] Rate limited, retrying after ${retryAfter}s...`);\n          await this.sleep(delay);\n          return this.apiCall(method, endpoint, body, retryCount + 1);\n        } else {\n          throw new Error('Rate limit exceeded, max retries reached');\n        }\n      }\n\n      // Handle other errors\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`API call failed: ${response.status} - ${errorText}`);\n      }\n\n      // Return JSON response\n      return await response.json();\n    } catch (error) {\n      console.error(`[SocialPilot] API call failed (${method} ${endpoint}):`, error);\n\n      // Retry on network failures\n      if (retryCount < this.MAX_RETRIES && this.isNetworkError(error)) {\n        console.warn(`[SocialPilot] Network error, retrying (${retryCount + 1}/${this.MAX_RETRIES})...`);\n        await this.sleep(this.RETRY_DELAY * (retryCount + 1));\n        return this.apiCall(method, endpoint, body, retryCount + 1);\n      }\n\n      throw error;\n    }\n  }\n\n  /**\n   * Store tokens securely in Supabase\n   */\n  private async storeTokens(data: TokenData): Promise<void> {\n    try {\n      const expiresAt = new Date(Date.now() + data.expires_in * 1000);\n\n      const { error } = await supabase.from('socialpilot_connections').upsert(\n        {\n          access_token: data.access_token,\n          refresh_token: data.refresh_token,\n          expires_at: expiresAt.toISOString(),\n          token_type: data.token_type,\n          updated_at: new Date().toISOString(),\n        },\n        {\n          onConflict: 'user_id',\n        }\n      );\n\n      if (error) {\n        console.error('[SocialPilot] Failed to store tokens:', error);\n      } else {\n        console.log('[SocialPilot] Tokens stored securely');\n      }\n    } catch (error) {\n      console.error('[SocialPilot] Token storage error:', error);\n    }\n  }\n\n  /**\n   * Normalize platform names from API to our standard\n   */\n  private normalizePlatform(platform: string): Platform {\n    const normalized = platform.toLowerCase();\n\n    const platformMap: Record<string, Platform> = {\n      fb: 'facebook',\n      tw: 'twitter',\n      li: 'linkedin',\n      ig: 'instagram',\n      tk: 'tiktok',\n      pin: 'pinterest',\n      yt: 'youtube',\n    };\n\n    return (platformMap[normalized] as Platform) || (normalized as Platform);\n  }\n\n  /**\n   * Check if error is a network error\n   */\n  private isNetworkError(error: any): boolean {\n    return (\n      error instanceof TypeError ||\n      error.message?.includes('fetch') ||\n      error.message?.includes('network')\n    );\n  }\n\n  /**\n   * Sleep helper for retry delays\n   */\n  private sleep(ms: number): Promise<void> {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n}\n\n// Export singleton instance factory\nexport function createSocialPilotService(): SocialPilotService {\n  const config: SocialPilotConfig = {\n    clientId: import.meta.env.VITE_SOCIALPILOT_CLIENT_ID || 'test_client_id',\n    clientSecret: import.meta.env.VITE_SOCIALPILOT_CLIENT_SECRET || 'test_client_secret',\n    redirectUri:\n      import.meta.env.VITE_SOCIALPILOT_REDIRECT_URI ||\n      'http://localhost:5173/auth/socialpilot/callback',\n  };\n\n  return new SocialPilotService(config);\n}\n","/**\n * SocialPilotCallback Page\n * Handles OAuth callback from SocialPilot\n * Exchanges authorization code for access token\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport {\n  Loader2,\n  CheckCircle2,\n  XCircle,\n  AlertCircle,\n  ArrowLeft,\n  ExternalLink,\n} from 'lucide-react';\nimport { createSocialPilotService } from '@/services/socialpilot.service';\n\ntype CallbackStatus = 'loading' | 'success' | 'error' | 'user_denied';\n\ninterface CallbackState {\n  status: CallbackStatus;\n  message?: string;\n  errorDetails?: string;\n}\n\nexport function SocialPilotCallback() {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const [state, setState] = useState<CallbackState>({\n    status: 'loading',\n  });\n\n  /**\n   * Handle OAuth callback on mount\n   */\n  useEffect(() => {\n    handleCallback();\n  }, []);\n\n  /**\n   * Process OAuth callback\n   */\n  const handleCallback = async () => {\n    console.log('[SocialPilotCallback] Processing OAuth callback...');\n\n    // Get params from URL\n    const code = searchParams.get('code');\n    const error = searchParams.get('error');\n    const errorDescription = searchParams.get('error_description');\n\n    // Handle user denial\n    if (error === 'access_denied') {\n      console.log('[SocialPilotCallback] User denied authorization');\n      setState({\n        status: 'user_denied',\n        message: 'You cancelled the connection',\n        errorDetails: errorDescription || 'Authorization was cancelled',\n      });\n      return;\n    }\n\n    // Handle other errors\n    if (error) {\n      console.error('[SocialPilotCallback] OAuth error:', error, errorDescription);\n      setState({\n        status: 'error',\n        message: 'Authorization failed',\n        errorDetails: errorDescription || error,\n      });\n      return;\n    }\n\n    // Validate code\n    if (!code) {\n      console.error('[SocialPilotCallback] No authorization code received');\n      setState({\n        status: 'error',\n        message: 'Invalid callback',\n        errorDetails: 'No authorization code received from SocialPilot',\n      });\n      return;\n    }\n\n    // Exchange code for token\n    try {\n      const service = createSocialPilotService();\n\n      console.log('[SocialPilotCallback] Exchanging code for token...');\n      await service.exchangeCodeForToken(code);\n\n      console.log('[SocialPilotCallback] Successfully connected!');\n      setState({\n        status: 'success',\n        message: 'Successfully connected to SocialPilot!',\n      });\n\n      // Redirect to content calendar after 2 seconds\n      setTimeout(() => {\n        console.log('[SocialPilotCallback] Redirecting to calendar...');\n        navigate('/content-calendar');\n      }, 2000);\n    } catch (err) {\n      console.error('[SocialPilotCallback] Token exchange failed:', err);\n\n      const errorMessage = err instanceof Error ? err.message : 'Unknown error occurred';\n\n      setState({\n        status: 'error',\n        message: 'Failed to complete connection',\n        errorDetails: errorMessage,\n      });\n    }\n  };\n\n  /**\n   * Navigate back to calendar\n   */\n  const handleGoBack = () => {\n    navigate('/content-calendar');\n  };\n\n  /**\n   * Retry connection\n   */\n  const handleRetry = () => {\n    setState({ status: 'loading' });\n    handleCallback();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4\">\n      <Card className=\"max-w-md w-full p-8\">\n        {/* Loading State */}\n        {state.status === 'loading' && (\n          <div className=\"text-center space-y-4\">\n            <Loader2 className=\"w-16 h-16 mx-auto text-blue-600 animate-spin\" />\n\n            <div>\n              <h2 className=\"text-2xl font-bold mb-2\">Connecting...</h2>\n              <p className=\"text-muted-foreground\">\n                Please wait while we connect your SocialPilot account\n              </p>\n            </div>\n\n            <div className=\"pt-4\">\n              <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground\">\n                <div className=\"w-2 h-2 bg-blue-600 rounded-full animate-bounce\" />\n                <div\n                  className=\"w-2 h-2 bg-blue-600 rounded-full animate-bounce\"\n                  style={{ animationDelay: '0.1s' }}\n                />\n                <div\n                  className=\"w-2 h-2 bg-blue-600 rounded-full animate-bounce\"\n                  style={{ animationDelay: '0.2s' }}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Success State */}\n        {state.status === 'success' && (\n          <div className=\"text-center space-y-4\">\n            <div className=\"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center\">\n              <CheckCircle2 className=\"w-10 h-10 text-green-600\" />\n            </div>\n\n            <div>\n              <h2 className=\"text-2xl font-bold mb-2 text-green-900\">Successfully Connected!</h2>\n              <p className=\"text-muted-foreground\">{state.message}</p>\n            </div>\n\n            <Alert className=\"bg-green-50 border-green-200 text-left\">\n              <ExternalLink className=\"h-4 w-4 text-green-600\" />\n              <AlertDescription className=\"text-green-900\">\n                Your SocialPilot account is now connected. You can now schedule posts to all your\n                social media platforms.\n              </AlertDescription>\n            </Alert>\n\n            <div className=\"pt-4\">\n              <p className=\"text-sm text-muted-foreground\">Redirecting to calendar...</p>\n            </div>\n          </div>\n        )}\n\n        {/* User Denied State */}\n        {state.status === 'user_denied' && (\n          <div className=\"text-center space-y-4\">\n            <div className=\"w-16 h-16 mx-auto bg-orange-100 rounded-full flex items-center justify-center\">\n              <AlertCircle className=\"w-10 h-10 text-orange-600\" />\n            </div>\n\n            <div>\n              <h2 className=\"text-2xl font-bold mb-2 text-orange-900\">Connection Cancelled</h2>\n              <p className=\"text-muted-foreground\">{state.message}</p>\n            </div>\n\n            <Alert className=\"bg-orange-50 border-orange-200 text-left\">\n              <AlertCircle className=\"h-4 w-4 text-orange-600\" />\n              <AlertDescription className=\"text-orange-900\">\n                You need to authorize access to SocialPilot to enable automated publishing.\n              </AlertDescription>\n            </Alert>\n\n            <div className=\"flex gap-3 pt-4\">\n              <Button variant=\"outline\" onClick={handleGoBack} className=\"flex-1\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Go Back\n              </Button>\n\n              <Button onClick={handleRetry} className=\"flex-1\">\n                Try Again\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {/* Error State */}\n        {state.status === 'error' && (\n          <div className=\"text-center space-y-4\">\n            <div className=\"w-16 h-16 mx-auto bg-red-100 rounded-full flex items-center justify-center\">\n              <XCircle className=\"w-10 h-10 text-red-600\" />\n            </div>\n\n            <div>\n              <h2 className=\"text-2xl font-bold mb-2 text-red-900\">Connection Failed</h2>\n              <p className=\"text-muted-foreground\">{state.message}</p>\n            </div>\n\n            {state.errorDetails && (\n              <Alert variant=\"destructive\" className=\"text-left\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription className=\"text-sm font-mono break-all\">\n                  {state.errorDetails}\n                </AlertDescription>\n              </Alert>\n            )}\n\n            <div className=\"bg-gray-50 p-4 rounded-lg text-left text-sm space-y-2\">\n              <h4 className=\"font-semibold\">Troubleshooting:</h4>\n              <ul className=\"list-disc list-inside space-y-1 text-muted-foreground\">\n                <li>Make sure you have a SocialPilot account</li>\n                <li>Check that your API credentials are correct</li>\n                <li>Verify your network connection</li>\n                <li>Try again in a few moments</li>\n              </ul>\n            </div>\n\n            <div className=\"flex gap-3 pt-4\">\n              <Button variant=\"outline\" onClick={handleGoBack} className=\"flex-1\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Go Back\n              </Button>\n\n              <Button onClick={handleRetry} className=\"flex-1\">\n                Try Again\n              </Button>\n            </div>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}\n"],"names":["SocialPilotService","config","__publicField","data","error","supabase","params","authUrl","code","response","errorText","accounts","acc","accountId","result","postId","method","endpoint","body","retryCount","url","retryAfter","delay","expiresAt","platform","normalized","_a","_b","ms","resolve","createSocialPilotService","SocialPilotCallback","searchParams","useSearchParams","navigate","useNavigate","state","setState","useState","useEffect","handleCallback","errorDescription","service","err","errorMessage","handleGoBack","handleRetry","jsxs","Card","jsx","Loader2","CheckCircle2","Alert","ExternalLink","AlertDescription","AlertCircle","Button","ArrowLeft","XCircle"],"mappings":"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"}