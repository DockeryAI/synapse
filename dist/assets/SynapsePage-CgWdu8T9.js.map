{"version":3,"file":"SynapsePage-CgWdu8T9.js","sources":["../../src/components/synapse/SynapseLoadingScreen.tsx","../../src/components/synapse/ContentEnhancements.tsx","../../src/pages/SynapsePage.tsx"],"sourcesContent":["import { motion } from 'framer-motion';\nimport { useEffect, useState } from 'react';\n\ninterface LoadingSubStep {\n  label: string;\n  duration: number;\n}\n\ninterface LoadingStep {\n  id: string;\n  label: string;\n  description: string;\n  estimatedDuration: number; // in seconds\n  subSteps?: LoadingSubStep[];\n}\n\nconst LOADING_STEPS: LoadingStep[] = [\n  {\n    id: 'intelligence',\n    label: 'Analyzing Your Business',\n    description: 'Scanning your website for key messages and unique value',\n    estimatedDuration: 15\n  },\n  {\n    id: 'trends',\n    label: 'Finding Trending Topics',\n    description: 'Discovering what your audience is talking about right now',\n    estimatedDuration: 12\n  },\n  {\n    id: 'competitors',\n    label: 'Studying Competitors',\n    description: 'Learning from what works in your industry',\n    estimatedDuration: 18\n  },\n  {\n    id: 'triggers',\n    label: 'Identifying Buying Triggers',\n    description: 'Finding moments when customers are ready to act',\n    estimatedDuration: 10\n  },\n  {\n    id: 'local',\n    label: 'Discovering Local Opportunities',\n    description: 'Finding local events and community connections',\n    estimatedDuration: 8\n  },\n  {\n    id: 'connections',\n    label: 'Making Synaptic Connections',\n    description: 'Connecting unique insights to create compelling angles',\n    estimatedDuration: 25\n  },\n  {\n    id: 'content',\n    label: 'Crafting Your Content',\n    description: 'Writing platform-optimized content that resonates',\n    estimatedDuration: 120,\n    subSteps: [\n      { label: 'Writing LinkedIn posts', duration: 20 },\n      { label: 'Writing Facebook posts', duration: 20 },\n      { label: 'Writing Instagram captions', duration: 20 },\n      { label: 'Writing X (Twitter) posts', duration: 15 },\n      { label: 'Writing TikTok scripts', duration: 20 },\n      { label: 'Writing YouTube descriptions', duration: 20 },\n      { label: 'Finalizing content', duration: 5 }\n    ]\n  }\n];\n\ninterface SynapseLoadingScreenProps {\n  currentStep?: string;\n  progress?: number;\n  contentCount?: number; // Number of content pieces being generated\n  platformCount?: number; // Number of platforms selected\n}\n\nexport function SynapseLoadingScreen({\n  currentStep,\n  progress,\n  contentCount = 3,\n  platformCount = 6\n}: SynapseLoadingScreenProps) {\n  const [activeStepIndex, setActiveStepIndex] = useState(0);\n  const [elapsedTime, setElapsedTime] = useState(0);\n\n  // Auto-progress through steps based on elapsed time\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setElapsedTime(prev => prev + 1);\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Calculate dynamic content generation time\n  // Each platform per insight takes ~8 seconds with Sonnet 4.5 (was 20s with Opus)\n  const contentGenerationTime = contentCount * platformCount * 8;\n\n  // Update the content step duration dynamically\n  const adjustedSteps = LOADING_STEPS.map(step => {\n    if (step.id === 'content') {\n      return {\n        ...step,\n        estimatedDuration: contentGenerationTime\n      };\n    }\n    return step;\n  });\n\n  // Calculate which step we should be on based on elapsed time\n  useEffect(() => {\n    let cumulativeTime = 0;\n    for (let i = 0; i < adjustedSteps.length; i++) {\n      cumulativeTime += adjustedSteps[i].estimatedDuration;\n      if (elapsedTime < cumulativeTime) {\n        setActiveStepIndex(i);\n        break;\n      }\n    }\n  }, [elapsedTime, contentCount, platformCount]);\n\n  const totalEstimatedTime = adjustedSteps.reduce((sum, step) => sum + step.estimatedDuration, 0);\n  const calculatedProgress = Math.min((elapsedTime / totalEstimatedTime) * 100, 95); // Cap at 95% until actually done\n  const displayProgress = progress !== undefined ? progress : calculatedProgress;\n\n  const activeStep = adjustedSteps[activeStepIndex];\n  const remainingTime = Math.max(0, totalEstimatedTime - elapsedTime);\n\n  // Calculate current sub-step for content generation\n  const getCurrentSubStep = () => {\n    if (!activeStep.subSteps || activeStep.id !== 'content') return null;\n\n    // Calculate time elapsed in current step\n    let timeBeforeStep = 0;\n    for (let i = 0; i < activeStepIndex; i++) {\n      timeBeforeStep += LOADING_STEPS[i].estimatedDuration;\n    }\n    const timeInStep = elapsedTime - timeBeforeStep;\n\n    // Find which sub-step we're in\n    let cumulativeSubTime = 0;\n    for (let i = 0; i < activeStep.subSteps.length; i++) {\n      cumulativeSubTime += activeStep.subSteps[i].duration;\n      if (timeInStep < cumulativeSubTime) {\n        return activeStep.subSteps[i].label;\n      }\n    }\n\n    return activeStep.subSteps[activeStep.subSteps.length - 1].label;\n  };\n\n  const currentSubStep = getCurrentSubStep();\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-slate-900 dark:to-indigo-950 flex items-center justify-center p-6\">\n      <motion.div\n        initial={{ opacity: 0, scale: 0.9 }}\n        animate={{ opacity: 1, scale: 1 }}\n        className=\"w-full max-w-2xl\"\n      >\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-8 space-y-8\">\n          {/* Header */}\n          <div className=\"text-center space-y-2\">\n            <motion.div\n              animate={{ rotate: 360 }}\n              transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n              className=\"inline-block\"\n            >\n              <div className=\"w-16 h-16 mx-auto bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n                <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n              </div>\n            </motion.div>\n\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              Creating Your Content Strategy\n            </h2>\n\n            <p className=\"text-gray-600 dark:text-slate-400\">\n              Estimated time remaining: {Math.floor(remainingTime / 60)}:{(remainingTime % 60).toString().padStart(2, '0')}\n            </p>\n          </div>\n\n          {/* Progress Bar */}\n          <div className=\"space-y-2\">\n            <div className=\"h-3 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500\"\n                initial={{ width: 0 }}\n                animate={{ width: `${displayProgress}%` }}\n                transition={{ duration: 0.5, ease: \"easeOut\" }}\n              />\n            </div>\n            <div className=\"flex justify-between text-xs text-gray-500 dark:text-slate-400\">\n              <span>{Math.round(displayProgress)}% complete</span>\n              <span>Step {activeStepIndex + 1} of {LOADING_STEPS.length}</span>\n            </div>\n          </div>\n\n          {/* Current Step */}\n          <motion.div\n            key={activeStep.id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800\"\n          >\n            <div className=\"flex items-start gap-4\">\n              <div className=\"flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <motion.path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M5 13l4 4L19 7\"\n                    initial={{ pathLength: 0 }}\n                    animate={{ pathLength: 1 }}\n                    transition={{ duration: 1.5, repeat: Infinity }}\n                  />\n                </svg>\n              </div>\n\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-1\">\n                  {activeStep.label}\n                </h3>\n                <p className=\"text-gray-600 dark:text-slate-300\">\n                  {currentSubStep || activeStep.description}\n                </p>\n                {currentSubStep && (\n                  <p className=\"text-xs text-gray-500 dark:text-slate-400 mt-1\">\n                    {activeStep.description}\n                  </p>\n                )}\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Step List */}\n          <div className=\"space-y-2\">\n            {adjustedSteps.map((step, index) => {\n              const isCompleted = index < activeStepIndex;\n              const isActive = index === activeStepIndex;\n              const isPending = index > activeStepIndex;\n\n              return (\n                <motion.div\n                  key={step.id}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className={`flex items-center gap-3 p-3 rounded-lg transition-all ${\n                    isActive\n                      ? 'bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800'\n                      : isCompleted\n                      ? 'bg-green-50 dark:bg-green-900/20'\n                      : 'bg-gray-50 dark:bg-slate-800/50 opacity-50'\n                  }`}\n                >\n                  <div className={`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${\n                    isCompleted\n                      ? 'bg-green-500'\n                      : isActive\n                      ? 'bg-blue-500 animate-pulse'\n                      : 'bg-gray-300 dark:bg-slate-700'\n                  }`}>\n                    {isCompleted ? (\n                      <svg className=\"w-4 h-4 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                    ) : (\n                      <span className=\"text-xs font-bold text-white\">{index + 1}</span>\n                    )}\n                  </div>\n\n                  <span className={`text-sm font-medium ${\n                    isActive\n                      ? 'text-blue-900 dark:text-blue-100'\n                      : isCompleted\n                      ? 'text-green-900 dark:text-green-100'\n                      : 'text-gray-500 dark:text-slate-400'\n                  }`}>\n                    {step.label}\n                  </span>\n                </motion.div>\n              );\n            })}\n          </div>\n\n          {/* Fun fact or tip */}\n          <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4\">\n            <div className=\"flex gap-3\">\n              <span className=\"text-2xl\">üí°</span>\n              <div>\n                <p className=\"text-sm font-semibold text-yellow-900 dark:text-yellow-100 mb-1\">\n                  Did you know?\n                </p>\n                <p className=\"text-sm text-yellow-800 dark:text-yellow-200\">\n                  We're analyzing over 100 different data points to create content that truly connects with your audience.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  );\n}\n","/**\n * Content Enhancements Component\n *\n * Provides UI for:\n * - Character count validation\n * - Section regeneration\n * - A/B variant generation\n * - Contrarian angle detection\n *\n * Created: 2025-11-11\n */\n\nimport React, { useState } from 'react';\nimport { RefreshCw, Sparkles, TrendingUp, Copy } from 'lucide-react';\nimport { CharacterCountBadge } from './CharacterCountBadge';\nimport { SynapseContentGenerator } from '@/services/synapse/generation/SynapseContentGenerator';\nimport type {\n  SynapseContent,\n  BusinessProfile,\n  ContentSection,\n  RegenerationResult,\n  ABTestGroup\n} from '@/types/synapseContent.types';\nimport type { BreakthroughInsight } from '@/types/breakthrough.types';\n\ninterface ContentEnhancementsProps {\n  content: SynapseContent;\n  business: BusinessProfile;\n  insight: BreakthroughInsight;\n  onContentUpdate: (updated: SynapseContent) => void;\n}\n\nexport function ContentEnhancements({\n  content,\n  business,\n  insight,\n  onContentUpdate\n}: ContentEnhancementsProps) {\n  const [regenerating, setRegenerating] = useState<ContentSection | null>(null);\n  const [regenerationResults, setRegenerationResults] = useState<Record<ContentSection, RegenerationResult>>({} as any);\n  const [generatingVariants, setGeneratingVariants] = useState(false);\n  const [variants, setVariants] = useState<ABTestGroup | null>(null);\n\n  const generator = new SynapseContentGenerator();\n\n  // Validate character counts\n  const validation = generator.validateContent(content, ['linkedin', 'twitter']);\n  const charCounts = generator.getCharacterSummary(content);\n\n  // Handle section regeneration\n  const handleRegenerate = async (section: ContentSection) => {\n    setRegenerating(section);\n    try {\n      const result = await generator.regenerateSection(content, section, business, insight);\n      setRegenerationResults(prev => ({ ...prev, [section]: result }));\n    } catch (error) {\n      console.error('Regeneration error:', error);\n      alert('Failed to regenerate section');\n    } finally {\n      setRegenerating(null);\n    }\n  };\n\n  // Apply regenerated section\n  const applyRegeneration = (section: ContentSection, optionIndex: number) => {\n    const result = regenerationResults[section];\n    if (!result) return;\n\n    const updated = generator.applyRegeneration(content, result, optionIndex);\n    onContentUpdate(updated);\n\n    // Clear the regeneration results for this section\n    setRegenerationResults(prev => {\n      const next = { ...prev };\n      delete next[section];\n      return next;\n    });\n  };\n\n  // Generate A/B variants\n  const handleGenerateVariants = async () => {\n    setGeneratingVariants(true);\n    try {\n      const result = await generator.generateVariants(content, business);\n      setVariants(result);\n    } catch (error) {\n      console.error('Variant generation error:', error);\n      alert('Failed to generate variants');\n    } finally {\n      setGeneratingVariants(false);\n    }\n  };\n\n  // Copy content to clipboard\n  const copyToClipboard = (text: string) => {\n    navigator.clipboard.writeText(text);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Character Count Summary */}\n      <div className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-900 rounded-lg\">\n        <div className=\"text-sm font-medium text-gray-700 dark:text-slate-300\">\n          Character Counts\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-xs text-gray-500 dark:text-slate-400\">\n            Total: {charCounts.total}\n          </span>\n          {validation.overallStatus !== 'valid' && (\n            <span className={`text-xs font-medium ${\n              validation.overallStatus === 'error'\n                ? 'text-red-600 dark:text-red-400'\n                : 'text-yellow-600 dark:text-yellow-400'\n            }`}>\n              {validation.overallStatus === 'error' ? '‚ö†Ô∏è Has Errors' : '‚ö†Ô∏è Has Warnings'}\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Section Regeneration */}\n      <div className=\"space-y-3\">\n        {(['headline', 'hook', 'body', 'cta'] as ContentSection[]).map((section) => {\n          const result = regenerationResults[section];\n          const sectionValidation = validation.validations.find(v => v.section === section && v.platform === 'linkedin');\n\n          return (\n            <div key={section} className=\"border border-gray-200 dark:border-slate-700 rounded-lg p-3\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 capitalize\">\n                    {section}\n                  </span>\n                  {sectionValidation && (\n                    <CharacterCountBadge validation={sectionValidation} compact />\n                  )}\n                </div>\n                <button\n                  onClick={() => handleRegenerate(section)}\n                  disabled={regenerating === section}\n                  className=\"flex items-center gap-1 px-2 py-1 text-xs font-medium text-purple-600 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded transition-colors disabled:opacity-50\"\n                >\n                  <RefreshCw className={`w-3 h-3 ${regenerating === section ? 'animate-spin' : ''}`} />\n                  {regenerating === section ? 'Regenerating...' : 'Regenerate'}\n                </button>\n              </div>\n\n              {/* Regeneration Options */}\n              {result && (\n                <div className=\"mt-3 space-y-2 p-2 bg-purple-50 dark:bg-purple-900/20 rounded\">\n                  <div className=\"text-xs font-medium text-purple-700 dark:text-purple-300 mb-2\">\n                    Choose a variation:\n                  </div>\n                  {result.regenerated.map((option, index) => (\n                    <div\n                      key={index}\n                      className=\"flex items-start gap-2 p-2 bg-white dark:bg-slate-800 rounded border border-purple-200 dark:border-purple-700 hover:border-purple-400 dark:hover:border-purple-500 cursor-pointer transition-colors\"\n                      onClick={() => applyRegeneration(section, index)}\n                    >\n                      <span className=\"flex-shrink-0 text-xs font-bold text-purple-600 dark:text-purple-400\">\n                        {index + 1}.\n                      </span>\n                      <span className=\"text-xs text-gray-700 dark:text-slate-300 flex-1\">\n                        {option.length > 150 ? option.substring(0, 150) + '...' : option}\n                      </span>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          copyToClipboard(option);\n                        }}\n                        className=\"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n                      >\n                        <Copy className=\"w-3 h-3\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* A/B Variant Generation */}\n      <div className=\"border-t border-gray-200 dark:border-slate-700 pt-4 mt-4\">\n        <button\n          onClick={handleGenerateVariants}\n          disabled={generatingVariants}\n          className=\"w-full flex items-center justify-center gap-2 px-4 py-3 text-white font-semibold rounded-lg transition-all disabled:opacity-50 shadow-lg\"\n          style={{\n            background: generatingVariants\n              ? 'linear-gradient(to right, #2563eb, #9333ea)'\n              : 'linear-gradient(to right, #3b82f6, #a855f7)',\n            minHeight: '48px'\n          }}\n        >\n          {generatingVariants ? (\n            <>\n              <RefreshCw className=\"w-4 h-4 animate-spin\" />\n              Generating Variants...\n            </>\n          ) : (\n            <>\n              <TrendingUp className=\"w-4 h-4\" />\n              Generate A/B Test Variants\n            </>\n          )}\n        </button>\n\n        {/* Variant Display */}\n        {variants && (\n          <div className=\"mt-4 space-y-3\">\n            <div className=\"text-sm font-semibold text-gray-700 dark:text-slate-300\">\n              A/B Test Variants ({variants.variants.length})\n            </div>\n            <div className=\"text-xs text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 p-2 rounded\">\n              üí° {variants.recommendedTest}\n            </div>\n            {variants.variants.map((variant) => (\n              <div\n                key={variant.id}\n                className=\"p-3 border border-blue-200 dark:border-blue-800 rounded-lg bg-blue-50 dark:bg-blue-900/10\"\n              >\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-sm font-bold text-blue-700 dark:text-blue-300\">\n                    Variant {variant.variantLetter} - {variant.strategy.toUpperCase()}\n                  </span>\n                  <button\n                    onClick={() => onContentUpdate(variant.content)}\n                    className=\"text-xs px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\"\n                  >\n                    Apply\n                  </button>\n                </div>\n                <div className=\"text-xs text-gray-600 dark:text-slate-400 space-y-1\">\n                  {variant.differenceFromOriginal.map((diff, idx) => (\n                    <div key={idx}>‚Ä¢ {diff}</div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","/**\n * MARBA SYNAPSE - BREAKTHROUGH CONTENT ENGINE\n *\n * The complete synapse system with real intelligence integration.\n * This page provides the full demo with all features:\n * - Auto-location detection from URL\n * - Smart industry selection (300+ NAICS codes)\n * - Real data from 14+ intelligence sources (Serper 8 endpoints, Website Analyzer, YouTube, Perplexity, OutScraper, Weather, SEMrush)\n * - Connection discovery via OpenAI embeddings\n * - Multi-format content generation\n * - Psychological optimization\n * - Humor enhancement with edginess control\n * - Provenance tracking\n * - Performance timing tracking\n *\n * Created: 2025-11-13\n * Updated: 2025-11-15 (Added timer, disabled NewsAPI/Reddit)\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { Loader2, Sparkles, AlertCircle, CheckCircle, Copy, Link as LinkIcon, X, Plus } from 'lucide-react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { SynapseLoadingScreen } from '@/components/synapse/SynapseLoadingScreen';\nimport { Badge } from '@/components/ui/badge';\nimport { IndustrySelector } from '@/components/onboarding-v5/IndustrySelector';\nimport { locationDetectionService } from '@/services/intelligence/location-detection.service';\nimport { deepContextBuilder } from '@/services/intelligence/deepcontext-builder.service';\nimport { generateSynapses } from '@/services/synapse/SynapseGenerator';\nimport { SynapseContentGenerator } from '@/services/synapse/generation/SynapseContentGenerator';\nimport { ProvenanceViewer } from '@/components/synapse/ProvenanceViewer';\nimport { EdginessSlider } from '@/components/synapse/EdginessSlider';\nimport { ContentEnhancements } from '@/components/synapse/ContentEnhancements';\nimport { HumorOptimizer } from '@/services/synapse/generation/HumorOptimizer';\nimport type { SynapseInsight } from '@/types/synapse.types';\nimport type { SynapseContent, HumorEnhancementResult, EdginessLevel, Platform, ContentGoal } from '@/types/synapseContent.types';\n\nexport function SynapsePage() {\n  // Form inputs\n  const [testUrl, setTestUrl] = useState('');\n  const [selectedIndustry, setSelectedIndustry] = useState<any>(null);\n  const [detectedLocation, setDetectedLocation] = useState<any>(null); // Full LocationResult with allLocations\n  const [selectedLocations, setSelectedLocations] = useState<Array<{ city: string; state: string }>>([]); // User's choices (multiple)\n  const [manualLocationCity, setManualLocationCity] = useState('');\n  const [manualLocationState, setManualLocationState] = useState('');\n  const [selectedPlatforms, setSelectedPlatforms] = useState<Platform[]>(['linkedin', 'facebook']); // Default platforms\n  const [viewingPlatform, setViewingPlatform] = useState<Platform>('linkedin'); // Platform currently being viewed in results\n\n  // State\n  const [loading, setLoading] = useState(false);\n  const [detectingLocation, setDetectingLocation] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [results, setResults] = useState<SynapseInsight[] | null>(null);\n  const [generatedContent, setGeneratedContent] = useState<SynapseContent[] | null>(null);\n\n  // Timer state\n  const [timings, setTimings] = useState<{\n    total: number;\n    intelligence: number;\n    synapse: number;\n    content: number;\n  } | null>(null);\n  const [runStartTime, setRunStartTime] = useState<number | null>(null);\n\n  // Humor enhancement state\n  const [humorEnhancements, setHumorEnhancements] = useState<Record<string, HumorEnhancementResult>>({});\n  const [edginessLevels, setEdginessLevels] = useState<Record<string, EdginessLevel>>({});\n  const [enhancingContent, setEnhancingContent] = useState<string | null>(null);\n\n  /**\n   * Toggle location selection\n   */\n  const toggleLocationSelection = (location: { city: string; state: string }) => {\n    setSelectedLocations(prev => {\n      const isSelected = prev.some(loc => loc.city === location.city && loc.state === location.state);\n      if (isSelected) {\n        return prev.filter(loc => !(loc.city === location.city && loc.state === location.state));\n      } else {\n        return [...prev, location];\n      }\n    });\n  };\n\n  /**\n   * Toggle select all locations\n   */\n  const toggleSelectAll = () => {\n    if (!detectedLocation?.allLocations) return;\n\n    const allSelected = selectedLocations.length === detectedLocation.allLocations.length;\n    if (allSelected) {\n      setSelectedLocations([]);\n    } else {\n      setSelectedLocations([...detectedLocation.allLocations]);\n    }\n  };\n\n  /**\n   * Check if location is selected\n   */\n  const isLocationSelected = (location: { city: string; state: string }) => {\n    return selectedLocations.some(loc => loc.city === location.city && loc.state === location.state);\n  };\n\n  /**\n   * Add manual location\n   */\n  const addManualLocation = () => {\n    if (!manualLocationCity.trim() || !manualLocationState.trim()) {\n      alert('Please enter both city and state');\n      return;\n    }\n\n    const newLocation = {\n      city: manualLocationCity.trim(),\n      state: manualLocationState.trim().toUpperCase()\n    };\n\n    // Check if already exists\n    if (selectedLocations.some(loc => loc.city === newLocation.city && loc.state === newLocation.state)) {\n      alert('This location is already in the list');\n      return;\n    }\n\n    setSelectedLocations([...selectedLocations, newLocation]);\n    setManualLocationCity('');\n    setManualLocationState('');\n  };\n\n  /**\n   * Remove location\n   */\n  const removeLocation = (location: { city: string; state: string }) => {\n    setSelectedLocations(prev => prev.filter(loc => !(loc.city === location.city && loc.state === location.state)));\n  };\n\n  /**\n   * Update URL immediately without triggering detection\n   */\n  const handleUrlChange = (url: string) => {\n    setTestUrl(url);\n    if (url.length < 10) {\n      setDetectedLocation(null);\n      setSelectedLocations([]);\n    }\n  };\n\n  /**\n   * Debounced location detection - runs 800ms after user stops typing\n   */\n  useEffect(() => {\n    if (testUrl.length < 10) return;\n\n    const timeoutId = setTimeout(async () => {\n      setDetectingLocation(true);\n      try {\n        const location = await locationDetectionService.detectLocation(\n          testUrl,\n          selectedIndustry?.displayName\n        );\n\n        if (location && location.confidence > 0.5) {\n          setDetectedLocation(location); // Store full result\n          // Auto-select all locations by default\n          if (!location.hasMultipleLocations) {\n            setSelectedLocations([{\n              city: location.city,\n              state: location.state\n            }]);\n          } else {\n            // Select all locations by default\n            setSelectedLocations(location.allLocations || [{\n              city: location.city,\n              state: location.state\n            }]);\n          }\n          console.log('[Synapse] Auto-detected location:', location);\n        } else {\n          console.log('[Synapse] Location detection returned no results (CORS blocked or not found)');\n        }\n      } catch (error) {\n        console.error('[Synapse] Location detection failed:', error);\n      } finally {\n        setDetectingLocation(false);\n      }\n    }, 800); // 800ms debounce\n\n    // Cleanup function - cancel timeout if user keeps typing\n    return () => clearTimeout(timeoutId);\n  }, [testUrl, selectedIndustry]);\n\n  /**\n   * Run complete Synapse discovery with REAL intelligence\n   */\n  const runSynapseDiscovery = async () => {\n    if (!testUrl || !selectedIndustry) {\n      alert('Please enter a URL and select an industry');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n    setResults(null);\n    setGeneratedContent(null);\n    setTimings(null);\n\n    // Start timer\n    const startTime = Date.now();\n    setRunStartTime(startTime);\n\n    try {\n      console.log('[Synapse] Starting breakthrough content discovery...');\n      console.log('[Synapse] URL:', testUrl);\n      console.log('[Synapse] Industry:', selectedIndustry.displayName);\n      console.log('[Synapse] Selected Locations:', selectedLocations);\n      console.log('[Synapse] Target Platforms:', selectedPlatforms);\n\n      // Use first selected location for demo (full multi-location support coming soon)\n      const primaryLocation = selectedLocations[0] || { city: 'New York', state: 'NY' };\n\n      // Step 1: Build DeepContext with ALL intelligence sources\n      console.log('[Synapse] Step 1/4: Gathering intelligence from 16+ sources...');\n      const intelligenceStartTime = Date.now();\n\n      // Create synthetic brand data for demo mode (no database lookup required)\n      // Normalize URL to ensure it has https:// protocol\n      const normalizedUrl = testUrl.match(/^https?:\\/\\//i) ? testUrl : `https://${testUrl}`;\n\n      const syntheticBrand = {\n        id: 'demo',\n        name: new URL(normalizedUrl).hostname.split('.')[0] || 'Demo Business',\n        website: normalizedUrl,\n        industry: selectedIndustry.displayName,\n        location: {\n          city: primaryLocation.city,\n          state: primaryLocation.state\n        },\n        keywords: selectedIndustry.keywords || [selectedIndustry.displayName],\n        description: `${selectedIndustry.displayName} business in ${primaryLocation.city}, ${primaryLocation.state}`,\n        created_at: new Date().toISOString()\n      };\n\n      const deepContextResult = await deepContextBuilder.buildDeepContext({\n        brandId: 'demo',\n        brandData: syntheticBrand, // Pass brand data directly (demo mode, no database lookup)\n        includeYouTube: true,\n        includeOutScraper: true,\n        includeNews: false, // DISABLED: NewsAPI.ai has insufficient data coverage\n        includeWeather: true,\n        includeSerper: true, // Now uses all 8 Serper endpoints (Search, News, Trends, Autocomplete, Places, Images, Videos, Shopping)\n        includeSemrush: true,\n        includeWebsiteAnalysis: true, // NEW: Claude AI-powered website messaging extraction\n        includeReddit: false, // DISABLED: OAuth errors, not critical\n        includePerplexity: true, // NEW: Perplexity local event intelligence\n        cacheResults: true,\n        forceFresh: true // ALWAYS gather fresh intelligence to understand customer offerings and specialization\n      });\n\n      const intelligenceEndTime = Date.now();\n      const intelligenceTime = Math.round((intelligenceEndTime - intelligenceStartTime) / 1000);\n\n      console.log('[Synapse] ‚úÖ Intelligence gathered:', {\n        dataPoints: deepContextResult.metadata.dataPointsCollected,\n        sources: deepContextResult.metadata.dataSourcesUsed,\n        buildTime: `${deepContextResult.metadata.buildTimeMs}ms`,\n        totalTime: `${intelligenceTime}s`\n      });\n\n      // Step 2: Pass FULL DeepContext to Synapse Generator (includes website analysis!)\n      console.log('[Synapse] Step 2/4: Discovering breakthrough connections...');\n      console.log('[Synapse] Passing DeepContext with', deepContextResult.metadata.dataPointsCollected, 'data points');\n      const synapseStartTime = Date.now();\n\n      const synapseResult = await generateSynapses({\n        business: {\n          name: new URL(normalizedUrl).hostname.split('.')[0] || 'Business',\n          industry: selectedIndustry.displayName,\n          location: {\n            city: selectedLocations[0]?.city || 'New York',\n            state: selectedLocations[0]?.state || 'NY'\n          }\n        },\n        intelligence: deepContextResult.context // PASS THE FULL DEEPCONTEXT!\n        // detailedDataPoints is optional - not available on metadata type\n      });\n\n      const synapseEndTime = Date.now();\n      const synapseTime = Math.round((synapseEndTime - synapseStartTime) / 1000);\n\n      console.log('[Synapse] ‚úÖ Synapses discovered:', synapseResult.synapses.length, `(${synapseTime}s)`);\n      setResults(synapseResult.synapses);\n\n      // Step 4: Generate content from breakthrough insights\n      if (synapseResult.synapses.length > 0) {\n        console.log('[Synapse] Step 3/4: Generating breakthrough content...');\n        const contentStartTime = Date.now();\n        const contentGenerator = new SynapseContentGenerator();\n\n        const businessProfile = {\n          name: new URL(normalizedUrl).hostname.split('.')[0] || 'Business',\n          industry: selectedIndustry.displayName,\n          targetAudience: selectedLocations.length > 1\n            ? `${selectedIndustry.displayName} customers in ${selectedLocations.length} locations`\n            : `${selectedIndustry.displayName} customers in ${selectedLocations[0]?.city || 'the area'}`,\n          brandVoice: 'professional' as const,\n          contentGoals: ['engagement', 'lead-generation', 'thought-leadership'] as ContentGoal[]\n        };\n\n        // Generate content for ALL selected platforms\n        const contentResult = await contentGenerator.generate(\n          synapseResult.synapses,\n          businessProfile,\n          {\n            maxContent: 15,\n            multiFormat: false,\n            minImpactScore: 0.6,\n            channel: 'all',\n            platform: (selectedPlatforms[0] === 'tiktok' || selectedPlatforms[0] === 'youtube'\n              ? 'generic'\n              : selectedPlatforms[0] || 'linkedin') as 'linkedin' | 'twitter' | 'instagram' | 'facebook' | 'generic',\n            useFrameworks: true\n          }\n        );\n\n        const contentEndTime = Date.now();\n        const contentTime = Math.round((contentEndTime - contentStartTime) / 1000);\n\n        console.log('[Synapse] ‚úÖ Content generated:', contentResult.content.length, `pieces (${contentTime}s)`);\n        setGeneratedContent(contentResult.content);\n\n        // Set final timings\n        const totalTime = Math.round((Date.now() - startTime) / 1000);\n        setTimings({\n          intelligence: intelligenceTime,\n          synapse: synapseTime,\n          content: contentTime,\n          total: totalTime\n        });\n        console.log('[Synapse] ‚è±Ô∏è Timing breakdown:', {\n          intelligence: `${intelligenceTime}s`,\n          synapse: `${synapseTime}s`,\n          content: `${contentTime}s`,\n          total: `${totalTime}s`\n        });\n      } else {\n        // No synapses generated, set partial timings\n        const totalTime = Math.round((Date.now() - startTime) / 1000);\n        setTimings({\n          intelligence: intelligenceTime,\n          synapse: synapseTime,\n          content: 0,\n          total: totalTime\n        });\n      }\n\n      console.log('[Synapse] üéâ Discovery complete!');\n      setLoading(false);\n\n    } catch (err) {\n      console.error('[Synapse] Discovery failed:', err);\n      console.error('[Synapse] Error stack:', err instanceof Error ? err.stack : 'No stack trace');\n      console.error('[Synapse] Error details:', JSON.stringify(err, Object.getOwnPropertyNames(err), 2));\n      setError(err instanceof Error ? err.message : 'Unknown error occurred');\n      setLoading(false);\n    }\n  };\n\n  /**\n   * Add humor to content\n   */\n  const handleAddHumor = async (content: SynapseContent) => {\n    try {\n      setEnhancingContent(content.id);\n\n      const edginess = edginessLevels[content.id] || 50;\n      const optimizer = new HumorOptimizer();\n\n      const normalizedUrl = testUrl.match(/^https?:\\/\\//i) ? testUrl : `https://${testUrl}`;\n      const businessProfile = {\n        name: new URL(normalizedUrl).hostname.split('.')[0] || 'Business',\n        industry: selectedIndustry?.displayName || 'General',\n        targetAudience: `${selectedIndustry?.displayName} customers`,\n        brandVoice: 'professional' as const,\n        contentGoals: ['engagement'] as ContentGoal[]\n      };\n\n      const result = await optimizer.enhance(content, businessProfile, edginess);\n\n      setHumorEnhancements(prev => ({\n        ...prev,\n        [content.id]: result\n      }));\n\n      console.log('[Synapse] Humor enhancement complete:', result);\n    } catch (err) {\n      console.error('[Synapse] Humor enhancement error:', err);\n      alert(`Failed to add humor: ${err instanceof Error ? err.message : 'Unknown error'}`);\n    } finally {\n      setEnhancingContent(null);\n    }\n  };\n\n  // Show loading screen during analysis\n  if (loading) {\n    return <SynapseLoadingScreen contentCount={15} platformCount={selectedPlatforms.length} />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 py-8 px-4\">\n      <div className=\"max-w-6xl mx-auto space-y-8\">\n        {/* Header */}\n        <div className=\"text-center space-y-4\">\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-2\"\n          >\n            <h1 className=\"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n              üß† MARBA Synapse\n            </h1>\n            <p className=\"text-lg text-gray-600 dark:text-slate-400\">\n              Breakthrough Content Discovery with 14+ Intelligence Sources\n            </p>\n            <p className=\"text-sm text-gray-500 dark:text-slate-500\">\n              Serper 8x ‚Ä¢ Website AI ‚Ä¢ YouTube ‚Ä¢ Perplexity ‚Ä¢ OutScraper ‚Ä¢ Weather ‚Ä¢ SEMrush\n            </p>\n          </motion.div>\n        </div>\n\n        {/* Input Form */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg space-y-6\"\n        >\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\n            Business Information\n          </h2>\n\n          <div className=\"space-y-4\">\n            {/* URL Input */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2\">\n                Website URL\n              </label>\n              <div className=\"relative\">\n                <Input\n                  type=\"url\"\n                  value={testUrl}\n                  onChange={(e) => handleUrlChange(e.target.value)}\n                  placeholder=\"https://www.yourwebsite.com\"\n                  className=\"w-full h-12 text-lg pl-10\"\n                />\n                <LinkIcon className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                {detectingLocation && (\n                  <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-600 animate-spin\" />\n                )}\n              </div>\n            </div>\n\n            {/* Industry Selector */}\n            <div>\n              <IndustrySelector\n                websiteUrl={testUrl}\n                onIndustrySelected={(industry) => {\n                  console.log('[Synapse] Industry selected:', industry);\n                  setSelectedIndustry(industry);\n                }}\n                className=\"w-full\"\n              />\n            </div>\n\n            {/* Location Display - Auto-detected + Manual */}\n            {(detectedLocation || selectedLocations.length > 0 || testUrl.length >= 10) && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.95 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg space-y-4\"\n              >\n                {/* Detection failed - Manual entry required */}\n                {!detectedLocation && !detectingLocation && testUrl.length >= 10 && selectedLocations.length === 0 && (\n                  <div className=\"flex items-start gap-2\">\n                    <AlertCircle className=\"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5\" />\n                    <div className=\"text-sm\">\n                      <span className=\"font-semibold text-yellow-900 dark:text-yellow-100\">\n                        Could not auto-detect location\n                      </span>\n                      <p className=\"text-yellow-700 dark:text-yellow-300 mt-1\">\n                        Please manually enter the business location(s) below\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Auto-detected locations */}\n                {detectedLocation && detectedLocation.hasMultipleLocations && (\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-2\">\n                        <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n                        <span className=\"text-sm font-semibold text-green-900 dark:text-green-100\">\n                          Multiple Locations Detected\n                        </span>\n                        <span className=\"text-xs text-green-700 dark:text-green-300\">\n                          ({selectedLocations.length} of {detectedLocation.allLocations?.length || 0} selected)\n                        </span>\n                      </div>\n                      <button\n                        onClick={toggleSelectAll}\n                        className=\"text-xs font-medium text-green-700 dark:text-green-300 hover:text-green-900 dark:hover:text-green-100 underline\"\n                      >\n                        {selectedLocations.length === detectedLocation.allLocations?.length ? 'Deselect All' : 'Select All'}\n                      </button>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {detectedLocation.allLocations?.map((loc: any, idx: number) => (\n                        <label\n                          key={idx}\n                          className=\"flex items-center gap-3 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-green-500 dark:hover:border-green-500 transition-all\"\n                        >\n                          <input\n                            type=\"checkbox\"\n                            checked={isLocationSelected(loc)}\n                            onChange={() => toggleLocationSelection(loc)}\n                            className=\"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500\"\n                          />\n                          <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300 flex-1\">\n                            {loc.city ? `${loc.city}, ${loc.state}` : loc.state}\n                          </span>\n                          <button\n                            onClick={(e) => { e.preventDefault(); removeLocation(loc); }}\n                            className=\"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors\"\n                            title=\"Remove location\"\n                          >\n                            <X className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\n                          </button>\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Single auto-detected location */}\n                {detectedLocation && !detectedLocation.hasMultipleLocations && (\n                  <div className=\"flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg\">\n                    <div className=\"flex items-center gap-2\">\n                      <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n                      <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        {detectedLocation.city ? `${detectedLocation.city}, ${detectedLocation.state}` : detectedLocation.state}\n                      </span>\n                    </div>\n                    <button\n                      onClick={() => removeLocation({ city: detectedLocation.city || '', state: detectedLocation.state })}\n                      className=\"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors\"\n                      title=\"Remove location\"\n                    >\n                      <X className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\n                    </button>\n                  </div>\n                )}\n\n                {/* Manual location entry */}\n                <div className=\"space-y-2 pt-2 border-t border-green-200 dark:border-green-800\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <Plus className=\"w-4 h-4 text-green-700 dark:text-green-300\" />\n                    <span className=\"text-sm font-medium text-green-900 dark:text-green-100\">\n                      Add Location Manually\n                    </span>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"City (e.g., Dallas)\"\n                      value={manualLocationCity}\n                      onChange={(e) => setManualLocationCity(e.target.value)}\n                      className=\"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\"\n                      onKeyPress={(e) => e.key === 'Enter' && addManualLocation()}\n                    />\n                    <input\n                      type=\"text\"\n                      placeholder=\"State (e.g., TX)\"\n                      value={manualLocationState}\n                      onChange={(e) => setManualLocationState(e.target.value)}\n                      maxLength={2}\n                      className=\"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 uppercase\"\n                      onKeyPress={(e) => e.key === 'Enter' && addManualLocation()}\n                    />\n                    <button\n                      onClick={addManualLocation}\n                      className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors\"\n                    >\n                      Add\n                    </button>\n                  </div>\n                </div>\n\n                {/* Show selected locations list if any exist */}\n                {selectedLocations.length > 0 && !detectedLocation?.hasMultipleLocations && (\n                  <div className=\"space-y-2\">\n                    <span className=\"text-sm font-medium text-green-900 dark:text-green-100\">\n                      Selected Locations ({selectedLocations.length}):\n                    </span>\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {selectedLocations.map((loc, idx) => (\n                        <div\n                          key={idx}\n                          className=\"flex items-center justify-between px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg\"\n                        >\n                          <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                            {loc.city ? `${loc.city}, ${loc.state}` : loc.state}\n                          </span>\n                          <button\n                            onClick={() => removeLocation(loc)}\n                            className=\"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors\"\n                            title=\"Remove location\"\n                          >\n                            <X className=\"w-4 h-4 text-red-600 dark:text-red-400\" />\n                          </button>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </motion.div>\n            )}\n\n            {/* Platform Selector */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-3\">\n                Target Platforms\n                <span className=\"ml-2 text-xs text-gray-500 dark:text-slate-400\">(Select at least one)</span>\n              </label>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {(['linkedin', 'facebook', 'instagram', 'x', 'tiktok', 'youtube'] as Platform[]).map((platform) => {\n                  const isSelected = selectedPlatforms.includes(platform);\n                  const platformConfig = {\n                    linkedin: {\n                      icon: (\n                        <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\n                        </svg>\n                      ),\n                      label: 'LinkedIn',\n                      color: 'blue'\n                    },\n                    facebook: {\n                      icon: (\n                        <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                        </svg>\n                      ),\n                      label: 'Facebook',\n                      color: 'indigo'\n                    },\n                    instagram: {\n                      icon: (\n                        <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z\"/>\n                        </svg>\n                      ),\n                      label: 'Instagram',\n                      color: 'pink'\n                    },\n                    x: {\n                      icon: (\n                        <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n                        </svg>\n                      ),\n                      label: 'X',\n                      color: 'slate'\n                    },\n                    tiktok: {\n                      icon: (\n                        <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\"/>\n                        </svg>\n                      ),\n                      label: 'TikTok',\n                      color: 'purple'\n                    },\n                    youtube: {\n                      icon: (\n                        <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/>\n                        </svg>\n                      ),\n                      label: 'YouTube',\n                      color: 'red'\n                    }\n                  }[platform];\n\n                  return (\n                    <button\n                      key={platform}\n                      type=\"button\"\n                      onClick={() => {\n                        setSelectedPlatforms(prev =>\n                          prev.includes(platform)\n                            ? prev.filter(p => p !== platform)\n                            : [...prev, platform]\n                        );\n                      }}\n                      className={`\n                        px-4 py-3 rounded-lg border-2 font-medium text-sm transition-all flex flex-col items-center gap-2\n                        ${isSelected\n                          ? `border-${platformConfig.color}-500 bg-${platformConfig.color}-50 dark:bg-${platformConfig.color}-900/20 text-${platformConfig.color}-700 dark:text-${platformConfig.color}-300`\n                          : 'border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500'\n                        }\n                      `}\n                    >\n                      {platformConfig.icon}\n                      {platformConfig.label}\n                    </button>\n                  );\n                })}\n              </div>\n              {selectedPlatforms.length === 0 && (\n                <p className=\"text-xs text-red-600 dark:text-red-400 mt-2\">\n                  ‚ö†Ô∏è Please select at least one platform to generate optimized content\n                </p>\n              )}\n            </div>\n\n            {/* Run Button */}\n            <Button\n              onClick={runSynapseDiscovery}\n              disabled={loading || !testUrl || !selectedIndustry || selectedPlatforms.length === 0}\n              size=\"lg\"\n              className=\"w-full h-14 text-lg bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 mr-2 animate-spin\" />\n                  Discovering Breakthroughs...\n                </>\n              ) : (\n                <>\n                  <Sparkles className=\"w-5 h-5 mr-2\" />\n                  Run Synapse Discovery\n                </>\n              )}\n            </Button>\n          </div>\n        </motion.div>\n\n        {/* Timer Display */}\n        {timings && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6\"\n          >\n            <div className=\"flex items-center gap-3 mb-4\">\n              <div className=\"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center\">\n                <span className=\"text-2xl\">‚è±Ô∏è</span>\n              </div>\n              <div>\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-white\">\n                  Run Time: {timings.total}s\n                </h3>\n                <p className=\"text-sm text-gray-600 dark:text-slate-400\">\n                  Performance breakdown\n                </p>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"bg-white dark:bg-slate-800 rounded-lg p-4 border border-gray-200 dark:border-slate-700\">\n                <div className=\"text-xs font-medium text-gray-500 dark:text-slate-400 mb-1\">\n                  Intelligence Gathering\n                </div>\n                <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\n                  {timings.intelligence}s\n                </div>\n                <div className=\"text-xs text-gray-500 dark:text-slate-400 mt-1\">\n                  {Math.round((timings.intelligence / timings.total) * 100)}% of total\n                </div>\n              </div>\n\n              <div className=\"bg-white dark:bg-slate-800 rounded-lg p-4 border border-gray-200 dark:border-slate-700\">\n                <div className=\"text-xs font-medium text-gray-500 dark:text-slate-400 mb-1\">\n                  Synapse Discovery\n                </div>\n                <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\n                  {timings.synapse}s\n                </div>\n                <div className=\"text-xs text-gray-500 dark:text-slate-400 mt-1\">\n                  {Math.round((timings.synapse / timings.total) * 100)}% of total\n                </div>\n              </div>\n\n              <div className=\"bg-white dark:bg-slate-800 rounded-lg p-4 border border-gray-200 dark:border-slate-700\">\n                <div className=\"text-xs font-medium text-gray-500 dark:text-slate-400 mb-1\">\n                  Content Generation\n                </div>\n                <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\n                  {timings.content}s\n                </div>\n                <div className=\"text-xs text-gray-500 dark:text-slate-400 mt-1\">\n                  {timings.content > 0 ? Math.round((timings.content / timings.total) * 100) : 0}% of total\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Error Display */}\n        {error && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6\"\n          >\n            <div className=\"flex items-start gap-3\">\n              <AlertCircle className=\"w-6 h-6 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5\" />\n              <div>\n                <h3 className=\"text-lg font-semibold text-red-900 dark:text-red-200 mb-2\">\n                  Discovery Failed\n                </h3>\n                <p className=\"text-red-700 dark:text-red-300\">{error}</p>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Synapse Insights Display */}\n        {results && results.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-4\"\n          >\n            <div className=\"flex items-center gap-3 mb-4\">\n              <CheckCircle className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                Breakthrough Insights ({results.length})\n              </h2>\n            </div>\n\n            <div className=\"grid gap-4\">\n              {results.map((result, index) => (\n                <motion.div\n                  key={result.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className=\"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border-2 border-purple-200 dark:border-purple-800\"\n                >\n                  <div className=\"space-y-4\">\n                    {/* Confidence Badge */}\n                    <div className=\"flex items-center justify-between\">\n                      <Badge className=\"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300\">\n                        {result.thinkingStyle.toUpperCase()}\n                      </Badge>\n                      <span className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                        {Math.round(result.confidence * 100)}%\n                      </span>\n                    </div>\n\n                    {/* Insight Content */}\n                    <div>\n                      <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                        {result.insight}\n                      </h3>\n                      <p className=\"text-gray-600 dark:text-slate-400\">\n                        {result.whyProfound}\n                      </p>\n                    </div>\n\n                    {/* Why Now */}\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 mb-1\">\n                        Why Now\n                      </h4>\n                      <p className=\"text-sm text-gray-600 dark:text-slate-400\">\n                        {result.whyNow}\n                      </p>\n                    </div>\n\n                    {/* Content Angle */}\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 mb-1\">\n                        Content Angle\n                      </h4>\n                      <p className=\"text-sm text-gray-600 dark:text-slate-400\">\n                        {result.contentAngle}\n                      </p>\n                    </div>\n\n                    {/* Expected Reaction */}\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 mb-1\">\n                        Expected Reaction\n                      </h4>\n                      <p className=\"text-sm text-gray-600 dark:text-slate-400\">\n                        {result.expectedReaction}\n                      </p>\n                    </div>\n\n                    {/* Evidence */}\n                    {result.evidence && result.evidence.length > 0 && (\n                      <div className=\"pt-4 border-t border-gray-200 dark:border-slate-700\">\n                        <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 mb-2\">\n                          Evidence\n                        </h4>\n                        <ul className=\"list-disc list-inside space-y-1\">\n                          {result.evidence.map((ev, idx) => (\n                            <li key={idx} className=\"text-xs text-gray-600 dark:text-slate-400\">\n                              {ev}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </motion.div>\n        )}\n\n        {/* Generated Content Display */}\n        {generatedContent && generatedContent.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-4\"\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center gap-3\">\n                <Sparkles className=\"w-6 h-6 text-blue-600 dark:text-blue-400\" />\n                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                  Generated Content ({generatedContent.length} pieces)\n                </h2>\n              </div>\n\n              {/* Platform Switcher */}\n              <div className=\"flex gap-2\">\n                {(['linkedin', 'facebook', 'instagram', 'x', 'tiktok', 'youtube'] as Platform[]).map((platform) => {\n                  const platformConfig = {\n                    linkedin: {\n                      icon: (\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\n                        </svg>\n                      ),\n                      label: 'LinkedIn',\n                      color: 'blue'\n                    },\n                    facebook: {\n                      icon: (\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                        </svg>\n                      ),\n                      label: 'Facebook',\n                      color: 'indigo'\n                    },\n                    instagram: {\n                      icon: (\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/>\n                        </svg>\n                      ),\n                      label: 'Instagram',\n                      color: 'pink'\n                    },\n                    x: {\n                      icon: (\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n                        </svg>\n                      ),\n                      label: 'X',\n                      color: 'slate'\n                    },\n                    tiktok: {\n                      icon: (\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z\"/>\n                        </svg>\n                      ),\n                      label: 'TikTok',\n                      color: 'purple'\n                    },\n                    youtube: {\n                      icon: (\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/>\n                        </svg>\n                      ),\n                      label: 'YouTube',\n                      color: 'red'\n                    }\n                  }[platform];\n\n                  const isActive = viewingPlatform === platform;\n\n                  return (\n                    <button\n                      key={platform}\n                      onClick={() => setViewingPlatform(platform)}\n                      className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${\n                        isActive\n                          ? `bg-${platformConfig.color}-100 dark:bg-${platformConfig.color}-900/30 text-${platformConfig.color}-700 dark:text-${platformConfig.color}-300 border-2 border-${platformConfig.color}-500`\n                          : 'bg-gray-100 dark:bg-slate-800 text-gray-600 dark:text-slate-400 border-2 border-transparent hover:border-gray-300 dark:hover:border-slate-600'\n                      }`}\n                    >\n                      {platformConfig.icon}\n                      <span className=\"text-sm\">{platformConfig.label}</span>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div className=\"grid gap-6\">\n              {generatedContent.map((content) => (\n                <motion.div\n                  key={content.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className=\"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg border-2 border-blue-200 dark:border-blue-800\"\n                >\n                  <div className=\"space-y-4\">\n                    {/* Header: Format and Scores */}\n                    <div className=\"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-slate-700\">\n                      <div className=\"flex items-center gap-3 flex-wrap\">\n                        <Badge className=\"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300\">\n                          {content.format.toUpperCase()}\n                        </Badge>\n                        <span className=\"text-xs text-gray-500 dark:text-slate-400\">\n                          {content.meta.tone}\n                        </span>\n                        {/* Platform badges */}\n                        <div className=\"flex gap-2\">\n                          {selectedPlatforms.map((platform) => {\n                            const platformConfig = {\n                              linkedin: {\n                                icon: (\n                                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/>\n                                  </svg>\n                                ),\n                                label: 'LinkedIn'\n                              },\n                              facebook: {\n                                icon: (\n                                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\n                                  </svg>\n                                ),\n                                label: 'Facebook'\n                              },\n                              instagram: {\n                                icon: (\n                                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z\"/>\n                                  </svg>\n                                ),\n                                label: 'Instagram'\n                              },\n                              x: {\n                                icon: (\n                                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n                                  </svg>\n                                ),\n                                label: 'X'\n                              },\n                              tiktok: {\n                                icon: (\n                                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z\"/>\n                                  </svg>\n                                ),\n                                label: 'TikTok'\n                              },\n                              youtube: {\n                                icon: (\n                                  <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/>\n                                  </svg>\n                                ),\n                                label: 'YouTube'\n                              }\n                            }[platform];\n                            return (\n                              <Badge\n                                key={platform}\n                                variant=\"outline\"\n                                className=\"bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-800 flex items-center gap-1\"\n                              >\n                                {platformConfig.icon} {platformConfig.label}\n                              </Badge>\n                            );\n                          })}\n                        </div>\n                      </div>\n                      <div className=\"flex gap-4 text-sm\">\n                        <div className=\"text-center\">\n                          <div className=\"text-xs text-gray-500 dark:text-slate-400\">Engagement</div>\n                          <div className=\"font-bold text-green-600 dark:text-green-400\">\n                            {Math.round(content.prediction.engagementScore * 100)}%\n                          </div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-xs text-gray-500 dark:text-slate-400\">Viral</div>\n                          <div className=\"font-bold text-purple-600 dark:text-purple-400\">\n                            {Math.round(content.prediction.viralPotential * 100)}%\n                          </div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-xs text-gray-500 dark:text-slate-400\">Lead Gen</div>\n                          <div className=\"font-bold text-blue-600 dark:text-blue-400\">\n                            {Math.round(content.prediction.leadGeneration * 100)}%\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Content Body */}\n                    <div className=\"space-y-3\">\n                      {(() => {\n                        // Get platform-specific content or fall back to default\n                        const platformContent = (content as any).platformVariants?.[viewingPlatform] || content.content;\n\n                        // Debug logging\n                        console.log('[SynapsePage] Content object:', content);\n                        console.log('[SynapsePage] Viewing platform:', viewingPlatform);\n                        console.log('[SynapsePage] Platform variants:', (content as any).platformVariants);\n                        console.log('[SynapsePage] Platform content:', platformContent);\n\n                        return (\n                          <>\n                            <div>\n                              <h4 className=\"text-sm font-semibold text-gray-500 dark:text-slate-400 mb-1\">\n                                Headline\n                              </h4>\n                              <p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n                                {platformContent.headline}\n                              </p>\n                            </div>\n\n                            <div>\n                              <h4 className=\"text-sm font-semibold text-gray-500 dark:text-slate-400 mb-1\">\n                                Hook\n                              </h4>\n                              <p className=\"text-gray-700 dark:text-slate-300\">\n                                {platformContent.hook}\n                              </p>\n                            </div>\n\n                            <div>\n                              <h4 className=\"text-sm font-semibold text-gray-500 dark:text-slate-400 mb-1\">\n                                Body\n                              </h4>\n                              <p className=\"text-gray-600 dark:text-slate-400 whitespace-pre-wrap\">\n                                {platformContent.body}\n                              </p>\n                            </div>\n\n                            <div>\n                              <h4 className=\"text-sm font-semibold text-gray-500 dark:text-slate-400 mb-1\">\n                                Call to Action\n                              </h4>\n                              <p className=\"text-gray-700 dark:text-slate-300 font-semibold\">\n                                {platformContent.cta}\n                              </p>\n                            </div>\n\n                            {platformContent.hashtags && platformContent.hashtags.length > 0 && (\n                              <div className=\"flex gap-2 flex-wrap\">\n                                {platformContent.hashtags.map((tag: string, idx: number) => (\n                                  <span\n                                    key={idx}\n                                    className=\"text-sm text-blue-600 dark:text-blue-400\"\n                                  >\n                                    #{tag}\n                                  </span>\n                                ))}\n                              </div>\n                            )}\n                          </>\n                        );\n                      })()}\n                    </div>\n\n                    {/* Psychology Section */}\n                    <div className=\"pt-4 border-t border-gray-200 dark:border-slate-700\">\n                      <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 mb-2\">\n                        üß† Psychology & Strategy\n                      </h4>\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        <div>\n                          <span className=\"font-semibold text-gray-600 dark:text-slate-400\">\n                            Principle:\n                          </span>\n                          <span className=\"ml-2 text-gray-800 dark:text-slate-200\">\n                            {content.psychology.principle}\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"font-semibold text-gray-600 dark:text-slate-400\">\n                            Trigger:\n                          </span>\n                          <span className=\"ml-2 text-gray-800 dark:text-slate-200\">\n                            {content.psychology.trigger.type} ({Math.round(content.psychology.trigger.strength * 100)}%)\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"font-semibold text-gray-600 dark:text-slate-400\">\n                            Technique:\n                          </span>\n                          <span className=\"ml-2 text-gray-800 dark:text-slate-200\">\n                            {content.psychology.persuasionTechnique}\n                          </span>\n                        </div>\n                        <div>\n                          <span className=\"font-semibold text-gray-600 dark:text-slate-400\">\n                            Pacing:\n                          </span>\n                          <span className=\"ml-2 text-gray-800 dark:text-slate-200\">\n                            {content.optimization.pacing}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"mt-2\">\n                        <span className=\"font-semibold text-gray-600 dark:text-slate-400\">\n                          Expected Reaction:\n                        </span>\n                        <p className=\"text-gray-700 dark:text-slate-300 mt-1\">\n                          {content.psychology.expectedReaction}\n                        </p>\n                      </div>\n                    </div>\n\n                    {/* Provenance Tracking */}\n                    {content.provenance && (\n                      <div className=\"pt-4 border-t border-gray-200 dark:border-slate-700\">\n                        <ProvenanceViewer provenance={content.provenance} />\n                      </div>\n                    )}\n\n                    {/* Content Enhancements */}\n                    {results && (\n                      <div className=\"pt-4 border-t border-gray-200 dark:border-slate-700\">\n                        <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300 mb-3\">\n                          üéØ Content Enhancements\n                        </h4>\n                        <ContentEnhancements\n                          content={content}\n                          business={{\n                            name: (testUrl.match(/^https?:\\/\\//i) ? new URL(testUrl) : new URL(`https://${testUrl}`)).hostname.split('.')[0] || 'Business',\n                            industry: selectedIndustry?.displayName || 'General',\n                            targetAudience: `${selectedIndustry?.displayName} customers`,\n                            brandVoice: 'professional' as const,\n                            contentGoals: ['engagement'] as const\n                          }}\n                          insight={results.find(r => r.id === content.insightId) || results[0]}\n                          onContentUpdate={(updated) => {\n                            setGeneratedContent(prev =>\n                              prev ? prev.map(c => c.id === updated.id ? updated : c) : null\n                            );\n                          }}\n                        />\n                      </div>\n                    )}\n\n                    {/* Humor Enhancement Section */}\n                    <div className=\"pt-4 border-t border-gray-200 dark:border-slate-700\">\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center justify-between\">\n                          <h4 className=\"text-sm font-semibold text-gray-700 dark:text-slate-300\">\n                            üòÑ Add Professional Humor\n                          </h4>\n                          {humorEnhancements[content.id] && (\n                            <Badge variant=\"outline\" className=\"bg-green-50 text-green-700\">\n                              ‚úì Enhanced\n                            </Badge>\n                          )}\n                        </div>\n\n                        {/* Edginess Slider */}\n                        <EdginessSlider\n                          value={edginessLevels[content.id] || 50}\n                          onChange={(value) => setEdginessLevels(prev => ({ ...prev, [content.id]: value }))}\n                        />\n\n                        {/* Add Humor Button */}\n                        <Button\n                          onClick={() => handleAddHumor(content)}\n                          disabled={enhancingContent === content.id}\n                          className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700\"\n                        >\n                          {enhancingContent === content.id ? (\n                            <>\n                              <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                              Adding Humor...\n                            </>\n                          ) : (\n                            <>\n                              üòÑ {humorEnhancements[content.id] ? 'Refresh' : 'Add'} Humor\n                            </>\n                          )}\n                        </Button>\n\n                        {/* Show Enhanced Content */}\n                        {humorEnhancements[content.id] && (\n                          <div className=\"mt-4 p-4 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg border-2 border-purple-200 dark:border-purple-800\">\n                            <div className=\"flex items-center gap-2 mb-3\">\n                              <Sparkles className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\n                              <h5 className=\"font-bold text-purple-900 dark:text-purple-100\">\n                                Humor-Enhanced Version\n                              </h5>\n                            </div>\n\n                            <div className=\"space-y-3 text-sm\">\n                              <div>\n                                <div className=\"font-semibold text-purple-800 dark:text-purple-300 mb-1\">\n                                  Headline\n                                </div>\n                                <div className=\"text-purple-900 dark:text-purple-100\">\n                                  {humorEnhancements[content.id].enhanced.headline}\n                                </div>\n                              </div>\n\n                              <div>\n                                <div className=\"font-semibold text-purple-800 dark:text-purple-300 mb-1\">\n                                  Hook\n                                </div>\n                                <div className=\"text-purple-900 dark:text-purple-100\">\n                                  {humorEnhancements[content.id].enhanced.hook}\n                                </div>\n                              </div>\n\n                              <div>\n                                <div className=\"font-semibold text-purple-800 dark:text-purple-300 mb-1\">\n                                  Body\n                                </div>\n                                <div className=\"text-purple-900 dark:text-purple-100 whitespace-pre-wrap\">\n                                  {humorEnhancements[content.id].enhanced.body}\n                                </div>\n                              </div>\n\n                              <div>\n                                <div className=\"font-semibold text-purple-800 dark:text-purple-300 mb-1\">\n                                  CTA\n                                </div>\n                                <div className=\"text-purple-900 dark:text-purple-100 font-semibold\">\n                                  {humorEnhancements[content.id].enhanced.cta}\n                                </div>\n                              </div>\n\n                              <div className=\"pt-2 border-t border-purple-200 dark:border-purple-700\">\n                                <div className=\"text-xs text-purple-700 dark:text-purple-300\">\n                                  <strong>Enhancements Applied:</strong>\n                                  <ul className=\"list-disc list-inside mt-1\">\n                                    {humorEnhancements[content.id].enhancementsApplied.map((enhancement, idx) => (\n                                      <li key={idx}>{enhancement}</li>\n                                    ))}\n                                  </ul>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Copy Button */}\n                    <Button\n                      variant=\"outline\"\n                      onClick={() => {\n                        const fullText = `${content.content.headline}\\n\\n${content.content.hook}\\n\\n${content.content.body}\\n\\n${content.content.cta}${content.content.hashtags ? '\\n\\n' + content.content.hashtags.map(t => '#' + t).join(' ') : ''}`;\n                        navigator.clipboard.writeText(fullText);\n                      }}\n                      className=\"w-full\"\n                    >\n                      <Copy className=\"w-4 h-4 mr-2\" />\n                      Copy Full Content\n                    </Button>\n                  </div>\n                </motion.div>\n              ))}\n            </div>\n          </motion.div>\n        )}\n\n        {/* Empty State */}\n        {!loading && !error && !results && (\n          <div className=\"text-center py-12 bg-white dark:bg-slate-800 rounded-xl shadow-lg\">\n            <Sparkles className=\"w-16 h-16 text-purple-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n              Ready to Discover Breakthroughs\n            </h3>\n            <p className=\"text-gray-600 dark:text-slate-400\">\n              Enter a URL and select an industry above to begin\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["LOADING_STEPS","SynapseLoadingScreen","currentStep","progress","contentCount","platformCount","activeStepIndex","setActiveStepIndex","useState","elapsedTime","setElapsedTime","useEffect","interval","prev","contentGenerationTime","adjustedSteps","step","cumulativeTime","i","totalEstimatedTime","sum","calculatedProgress","displayProgress","activeStep","remainingTime","currentSubStep","timeBeforeStep","timeInStep","cumulativeSubTime","jsx","motion","jsxs","index","isCompleted","isActive","ContentEnhancements","content","business","insight","onContentUpdate","regenerating","setRegenerating","regenerationResults","setRegenerationResults","generatingVariants","setGeneratingVariants","variants","setVariants","generator","SynapseContentGenerator","validation","charCounts","handleRegenerate","section","result","error","applyRegeneration","optionIndex","updated","next","handleGenerateVariants","copyToClipboard","text","sectionValidation","v","CharacterCountBadge","RefreshCw","option","e","Copy","Fragment","TrendingUp","variant","diff","idx","SynapsePage","testUrl","setTestUrl","selectedIndustry","setSelectedIndustry","detectedLocation","setDetectedLocation","selectedLocations","setSelectedLocations","manualLocationCity","setManualLocationCity","manualLocationState","setManualLocationState","selectedPlatforms","setSelectedPlatforms","viewingPlatform","setViewingPlatform","loading","setLoading","detectingLocation","setDetectingLocation","setError","results","setResults","generatedContent","setGeneratedContent","timings","setTimings","runStartTime","setRunStartTime","humorEnhancements","setHumorEnhancements","edginessLevels","setEdginessLevels","enhancingContent","setEnhancingContent","toggleLocationSelection","location","loc","toggleSelectAll","allSelected","isLocationSelected","addManualLocation","newLocation","removeLocation","handleUrlChange","url","timeoutId","locationDetectionService","runSynapseDiscovery","startTime","primaryLocation","intelligenceStartTime","normalizedUrl","syntheticBrand","deepContextResult","deepContextBuilder","intelligenceEndTime","intelligenceTime","synapseStartTime","synapseResult","generateSynapses","_a","_b","synapseEndTime","synapseTime","contentStartTime","contentGenerator","businessProfile","_c","contentResult","contentEndTime","contentTime","totalTime","err","handleAddHumor","edginess","optimizer","HumorOptimizer","Input","LinkIcon","Loader2","IndustrySelector","industry","AlertCircle","CheckCircle","X","Plus","platform","isSelected","platformConfig","p","Button","Sparkles","Badge","ev","platformContent","tag","ProvenanceViewer","r","c","EdginessSlider","value","enhancement","fullText","t"],"mappings":"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"}