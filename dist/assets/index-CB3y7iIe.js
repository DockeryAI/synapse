const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/analytics-BeoNQ3KZ.js","assets/supabase-CviTlR-N.js","assets/vendor-misc-Ce8oRwJD.js","assets/vendor-Ck9QY3SP.js","assets/radix-ui-BA32w1ww.js","assets/calendar-libs-Dd4YSJ5A.js","assets/SynapsePage-CgWdu8T9.js","assets/content-vHUODyAM.js","assets/ui-utils-BZoEee2W.js","assets/synapse-CrApDaq9.js","assets/campaign-BJZ6C_mM.js","assets/ui-animations-D6YYT028.js","assets/IndustrySelector-S-iU8TMm.js","assets/OnboardingPageV5-BFpAGrGk.js","assets/ContentCalendarPage-DucS3aGG.js","assets/CampaignPage-BSFdj4Dl.js","assets/SocialPilotCallback-Bz7p7nHl.js"])))=>i.map(i=>d[i]);
import{r as s,a as e,a8 as C,ax as w,ay as m,az as L,am as O,aA as B}from"./vendor-Ck9QY3SP.js";import"./vendor-misc-Ce8oRwJD.js";import"./radix-ui-BA32w1ww.js";import"./calendar-libs-Dd4YSJ5A.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))h(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&h(r)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function h(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const R="modulepreload",N=function(o){return"/"+o},E={},p=function(u,a,h){let t=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));t=Promise.allSettled(a.map(d=>{if(d=N(d),d in E)return;E[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const c=document.createElement("link");if(c.rel=f?"stylesheet":R,f||(c.as="script"),c.crossOrigin="",c.href=d,l&&c.setAttribute("nonce",l),document.head.appendChild(c),f)return new Promise((y,b)=>{c.addEventListener("load",y),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return t.then(r=>{for(const l of r||[])l.status==="rejected"&&n(l.reason);return u().catch(n)})},A=s.createContext(void 0),I=({children:o,initialBrand:u})=>{const[a,h]=s.useState(()=>{if(u)return console.log("[BrandContext] Using initialBrand:",u.id),u;const i=localStorage.getItem("currentBrand");if(i){const x=JSON.parse(i);return console.log("[BrandContext] Loaded brand from localStorage:",x.id),x}return console.log("[BrandContext] No brand in localStorage"),null}),[t,n]=s.useState([]),[r,l]=s.useState(!1),[d,f]=s.useState(null),g=s.useCallback(i=>{h(i),localStorage.setItem("currentBrand",JSON.stringify(i)),console.log("[BrandContext] Brand set and persisted:",i.id)},[]),c=s.useCallback(async()=>{l(!0),f(null);try{throw new Error("Supabase connection not configured. Please set up Supabase to load brands.")}catch(i){f(i instanceof Error?i:new Error("Failed to load brands")),n([])}finally{l(!1)}},[]),y=s.useCallback(async()=>{if(a!=null&&a.id)try{const{default:i}=await p(async()=>{const{default:_}=await import("./analytics-BeoNQ3KZ.js").then(v=>v.b);return{default:_}},__vite__mapDeps([0,1,2,3,4,5])).then(_=>({default:_.supabase})),{data:x,error:j}=await i.from("brands").select("*").eq("id",a.id).single();if(j)throw j;x&&g(x)}catch(i){console.error("[BrandContext] Failed to refresh brand:",i)}},[a==null?void 0:a.id,g]);s.useEffect(()=>{c()},[c]);const b={currentBrand:a,brands:t,loading:r,error:d,setCurrentBrand:g,refreshBrands:c,refreshBrand:y};return e.jsx(A.Provider,{value:b,children:o})};function T(){return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(C,{className:"h-12 w-12 animate-spin text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})})}const P=s.lazy(()=>p(()=>import("./SynapsePage-CgWdu8T9.js"),__vite__mapDeps([6,3,2,4,5,7,8,0,1,9,10,11,12])).then(o=>({default:o.SynapsePage}))),S=s.lazy(()=>p(()=>import("./OnboardingPageV5-BFpAGrGk.js"),__vite__mapDeps([13,3,2,4,5,7,8,0,1,9,10,12,11])).then(o=>({default:o.OnboardingPageV5}))),V=s.lazy(()=>p(()=>import("./ContentCalendarPage-DucS3aGG.js"),__vite__mapDeps([14,3,2,4,5,7,8,0,1,9,10])).then(o=>({default:o.ContentCalendarPage}))),k=s.lazy(()=>p(()=>import("./CampaignPage-BSFdj4Dl.js"),__vite__mapDeps([15,3,2,4,5,10,9,0,1,7,8,11])).then(o=>({default:o.CampaignPage}))),z=s.lazy(()=>p(()=>import("./SocialPilotCallback-Bz7p7nHl.js"),__vite__mapDeps([16,3,2,4,5,7,8,0,1,9,10])).then(o=>({default:o.SocialPilotCallback})));function D(){return e.jsx(I,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-md focus:shadow-lg",children:"Skip to main content"}),e.jsx(s.Suspense,{fallback:e.jsx(T,{}),children:e.jsx("main",{id:"main-content",className:"animate-fade-in",children:e.jsxs(w,{children:[e.jsx(m,{path:"/",element:e.jsx(S,{})}),e.jsx(m,{path:"/onboarding",element:e.jsx(S,{})}),e.jsx(m,{path:"/synapse",element:e.jsx(P,{})}),e.jsx(m,{path:"/synapse-old",element:e.jsx(P,{})}),e.jsx(m,{path:"/campaign/new",element:e.jsx(k,{})}),e.jsx(m,{path:"/content-calendar",element:e.jsx(V,{})}),e.jsx(m,{path:"/auth/socialpilot/callback",element:e.jsx(z,{})})]})})})]})})}L.createRoot(document.getElementById("root")).render(e.jsx(O.StrictMode,{children:e.jsx(B,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(D,{})})}));
//# sourceMappingURL=index-CB3y7iIe.js.map
