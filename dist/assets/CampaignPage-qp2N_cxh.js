import{aU as J,aV as K,a as e,a0 as S,r as g,$ as P,aC as ee,an as H,a3 as M,U as te,g as re,X as Q,a8 as $,A as ae,au as se,aE as le,aa as ie,aW as ne,N as oe,aX as de,aY as ce,ar as pe,ab as me,af as U,a4 as xe,aK as ue,aZ as ge,a_ as F}from"./vendor-Ck9QY3SP.js";import{b as he,g as be,d as A}from"./campaign-CpExTzZS.js";import{i as _,g as z,j as ye,k as fe,l as je,m as ve,a as O,D as ke,n as Ne,B as E,b as we,c as Ce,d as Se,e as Te}from"./content-DNJ5jCle.js";import{m as n,A as B}from"./ui-animations-D6YYT028.js";import{a2 as Pe,a3 as Ae,a4 as Z,a5 as Ie,a6 as Re,a7 as Le,a8 as Y,a9 as Ee,aa as De,ab as $e,ac as ze,ad as He,ae as Me}from"./vendor-misc-Ce8oRwJD.js";import"./analytics-BeoNQ3KZ.js";import"./radix-ui-BA32w1ww.js";import"./calendar-libs-Dd4YSJ5A.js";import"./synapse-CMLSaE2R.js";import"./ui-utils-BZoEee2W.js";import"./supabase-CviTlR-N.js";const Be=({type:t,selected:s,onClick:l})=>{const r=J[t.icon]||K,i={blue:{badge:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30",icon:"text-blue-600 dark:text-blue-400",border:"ring-purple-500 dark:ring-purple-400",recommended:"bg-gradient-to-r from-purple-600 to-blue-600"},green:{badge:"bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/30 dark:to-blue-900/30",icon:"text-purple-600 dark:text-purple-400",border:"ring-purple-500 dark:ring-purple-400",recommended:"bg-gradient-to-r from-purple-600 to-blue-600"},orange:{badge:"bg-gradient-to-br from-violet-50 to-blue-50 dark:from-violet-900/30 dark:to-blue-900/30",icon:"text-violet-600 dark:text-violet-400",border:"ring-purple-500 dark:ring-purple-400",recommended:"bg-gradient-to-r from-purple-600 to-blue-600"}},o=i[t.color]||i.blue;return e.jsx(n.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},transition:{duration:.2},children:e.jsxs(_,{className:z("cursor-pointer transition-all duration-300 relative overflow-hidden h-full","bg-white dark:bg-slate-800 border-2",s?`${o.border} ring-2 shadow-xl`:"border-purple-100 dark:border-purple-900/30 hover:border-purple-300 dark:hover:border-purple-700 hover:shadow-lg"),onClick:l,children:[t.recommended&&e.jsx(n.div,{className:"absolute top-0 right-0 z-10",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs("div",{className:z("px-3 py-1 text-xs font-semibold text-white rounded-bl-lg shadow-md flex items-center gap-1",o.recommended),children:[e.jsx(S,{className:"h-3 w-3"}),"Recommended"]})}),e.jsxs(ye,{className:"pb-3",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:z("w-12 h-12 rounded-xl flex items-center justify-center shadow-sm",o.badge),children:e.jsx(r,{className:z("w-6 h-6",o.icon)})}),e.jsxs("div",{children:[e.jsx(fe,{className:"text-xl text-gray-900 dark:text-white",children:t.name}),t.confidenceScore!==void 0&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 flex items-center gap-1",children:[e.jsxs("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:[Math.round(t.confidenceScore*100),"%"]}),"data match"]})]})]})}),e.jsx(je,{className:"mt-3 text-sm text-gray-600 dark:text-gray-300",children:t.description})]}),e.jsxs(ve,{className:"space-y-4",children:[t.recommendationReason&&e.jsx("div",{className:"bg-gradient-to-br from-purple-50/50 to-blue-50/50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg p-3 text-sm border border-purple-100 dark:border-purple-800",children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"font-medium text-purple-700 dark:text-purple-300",children:"Why this works: "}),t.recommendationReason]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Best for:"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[t.idealFor.slice(0,3).map((d,u)=>e.jsx(O,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-800 dark:bg-purple-800/40 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800/60 border-0",children:d},u)),t.idealFor.length>3&&e.jsxs(O,{variant:"secondary",className:"text-xs bg-purple-100 text-purple-800 dark:bg-purple-800/40 dark:text-purple-200 border-0",children:["+",t.idealFor.length-3," more"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Top platforms:"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.platforms.slice(0,4).map((d,u)=>e.jsx(O,{variant:"outline",className:"text-xs border-purple-300 text-purple-800 dark:border-purple-600 dark:text-purple-300 bg-transparent",children:d},u))})]})]}),s&&e.jsx(n.div,{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-600 to-blue-600",layoutId:"selectedCard",transition:{type:"spring",stiffness:300,damping:30}})]})})},Fe=({context:t,onContinue:s,className:l=""})=>{var j,v,k,N;const[r,i]=g.useState([]),[o,d]=g.useState(null),[u,p]=g.useState(null),[a,m]=g.useState(""),[h,c]=g.useState(0);g.useEffect(()=>{const x=he.recommendCampaignType(t);i(x.all),p(x.recommended.id),d(x.recommended.id),m(x.reasoning),c(x.confidenceScore)},[t]);const y=x=>{d(x)},f=()=>{o&&s(o)};return e.jsxs("div",{className:l,children:[e.jsxs(n.div,{className:"mb-6 sm:mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(S,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 dark:text-purple-400 flex-shrink-0"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Choose Your Campaign Type"})]}),e.jsxs(ke,{children:[e.jsx(Ne,{asChild:!0,children:e.jsxs(E,{variant:"outline",size:"sm",className:"border-purple-300 text-gray-700 hover:bg-purple-50 hover:text-purple-700 hover:border-purple-400 dark:border-purple-700 dark:text-gray-300 dark:hover:bg-purple-900/20 dark:hover:text-purple-300 dark:hover:border-purple-600 transition-colors w-full sm:w-auto min-h-[44px]",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Why these recommendations?"}),e.jsx("span",{className:"sm:hidden",children:"Why these?"})]})}),e.jsx(we,{className:"max-w-2xl",children:e.jsxs(Ce,{children:[e.jsx(Se,{className:"text-2xl text-gray-900 dark:text-white",children:"How We Recommend Campaign Types"}),e.jsxs(Te,{className:"space-y-4 pt-4",children:[e.jsx("p",{className:"text-base",children:"Our AI analyzes your business intelligence data to recommend the best campaign type for your unique situation."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20",children:[e.jsxs("h4",{className:"font-semibold mb-1 text-purple-700 dark:text-purple-300 flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"Authority Builder"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended when you have strong industry expertise, competitive insights, or thought leadership opportunities."})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:[e.jsxs("h4",{className:"font-semibold mb-1 text-blue-700 dark:text-blue-300 flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Social Proof"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended when you have customer reviews, testimonials, or strong local presence to leverage."})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-violet-50 to-blue-50 dark:from-violet-900/20 dark:to-blue-900/20",children:[e.jsxs("h4",{className:"font-semibold mb-1 text-violet-700 dark:text-violet-300 flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"Local Pulse"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended when you have location data, weather patterns, or local events to create timely campaigns."})]})]}),u&&e.jsxs(n.div,{className:"mt-4 p-4 bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-lg border border-purple-200 dark:border-purple-700",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("h4",{className:"font-semibold mb-2 text-purple-700 dark:text-purple-300",children:"For Your Business:"}),e.jsx("p",{className:"text-sm",children:a}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Confidence: ",Math.round(h*100),"%"]})]})]})]})})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Based on your business intelligence, we've analyzed the best campaign strategy for your goals. Select one to continue."})]}),e.jsx(n.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:r.map((x,b)=>e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3+b*.1},children:e.jsx(Be,{type:x,selected:o===x.id,onClick:()=>y(x.id)})},x.id))}),e.jsx(B,{children:o&&e.jsxs(n.div,{className:"mb-8 p-6 bg-gradient-to-br from-purple-50/50 via-blue-50/50 to-violet-50/50 dark:from-purple-900/10 dark:via-blue-900/10 dark:to-violet-900/10 rounded-xl border border-purple-200/50 dark:border-purple-700/50",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[e.jsx("h3",{className:"font-semibold mb-4 text-purple-700 dark:text-purple-300",children:"Data Strength for Selected Type"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(G,{label:"Authority Data",score:((j=r.find(x=>x.id==="authority_builder"))==null?void 0:j.confidenceScore)||0,active:o==="authority_builder"}),e.jsx(G,{label:"Social Proof Data",score:((v=r.find(x=>x.id==="trust_builder"))==null?void 0:v.confidenceScore)||0,active:o==="trust_builder"}),e.jsx(G,{label:"Local Pulse Data",score:((k=r.find(x=>x.id==="community_champion"))==null?void 0:k.confidenceScore)||0,active:o==="community_champion"})]})]})}),e.jsx(n.div,{className:"flex justify-end",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:e.jsxs(E,{size:"lg",disabled:!o,onClick:f,className:"w-full sm:w-auto sm:min-w-[200px] min-h-[44px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsxs("span",{className:"hidden sm:inline",children:["Continue with"," ",o&&((N=r.find(x=>x.id===o))==null?void 0:N.name)]}),e.jsx("span",{className:"sm:hidden",children:"Continue"}),e.jsx(ee,{className:"w-4 h-4 ml-2"})]})})]})},G=({label:t,score:s,active:l})=>{const r=Math.round(s*100);return e.jsxs(n.div,{className:l?"opacity-100":"opacity-50",initial:{opacity:0,x:-20},animate:{opacity:l?1:.5,x:0},transition:{duration:.3},children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:t}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[r,"%"]})]}),e.jsx("div",{className:"h-2 bg-purple-100 dark:bg-purple-900/30 rounded-full overflow-hidden",children:e.jsx(n.div,{className:"h-full bg-gradient-to-r from-purple-600 to-blue-600 rounded-full",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5,ease:"easeOut"}})})]})},q={Cloud:t=>e.jsx("span",{...t,children:"â˜ï¸"}),Star:t=>e.jsx("span",{...t,children:"â­"}),TrendingUp:t=>e.jsx(M,{...t,size:16}),Newspaper:t=>e.jsx("span",{...t,children:"ðŸ“°"}),MessageCircle:t=>e.jsx("span",{...t,children:"ðŸ’¬"}),Video:t=>e.jsx("span",{...t,children:"ðŸŽ¥"}),Target:t=>e.jsx("span",{...t,children:"ðŸŽ¯"}),Building:t=>e.jsx("span",{...t,children:"ðŸ¢"}),MapPin:t=>e.jsx("span",{...t,children:"ðŸ“"})};function Oe({pick:t,onGenerate:s,onPreview:l,rank:r}){const i=Math.round(t.confidence*100),o=Math.round(t.overallScore*100),d=a=>a>=.8?"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-800 border-purple-200 dark:from-purple-900/30 dark:to-blue-900/30 dark:text-purple-300 dark:border-purple-700":a>=.6?"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700":"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700",u=t.timeliness>.7,p=t.metadata.expiresAt&&t.metadata.expiresAt.getTime()-Date.now()<48*60*60*1e3;return e.jsxs(n.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},className:"bg-white dark:bg-slate-800 rounded-xl border border-purple-200 dark:border-purple-700 hover:border-purple-300 dark:hover:border-purple-600 shadow-lg hover:shadow-xl transition-all p-6 relative",children:[r&&e.jsx(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.1},className:"absolute top-4 right-4",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-lg",children:r})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(n.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:e.jsx(S,{className:"text-purple-600 dark:text-purple-400 flex-shrink-0 mt-1",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-lg leading-tight",children:t.title}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 dark:from-purple-900/40 dark:to-blue-900/40 dark:text-purple-300 border border-purple-200 dark:border-purple-700",children:t.campaignType.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")})]})]})}),t.preview.headline&&e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mb-4 p-3 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-700 dark:via-slate-700 dark:to-slate-600 rounded-lg border border-purple-200 dark:border-purple-700",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-1",children:t.preview.headline}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:t.preview.hook}),e.jsxs("span",{className:"inline-block mt-2 text-xs text-purple-600 dark:text-purple-400 flex items-center gap-1",children:[e.jsx(P,{size:12}),"Optimized for ",t.preview.platform]})]}),e.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[e.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-medium ${d(t.overallScore)}`,children:[e.jsx(H,{size:12}),e.jsxs("span",{children:[o,"% Match"]})]}),e.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full border border-purple-200 dark:border-purple-700 bg-purple-50 dark:bg-purple-900/30 text-xs font-medium text-purple-700 dark:text-purple-300",children:[e.jsx(M,{size:12}),e.jsxs("span",{children:[i,"% Confidence"]})]}),u&&e.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full border border-orange-200 bg-orange-50 text-xs font-medium text-orange-700",children:[e.jsx(te,{size:12}),e.jsx("span",{children:p?"Expires Soon":"Time-Sensitive"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Data Sources:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.dataSources.map((a,m)=>{const h=q[a.icon]||q.Building;return e.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-gray-100 text-xs text-gray-700",title:`${a.label} - ${a.freshness} updates`,children:[e.jsx(h,{className:"flex-shrink-0"}),e.jsx("span",{children:a.label}),a.verified&&e.jsx(H,{size:12,className:"text-green-600"})]},m)})})]}),e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-4 p-3 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-700 dark:via-slate-700 dark:to-slate-600 rounded-lg border border-purple-200 dark:border-purple-700",children:[e.jsxs("p",{className:"text-xs font-medium text-purple-900 dark:text-purple-200 mb-1 flex items-center gap-1",children:[e.jsx(P,{size:12,className:"text-purple-600 dark:text-purple-400"}),"Expected Performance"]}),e.jsxs("div",{className:"flex gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Engagement:"})," ",e.jsx("span",{className:"font-medium text-purple-700 dark:text-purple-300 capitalize",children:t.expectedPerformance.engagement})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Reach:"})," ",e.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300 capitalize",children:t.expectedPerformance.reach})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Conversions:"})," ",e.jsx("span",{className:"font-medium text-purple-700 dark:text-purple-300 capitalize",children:t.expectedPerformance.conversions})]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:t.reasoning}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(t),className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg flex items-center justify-center gap-2",children:[e.jsx(S,{size:16}),"Generate This Campaign"]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(t),className:"px-4 py-2.5 border-2 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-lg font-medium hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all flex items-center gap-1",title:"See full preview",children:[e.jsx("span",{children:"Preview"}),e.jsx(re,{size:16})]})]})]})}const Ge=[{id:"linkedin",name:"LinkedIn",emoji:"ðŸ’¼"},{id:"facebook",name:"Facebook",emoji:"ðŸ‘¥"},{id:"instagram",name:"Instagram",emoji:"ðŸ“¸"},{id:"twitter",name:"Twitter/X",emoji:"ðŸ¦"}];function Ve({pick:t,context:s,onClose:l,onGenerate:r}){const[i,o]=g.useState(t.preview.platform.toLowerCase()),d=a=>({headline:t.preview.headline,hook:t.preview.hook,body:t.insights[0].insight,cta:`Learn more about ${s.business.profile.name}`,hashtags:u(a)}),u=a=>{const m=s.business.profile.industry.toLowerCase().replace(/\s+/g,""),h=s.business.profile.location.city.toLowerCase().replace(/\s+/g,""),c=[`#${m}`,`#${h}`];return a==="linkedin"?[...c,"#BusinessGrowth","#ThoughtLeadership"]:a==="instagram"?[...c,"#SmallBusiness","#LocalBusiness","#Entrepreneur"]:a==="twitter"?[...c,"#Business","#Marketing"]:a==="facebook"?[...c,"#Community","#LocalBusiness"]:c},p=d(i);return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:e.jsxs(n.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"p-6 border-b border-purple-200 dark:border-purple-700 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:e.jsx(S,{className:"text-purple-600 dark:text-purple-400",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Campaign Preview"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.title})]})]}),e.jsx(n.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:l,className:"text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors","aria-label":"Close preview",children:e.jsx(Q,{size:24})})]}),e.jsx("div",{className:"border-b border-purple-200 dark:border-purple-700 px-6 pt-4 bg-gradient-to-r from-purple-50/50 to-blue-50/50 dark:from-slate-800/50 dark:to-slate-700/50",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:Ge.map(a=>e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(a.id),className:`
                  px-4 py-2 text-sm font-medium rounded-t-lg transition-all
                  ${i===a.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30"}
                `,children:[e.jsx("span",{className:"mr-1",children:a.emoji}),a.name]},a.id))})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-purple-50/30 via-blue-50/30 to-violet-50/30 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-700 border border-purple-200 dark:border-purple-700 rounded-xl p-6 mb-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(n.div,{whileHover:{scale:1.1,rotate:5},className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:s.business.profile.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.business.profile.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.business.profile.location.city,", ",s.business.profile.location.state]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-lg bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:p.headline}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed",children:p.hook}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:p.body}),e.jsxs("p",{className:"font-medium text-purple-600 dark:text-purple-400 flex items-center gap-1",children:[e.jsx(P,{size:16}),p.cta]}),e.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:p.hashtags.map((a,m)=>e.jsx(n.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:m*.1},className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:a},m))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-purple-900/30 dark:via-blue-900/30 dark:to-violet-900/30 rounded-xl p-4 border border-purple-200 dark:border-purple-700 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(M,{className:"text-purple-600 dark:text-purple-400",size:16}),e.jsx("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"Performance Score"})]}),e.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:[Math.round(t.overallScore*100),"%"]}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Relevance + Timeliness + Evidence"})]}),e.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gradient-to-br from-blue-50 via-purple-50 to-violet-50 dark:from-blue-900/30 dark:via-purple-900/30 dark:to-violet-900/30 rounded-xl p-4 border border-blue-200 dark:border-blue-700 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(H,{className:"text-blue-600 dark:text-blue-400",size:16}),e.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-200",children:"Confidence"})]}),e.jsxs("p",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[Math.round(t.confidence*100),"%"]}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"AI model confidence"})]})]}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-purple-900/30 dark:via-blue-900/30 dark:to-violet-900/30 border border-purple-200 dark:border-purple-700 rounded-xl p-4 shadow-lg",children:[e.jsxs("h4",{className:"font-semibold text-purple-900 dark:text-purple-200 mb-2 flex items-center gap-2",children:[e.jsx(P,{size:16,className:"text-purple-600 dark:text-purple-400"}),"Why This Campaign Works"]}),e.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-300",children:t.reasoning})]}),e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Powered by ",t.dataSources.length," data sources:"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.dataSources.map((a,m)=>e.jsxs(n.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6+m*.05},className:"inline-flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/40 dark:to-blue-900/40 text-xs text-purple-700 dark:text-purple-300 rounded border border-purple-200 dark:border-purple-700",children:[a.label,a.verified&&e.jsx(H,{size:12,className:"text-purple-600 dark:text-purple-400"})]},m))})]})]}),e.jsxs("div",{className:"p-6 border-t border-purple-200 dark:border-purple-700 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 flex gap-3",children:[e.jsx(n.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"flex-1 px-4 py-3 border-2 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-white dark:hover:bg-slate-700 transition-all font-medium shadow-lg",children:"Close"}),e.jsxs(n.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-medium flex items-center justify-center gap-2 shadow-lg",children:[e.jsx(S,{size:18}),"Generate Full Campaign"]})]})]})})}function _e({context:t,campaignType:s,onGenerateCampaign:l,onSwitchToMixer:r,maxPicks:i=5}){const[o,d]=g.useState([]),[u,p]=g.useState(!0),[a,m]=g.useState(null),[h,c]=g.useState(null);return g.useEffect(()=>{async function y(){try{p(!0),m(null),console.log("[SmartPicks] Generating picks for:",t.business.profile.name);const f=await be(t,s,{maxPicks:i,minConfidence:.6,preferTimely:!0,includePreview:!0});console.log(`[SmartPicks] Generated ${f.picks.length} picks in ${f.metadata.generationTimeMs}ms`),d(f.picks)}catch(f){console.error("[SmartPicks] Generation failed:",f),m(f instanceof Error?f.message:"Failed to generate picks")}finally{p(!1)}}y()},[t,s,i]),u?e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"text-purple-600 animate-spin",size:48}),e.jsx(n.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(S,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-purple-400",size:24})})]}),e.jsx(n.h3,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-6 text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Analyzing Your Business Intelligence..."}),e.jsxs(n.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-2 text-sm text-gray-600 dark:text-gray-400 text-center max-w-md",children:["AI is reviewing ",t.business.profile.name,"'s data across 10+ sources to find the best campaign opportunities"]}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-4 flex flex-wrap justify-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:["Industry trends","Competitor gaps","Customer psychology","Local events","Seasonal opportunities"].map((y,f)=>e.jsxs(n.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+f*.1},className:"px-2 py-1 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-700 border border-purple-200 dark:border-purple-700 rounded",children:["âœ“ ",y]},y))})]}):a?e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(ae,{className:"text-red-600",size:32})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center max-w-md mb-6",children:a}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all shadow-lg",children:"Try Again"})]}):o.length===0?e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 rounded-full flex items-center justify-center mb-4",children:e.jsx(se,{className:"text-yellow-600 dark:text-yellow-400",size:32})}),e.jsx("h3",{className:"text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"No Strong Recommendations Found"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center max-w-md mb-6",children:"We couldn't find enough high-quality insights to make confident recommendations. Try using the Content Mixer to manually select insights instead."}),r&&e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-medium shadow-lg",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(P,{size:18}),"Open Content Mixer"]})})]}):e.jsxs("div",{className:"py-8 px-4 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 min-h-screen",children:[e.jsxs(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(n.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.5},className:"p-2 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg shadow-lg",children:e.jsx(S,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI-Recommended Campaigns"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Based on ",t.business.profile.name,"'s intelligence data"]})]})]}),e.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-700 border border-purple-200 dark:border-purple-700 rounded-xl p-4 shadow-lg",children:e.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-200",children:[e.jsxs("strong",{className:"flex items-center gap-2",children:[e.jsx(P,{size:16,className:"text-purple-600"}),"How this works:"]})," Our AI analyzed your business data across 10+ sources and scored ",o.length," campaign opportunities by relevance, timeliness, and evidence quality. The top picks are shown below, ranked by overall score."]})})]}),e.jsx("div",{className:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:o.map((y,f)=>e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:e.jsx(Oe,{pick:y,rank:f+1,onGenerate:l,onPreview:c})},y.id))}),r&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"max-w-5xl mx-auto text-center",children:e.jsxs("div",{className:"border-t border-purple-200 dark:border-purple-700 pt-8",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Want more control over your campaign?"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"px-6 py-3 border-2 border-purple-600 dark:border-purple-500 text-purple-600 dark:text-purple-400 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all font-medium shadow-lg",children:"Show Me More Options (Content Mixer)"})]})}),e.jsx(B,{children:h&&e.jsx(Ve,{pick:h,context:t,onClose:()=>c(null),onGenerate:()=>{c(null),l(h)}})})]})}const We={local:de,trending:M,seasonal:oe,industry:ne,reviews:ie,competitive:le},Ue={local:"text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-900/30",trending:"text-purple-600 bg-purple-50 dark:text-purple-400 dark:bg-purple-900/30",seasonal:"text-green-600 bg-green-50 dark:text-green-400 dark:bg-green-900/30",industry:"text-orange-600 bg-orange-50 dark:text-orange-400 dark:bg-orange-900/30",reviews:"text-yellow-600 bg-yellow-50 dark:text-yellow-400 dark:bg-yellow-900/30",competitive:"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/30"};function W({insight:t,draggable:s=!0,inSelection:l=!1,onRemove:r}){const{attributes:i,listeners:o,setNodeRef:d,transform:u,transition:p,isDragging:a}=Pe({id:t.id,disabled:!s}),m={transform:Ae.Transform.toString(u),transition:p,opacity:a?.5:1},h=We[t.category],c=Ue[t.category],y=t.confidence>=.8?"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-800 dark:from-purple-900/30 dark:to-blue-900/30 dark:text-purple-300":t.confidence>=.6?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300";return e.jsxs(n.div,{ref:d,style:m,whileHover:s?{scale:1.02}:void 0,className:`
        group relative rounded-xl border bg-white dark:bg-slate-800 p-3 shadow-lg
        transition-all duration-200
        ${s?"cursor-grab active:cursor-grabbing hover:shadow-xl hover:border-purple-300 dark:hover:border-purple-600":""}
        ${a?"shadow-2xl ring-2 ring-purple-400":""}
        ${l?"border-purple-200 dark:border-purple-700 bg-gradient-to-br from-purple-50/30 via-blue-50/30 to-violet-50/30 dark:from-purple-900/20 dark:via-blue-900/20 dark:to-violet-900/20":"border-purple-200 dark:border-purple-700"}
      `,children:[s&&e.jsx(n.div,{...o,...i,whileHover:{scale:1.1},className:"absolute left-0 top-0 bottom-0 w-8 flex items-center justify-center cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ce,{className:"h-4 w-4 text-purple-400 dark:text-purple-500"})}),l&&r&&e.jsx(n.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:r,className:"absolute right-2 top-2 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100","aria-label":"Remove insight",children:e.jsx(Q,{className:"h-4 w-4"})}),e.jsxs("div",{className:`${s?"pl-6":""} ${l?"pr-6":""}`,children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(n.div,{whileHover:{scale:1.1,rotate:5},className:`rounded-full p-1.5 ${c} shadow-sm`,children:e.jsx(h,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 line-clamp-2",children:t.displayTitle})})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2 pl-9",children:t.insight}),e.jsxs("div",{className:"flex items-center justify-between pl-9 text-xs",children:[e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(P,{size:10,className:"text-purple-500"}),t.dataSource]}),e.jsxs("span",{className:`px-2 py-0.5 rounded-full font-medium ${y} border border-purple-200 dark:border-purple-700`,children:[Math.round(t.confidence*100),"%"]})]})]})]})}const V={local:"Local",trending:"Trending",seasonal:"Seasonal",industry:"Industry",reviews:"Reviews",competitive:"Competitive"},Ye={local:"Location-based insights and local events",trending:"Viral moments and cultural trends",seasonal:"Seasonal patterns and holidays",industry:"Industry news and expert insights",reviews:"Customer feedback and testimonials",competitive:"Market gaps and opportunities"};function qe({pool:t,selectedInsightIds:s,onInsightClick:l}){const[r,i]=g.useState("trending"),[o,d]=g.useState(""),{setNodeRef:u}=Z({id:"insight-pool"}),m=(t.byCategory[r]||[]).filter(c=>{if(!o)return!0;const y=o.toLowerCase();return c.displayTitle.toLowerCase().includes(y)||c.insight.toLowerCase().includes(y)||c.dataSource.toLowerCase().includes(y)}).filter(c=>!s.includes(c.id)),h=["local","trending","seasonal","industry","reviews","competitive"];return e.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Insight Pool"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Drag insights to build your campaign"}),e.jsxs("div",{className:"mt-3 relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search insights...",value:o,onChange:c=>d(c.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"border-b border-gray-200 px-2 overflow-x-auto",children:e.jsx("div",{className:"flex gap-1 min-w-max",children:h.map(c=>{const y=t.countByCategory[c]||0,f=r===c;return e.jsxs("button",{onClick:()=>i(c),className:`
                  px-3 py-2 text-sm font-medium rounded-t-lg transition-colors whitespace-nowrap
                  ${f?"bg-blue-50 text-blue-700 border-t border-x border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
                `,children:[V[c],e.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded text-xs ${f?"bg-blue-100":"bg-gray-200"}`,children:y})]},c)})})}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-600",children:Ye[r]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Available: ",m.length," insights"]})]}),e.jsx("div",{ref:u,className:"flex-1 overflow-y-auto p-4 space-y-3",children:m.length>0?m.map(c=>e.jsx(W,{insight:c,draggable:!0,inSelection:!1,onRemove:void 0},c.id)):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-sm text-gray-500",children:o?e.jsxs(e.Fragment,{children:['No insights match "',o,'"']}):s.length>0?e.jsxs(e.Fragment,{children:["All ",V[r].toLowerCase()," insights are selected"]}):e.jsxs(e.Fragment,{children:["No ",V[r].toLowerCase()," insights available"]})})})})]})}function Xe({selectedInsights:t,maxInsights:s,onRemoveInsight:l,onClearAll:r}){const{setNodeRef:i,isOver:o}=Z({id:"selection-area"}),d=t.length===0,u=t.length>=s;return e.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Selected Insights"}),!d&&e.jsxs("button",{onClick:r,className:"text-xs text-gray-600 hover:text-red-600 flex items-center gap-1 px-2 py-1 rounded hover:bg-red-50 transition-colors",children:[e.jsx(me,{className:"h-3 w-3"}),"Clear all"]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.length," of ",s," insights selected"]}),e.jsx("div",{className:"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${u?"bg-green-500":t.length>0?"bg-blue-500":"bg-gray-300"}`,style:{width:`${t.length/s*100}%`}})})]}),e.jsx(Ie,{items:t.map(p=>p.id),strategy:Re,children:e.jsx("div",{ref:i,className:`
            flex-1 overflow-y-auto p-4
            ${o?"bg-blue-50":""}
            ${d?"flex items-center justify-center":"space-y-3"}
          `,children:d?e.jsxs("div",{className:"text-center max-w-xs",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:e.jsx(S,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No insights selected yet"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Drag insights from the pool on the left to start building your campaign"})]}):t.map(p=>e.jsx(W,{insight:p,draggable:!0,inSelection:!0,onRemove:()=>l(p.id)},p.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsx("div",{className:"text-xs text-gray-600",children:u?e.jsx("p",{className:"text-green-700",children:"âœ“ Maximum insights selected. Ready to generate!"}):t.length>0?e.jsxs("p",{children:["ðŸ’¡ Add ",s-t.length," more insight",s-t.length!==1?"s":""," or generate now"]}):e.jsxs("p",{children:["Select 1-",s," insights to build your campaign"]})})})]})}const Ke=[{id:"linkedin",name:"LinkedIn",emoji:"ðŸ’¼"},{id:"facebook",name:"Facebook",emoji:"ðŸ‘"},{id:"instagram",name:"Instagram",emoji:"ðŸ“¸"},{id:"twitter",name:"Twitter",emoji:"ðŸ¦"},{id:"tiktok",name:"TikTok",emoji:"ðŸŽµ"}];function Qe({selectedInsights:t,platform:s,onPlatformChange:l,onGenerate:r}){const[i,o]=g.useState(null),[d,u]=g.useState(!1),[p,a]=g.useState(0),m=g.useCallback(async()=>{if(t.length===0){o(null);return}u(!0),setTimeout(()=>{var y;const c={headline:`${t.length} Powerful Insights Combined`,hook:((y=t[0])==null?void 0:y.displayTitle)||"Building your campaign...",bodyPreview:t.map(f=>f.insight.substring(0,80)+"...").join(`

`),fullBody:t.map(f=>f.insight).join(`

`),cta:"Learn more",hashtags:["#Marketing","#Business","#Growth"],engagementScore:Math.round(t.reduce((f,j)=>f+j.confidence,0)/t.length*100),platform:s,isLoading:!1};o(c),u(!1)},500)},[t,s]);g.useEffect(()=>{const c=setTimeout(()=>{m()},500);return()=>clearTimeout(c)},[p,m]),g.useEffect(()=>{a(c=>c+1)},[t,s]);const h=t.length>0;return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Live Preview"]}),i&&e.jsxs("button",{onClick:()=>a(c=>c+1),className:"text-xs text-gray-600 hover:text-blue-600 flex items-center gap-1 px-2 py-1 rounded hover:bg-blue-50 transition-colors",disabled:d,children:[e.jsx(xe,{className:`h-3 w-3 ${d?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto",children:Ke.map(c=>e.jsxs("button",{onClick:()=>l(c.id),className:`
                px-3 py-1.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap
                ${s===c.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
              `,children:[e.jsx("span",{className:"mr-1",children:c.emoji}),c.name]},c.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h?d?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx($,{className:"h-8 w-8 text-blue-600 animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Generating preview..."})]})}):i?e.jsxs("div",{className:"space-y-4",children:[i.engagementScore!==void 0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Estimated Engagement"}),e.jsxs("span",{className:"text-lg font-bold text-blue-700",children:[i.engagementScore,"%"]})]}),e.jsx("div",{className:"mt-2 h-2 bg-blue-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-500",style:{width:`${i.engagementScore}%`}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block",children:"Headline"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.headline})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block",children:"Hook"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i.hook})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block",children:"Body Preview"}),e.jsxs("div",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap bg-gray-50 border border-gray-200 rounded-lg p-3",children:[i.bodyPreview,e.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"... (full content will be generated)"})]})]}),i.cta&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block",children:"Call to Action"}),e.jsx("div",{className:"inline-block px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg",children:i.cta})]}),i.hashtags&&i.hashtags.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block",children:"Hashtags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.hashtags.map((c,y)=>e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:c},y))})]})]}):null:e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-xs",children:[e.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:e.jsx(U,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No preview yet"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select insights to see a live preview of your campaign content"})]})})}),h&&e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:r,disabled:d,className:`
              w-full px-4 py-3 rounded-lg font-medium transition-colors
              ${d?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}
            `,children:d?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx($,{className:"h-4 w-4 animate-spin"}),"Generating..."]}):"Generate Full Campaign"})})]})}function Ze({pool:t,onGenerate:s,maxInsights:l=5}){const[r,i]=g.useState([]),[o,d]=g.useState(null),[u,p]=g.useState("linkedin"),a=Le(Y(Me,{activationConstraint:{distance:8}}),Y(He,{activationConstraint:{delay:200,tolerance:5}})),m=g.useCallback(j=>{var N;const v=j.active.id;let k;if(k=r.find(x=>x.id===v),!k)for(const x of Object.keys(t.byCategory)){const b=(N=t.byCategory[x])==null?void 0:N.find(R=>R.id===v);if(b){k=b;break}}d(k||null)},[r,t.byCategory]),h=g.useCallback(j=>{var I;const{active:v,over:k}=j;if(d(null),!k)return;const N=v.id,x=k.id;let b;const R=r.find(w=>w.id===N);if(R)b=R;else for(const w of Object.keys(t.byCategory)){const C=(I=t.byCategory[w])==null?void 0:I.find(T=>T.id===N);if(C){b=C;break}}if(b){if(x==="selection-area"){if(r.some(w=>w.id===N)||r.length>=l)return;i(w=>[...w,b]);return}if(x==="insight-pool"){i(w=>w.filter(C=>C.id!==N));return}if(r.some(w=>w.id===N)&&r.some(w=>w.id===x)){const w=r.findIndex(T=>T.id===N),C=r.findIndex(T=>T.id===x);w!==-1&&C!==-1&&i(T=>Ee(T,w,C))}}},[r,t.byCategory,l]),c=g.useCallback(j=>{i(v=>v.filter(k=>k.id!==j))},[]),y=g.useCallback(()=>{i([])},[]),f=g.useCallback(()=>{r.length>0&&s(r)},[r,s]);return e.jsxs("div",{className:"h-full bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900",children:[e.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"px-4 sm:px-6 py-3 sm:py-4 border-b border-purple-200 dark:border-purple-700 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(n.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.5},className:"p-1.5 sm:p-2 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg shadow-lg flex-shrink-0",children:e.jsx(S,{className:"text-white",size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Content Mixer"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:"Drag insights to create your perfect campaign mix"})]})]})}),e.jsxs(De,{sensors:a,collisionDetection:$e,onDragStart:m,onDragEnd:h,children:[e.jsxs("div",{className:"h-[calc(100%-80px)] flex flex-col lg:flex-row gap-0",children:[e.jsx("div",{className:"w-full lg:w-80 xl:w-96 lg:h-full flex-shrink-0",children:e.jsx(qe,{pool:t,selectedInsightIds:r.map(j=>j.id)})}),e.jsx("div",{className:"w-full lg:w-80 xl:w-96 lg:h-full flex-shrink-0 border-x border-purple-200 dark:border-purple-700",children:e.jsx(Xe,{selectedInsights:r,maxInsights:l,onRemoveInsight:c,onClearAll:y})}),e.jsx("div",{className:"flex-1 lg:h-full",children:e.jsx(Qe,{selectedInsights:r,platform:u,onPlatformChange:p,onGenerate:f})})]}),e.jsx(ze,{children:o?e.jsx(n.div,{initial:{rotate:0,scale:1},animate:{rotate:3,scale:1.05},className:"opacity-90",children:e.jsx(W,{insight:o,draggable:!1,inSelection:!1})}):null})]})]})}const D={linkedin:{platform:"linkedin",displayName:"LinkedIn",icon:"linkedin",characterLimits:{headline:120,hook:150,body:3e3,cta:100,hashtags:5},supportsVideo:!0,supportsImages:!0,recommendedAspectRatio:"1:1"},facebook:{platform:"facebook",displayName:"Facebook",icon:"facebook",characterLimits:{hook:120,body:63206,cta:100,hashtags:30},supportsVideo:!0,supportsImages:!0,recommendedAspectRatio:"1.91:1"},instagram:{platform:"instagram",displayName:"Instagram",icon:"instagram",characterLimits:{hook:125,body:2200,cta:80,hashtags:30},supportsVideo:!0,supportsImages:!0,recommendedAspectRatio:"1:1"},x:{platform:"x",displayName:"X (Twitter)",icon:"twitter",characterLimits:{hook:280,body:280,cta:100,hashtags:2},supportsVideo:!0,supportsImages:!0,recommendedAspectRatio:"16:9"},tiktok:{platform:"tiktok",displayName:"TikTok",icon:"tiktok",characterLimits:{hook:100,body:2200,cta:80,hashtags:5},supportsVideo:!0,supportsImages:!1,recommendedAspectRatio:"9:16"},youtube:{platform:"youtube",displayName:"YouTube",icon:"youtube",characterLimits:{headline:100,hook:100,body:5e3,cta:100,hashtags:15},supportsVideo:!0,supportsImages:!0,recommendedAspectRatio:"16:9"}},Je=({platform:t,className:s="w-5 h-5"})=>{const l={linkedin:"ðŸ’¼",facebook:"ðŸ“˜",instagram:"ðŸ“¸",x:"âœ–ï¸",tiktok:"ðŸŽµ",youtube:"â–¶ï¸"};return e.jsx("span",{className:`${s} flex items-center justify-center text-lg`,children:l[t]})},et=({platform:t,isActive:s,characterCount:l,hasWarnings:r,onClick:i})=>{const o=D[t];return e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,"aria-label":`${o.displayName} platform${s?" (selected)":""}${r?" - has warnings":""}`,className:`
        relative flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-t-lg transition-all shadow-lg min-h-[44px] flex-shrink-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        ${s?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-white/50 dark:bg-slate-800/50 text-gray-600 dark:text-gray-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 border border-purple-200 dark:border-purple-700"}
      `,"aria-current":s?"page":void 0,children:[e.jsx(Je,{platform:t,className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"font-medium text-xs sm:text-sm whitespace-nowrap",children:o.displayName}),e.jsx("span",{className:`
        px-1.5 sm:px-2 py-0.5 rounded-full text-xs font-medium border whitespace-nowrap
        ${r?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-red-300 dark:border-red-700":s?"bg-white/20 text-white border-white/40":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border-purple-300 dark:border-purple-700"}
      `,children:l}),r&&e.jsx(n.span,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-slate-900"})]})},tt=({platforms:t,activePlatform:s,onPlatformChange:l,platformContent:r,mode:i,onModeChange:o})=>{var d,u,p;return e.jsxs("div",{className:"w-full border-b border-purple-200 dark:border-purple-700 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-slate-900 dark:to-slate-800",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 px-3 sm:px-4 py-2",children:[e.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide pb-1 sm:pb-0",children:t.map(a=>{var y;const m=r[a],h=(m==null?void 0:m.warnings)&&m.warnings.length>0,c=((y=m==null?void 0:m.characterCounts)==null?void 0:y.total)||0;return e.jsx(et,{platform:a,isActive:s===a,characterCount:c,hasWarnings:h,onClick:()=>l(a)},a)})}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 sm:ml-4 flex-shrink-0",role:"group","aria-label":"View mode",children:[e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o("preview"),"aria-label":"Preview mode","aria-pressed":i==="preview",className:`
              flex-1 sm:flex-none px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all shadow-lg min-h-[44px] sm:min-h-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
              ${i==="preview"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 border border-purple-200 dark:border-purple-700"}
            `,children:[e.jsx("span",{className:"hidden sm:inline",children:"ðŸ‘ï¸ Preview"}),e.jsx("span",{className:"sm:hidden",children:"ðŸ‘ï¸"})]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o("edit"),"aria-label":"Edit mode","aria-pressed":i==="edit",className:`
              flex-1 sm:flex-none px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all shadow-lg min-h-[44px] sm:min-h-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
              ${i==="edit"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 border border-purple-200 dark:border-purple-700"}
            `,children:[e.jsx("span",{className:"hidden sm:inline",children:"âœï¸ Edit"}),e.jsx("span",{className:"sm:hidden",children:"âœï¸"})]})]})]}),e.jsxs("div",{className:"px-3 sm:px-4 py-2 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-t border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-400",children:[e.jsx("span",{className:"font-medium",children:"Total Characters:"}),e.jsx("span",{className:"font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:((u=(d=r[s])==null?void 0:d.characterCounts)==null?void 0:u.total)||0})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs text-gray-600 dark:text-gray-400 overflow-x-auto scrollbar-hide",children:[D[s].supportsImages&&e.jsxs("span",{className:"flex items-center gap-1 px-1.5 sm:px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded border border-purple-200 dark:border-purple-700 whitespace-nowrap flex-shrink-0",children:["ðŸ–¼ï¸ ",e.jsx("span",{className:"hidden sm:inline",children:"Images"})]}),D[s].supportsVideo&&e.jsxs("span",{className:"flex items-center gap-1 px-1.5 sm:px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded border border-purple-200 dark:border-purple-700 whitespace-nowrap flex-shrink-0",children:["ðŸŽ¥ ",e.jsx("span",{className:"hidden sm:inline",children:"Video"})]}),e.jsxs("span",{className:"flex items-center gap-1 px-1.5 sm:px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded border border-purple-200 dark:border-purple-700 whitespace-nowrap flex-shrink-0",children:["ðŸ“ ",D[s].recommendedAspectRatio]})]})]}),((p=r[s])==null?void 0:p.warnings)&&r[s].warnings.length>0&&e.jsx(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n.span,{animate:{rotate:[0,-10,10,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},className:"text-red-500",children:"âš ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-red-700 dark:text-red-400",children:[r[s].warnings.length," warning(s) for this platform"]}),e.jsx("ul",{className:"mt-1 space-y-1",children:r[s].warnings.map((a,m)=>e.jsxs("li",{className:"text-xs text-red-600 dark:text-red-400",children:[a.section,": ",a.message]},m))})]})]})})]})]})},L=({section:t,value:s,characterCount:l,limit:r,isOverLimit:i,editable:o,onEdit:d})=>{const u={headline:"Headline",hook:"Hook",body:"Body",cta:"Call to Action",hashtags:"Hashtags"},p=()=>t==="hashtags"&&Array.isArray(s)?e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((a,m)=>e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-md text-sm font-medium",children:["#",a]},m))}):e.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:s});return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:u[t]}),o&&e.jsxs("button",{onClick:d,"aria-label":`Edit ${u[t]}`,className:"px-3 py-2 min-h-[44px] min-w-[44px] text-xs bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center gap-1",children:[e.jsx("span",{children:"âœï¸"}),e.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`
            text-xs font-medium
            ${i?"text-red-600 dark:text-red-400":l>(r||0)*.9?"text-yellow-600 dark:text-yellow-400":"text-gray-500 dark:text-gray-400"}
          `,children:[l,r?` / ${r}`:""]}),i&&e.jsx("span",{className:"text-red-500 text-xs",children:"âš ï¸"})]})]}),e.jsx("div",{className:`
        p-3 rounded-lg border
        ${i?"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800":"bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700"}
      `,children:p()})]})},rt=({platform:t,content:s})=>{const{sections:l}=s;return e.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:"Your Business"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Just now Â· ðŸŒ"})]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[l.headline&&e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:l.headline}),l.hook&&e.jsx("p",{className:"text-base font-medium text-gray-800 dark:text-gray-200",children:l.hook}),l.body&&e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:l.body}),l.cta&&e.jsx("p",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:l.cta}),l.hashtags&&l.hashtags.length>0&&e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:l.hashtags.map(r=>`#${r}`).join(" ")})]}),s.mediaUrls&&s.mediaUrls.length>0&&e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 h-64 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"ðŸ“· Media Preview"})}),e.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("button",{"aria-label":"Like this post",className:"flex items-center gap-1.5 sm:gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-h-[44px] px-2 rounded",children:[e.jsx("span",{children:"ðŸ‘"}),e.jsx("span",{className:"hidden sm:inline",children:"Like"})]}),e.jsxs("button",{"aria-label":"Comment on this post",className:"flex items-center gap-1.5 sm:gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-h-[44px] px-2 rounded",children:[e.jsx("span",{children:"ðŸ’¬"}),e.jsx("span",{className:"hidden sm:inline",children:"Comment"})]}),e.jsxs("button",{"aria-label":"Share this post",className:"flex items-center gap-1.5 sm:gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-h-[44px] px-2 rounded",children:[e.jsx("span",{children:"ðŸ”„"}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]})})]})},X=({content:t,platform:s,editable:l,showSocialPreview:r=!0,onEditSection:i})=>{const o=D[s],{sections:d,characterCounts:u,warnings:p}=t,a=h=>o.characterLimits[h],m=h=>{const c=a(h);return c?h==="hashtags"?d.hashtags.length>c:(u[h]||0)>c:!1};return e.jsxs("div",{className:"w-full space-y-6",children:[r&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"ðŸ“± Social Media Preview"}),e.jsx(rt,{platform:s,content:t})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"ðŸ“ Content Breakdown"}),e.jsxs("div",{className:"space-y-4 bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[d.headline&&e.jsx(L,{section:"headline",value:d.headline,characterCount:u.headline||d.headline.length,limit:a("headline"),isOverLimit:m("headline"),editable:l,onEdit:()=>i==null?void 0:i("headline")}),e.jsx(L,{section:"hook",value:d.hook,characterCount:u.hook,limit:a("hook"),isOverLimit:m("hook"),editable:l,onEdit:()=>i==null?void 0:i("hook")}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),e.jsx(L,{section:"body",value:d.body,characterCount:u.body,limit:a("body"),isOverLimit:m("body"),editable:l,onEdit:()=>i==null?void 0:i("body")}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),e.jsx(L,{section:"cta",value:d.cta,characterCount:d.cta.length,limit:a("cta"),isOverLimit:m("cta"),editable:l,onEdit:()=>i==null?void 0:i("cta")}),d.hashtags&&d.hashtags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"}),e.jsx(L,{section:"hashtags",value:d.hashtags,characterCount:d.hashtags.length,limit:a("hashtags"),isOverLimit:m("hashtags"),editable:l,onEdit:()=>i==null?void 0:i("hashtags")})]})]})]}),p&&p.length>0&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-sm text-yellow-800 dark:text-yellow-400 mb-2",children:"âš ï¸ Platform Warnings"}),e.jsx("ul",{className:"space-y-1",children:p.map((h,c)=>e.jsxs("li",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:[e.jsxs("span",{className:"font-medium",children:[h.section,":"]})," ",h.message]},c))})]})]})},at=({value:t,onChange:s,placeholder:l,className:r="",maxLength:i})=>{const o=g.useRef(null);return g.useEffect(()=>{const d=o.current;d&&(d.style.height="auto",d.style.height=`${d.scrollHeight}px`)},[t]),e.jsx("textarea",{ref:o,value:t,onChange:d=>s(d.target.value),placeholder:l,className:r,maxLength:i,rows:3})},st=({hashtags:t,onChange:s,maxHashtags:l})=>{const[r,i]=g.useState(""),o=()=>{const p=r.trim().replace(/^#/,"");p&&!t.includes(p)&&(!l||t.length<l)&&(s([...t,p]),i(""))},d=p=>{s(t.filter((a,m)=>m!==p))},u=p=>{p.key==="Enter"&&(p.preventDefault(),o())};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((p,a)=>e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full",children:[e.jsxs("span",{className:"text-sm font-medium",children:["#",p]}),e.jsx("button",{onClick:()=>d(a),className:"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200",children:"Ã—"})]},a))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:p=>i(p.target.value),onKeyPress:u,placeholder:"Add hashtag...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:o,disabled:!r.trim()||l!==void 0&&t.length>=l,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:"Add"})]}),l&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.length," / ",l," hashtags"]})]})},lt=({alternatives:t,onSelect:s,onClose:l})=>e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-700 dark:text-gray-300",children:"âœ¨ AI-Generated Alternatives"}),e.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Ã—"})]}),t.map((r,i)=>e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:Array.isArray(r.value)?r.value.join(", "):r.value}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic",children:["ðŸ’¡ ",r.reasoning]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.characterCount," characters"]}),e.jsx("button",{onClick:()=>s(i),className:"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Use This"})]})]})},i))]}),it=({section:t,value:s,limit:l,onChange:r,onSave:i,onCancel:o,onRegenerate:d})=>{const[u,p]=g.useState(!1),[a,m]=g.useState(null),[h,c]=g.useState(!1),y={headline:"Headline",hook:"Hook",body:"Body",cta:"Call to Action",hashtags:"Hashtags"},f={headline:"Enter a compelling headline...",hook:"Write an attention-grabbing opening...",body:"Craft your main message...",cta:"Add a clear call to action...",hashtags:"Add relevant hashtags..."},j=(Array.isArray(s),s.length),v=l?j>l:!1,k=async x=>{if(d){p(!0);try{const b=await d(x);m(b)}catch(b){console.error("Regeneration failed:",b)}finally{p(!1)}}},N=x=>{a&&a.alternatives[x]&&(r(a.alternatives[x].value),m(null))};return e.jsxs("div",{className:"w-full space-y-4 p-6 bg-white dark:bg-gray-800 rounded-lg border-2 border-blue-500",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["âœï¸ Editing: ",y[t]]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`
            text-sm font-medium
            ${v?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}
          `,children:[j,l?` / ${l}`:""]}),v&&e.jsx("span",{className:"text-red-500",children:"âš ï¸"})]})]}),t==="hashtags"?e.jsx(st,{hashtags:s,onChange:r,maxHashtags:l}):e.jsx(at,{value:s,onChange:r,placeholder:f[t],maxLength:l,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>k(),disabled:u||!d,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 disabled:from-gray-300 disabled:to-gray-400 dark:disabled:from-gray-600 dark:disabled:to-gray-700 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:"âš™ï¸"}),e.jsx("span",{children:"Regenerating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"âœ¨"}),e.jsx("span",{children:"Regenerate with AI"})]})}),d&&e.jsxs("button",{onClick:()=>c(!h),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[h?"â–¼":"â–¶"," Options"]})]}),h&&e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ðŸš§ Advanced regeneration options coming soon (tone, length, focus)"})}),a&&e.jsx(lt,{alternatives:a.alternatives,onSelect:N,onClose:()=>m(null)}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:v,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors",children:"ðŸ’¾ Save Changes"})]})]})},nt=({type:t})=>{const l={"authority-builder":{label:"ðŸŽ“ Authority Builder",className:"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 dark:from-purple-900/30 dark:to-blue-900/30 dark:text-purple-400 border border-purple-200 dark:border-purple-700"},"social-proof":{label:"â­ Social Proof",className:"bg-gradient-to-r from-green-100 to-blue-100 text-green-700 dark:from-green-900/30 dark:to-blue-900/30 dark:text-green-400 border border-green-200 dark:border-green-700"},"local-pulse":{label:"ðŸ“ Local Pulse",className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 dark:from-blue-900/30 dark:to-purple-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-700"}}[t];return e.jsx(n.span,{whileHover:{scale:1.05},className:`px-3 py-1 rounded-full text-sm font-medium shadow-sm ${l.className}`,children:l.label})},ot=({campaignName:t,campaignType:s,createdAt:l})=>e.jsx(n.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 border-b border-purple-200 dark:border-purple-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:t}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nt,{type:s}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",new Date(l).toLocaleDateString()]})]})]}),e.jsxs(n.div,{initial:{scale:.9},animate:{scale:1},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg shadow-lg",children:[e.jsx(n.span,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-400",children:"Awaiting Approval"})]})]})}),dt=({onEdit:t,onApprove:s,onReject:l,onRegenerateAll:r,isEditing:i,isLoading:o})=>e.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 border-t border-purple-200 dark:border-purple-700 p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[i&&e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg",children:"ðŸ‘ï¸ Back to Preview"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,disabled:o,className:"px-4 py-2 border-2 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-400 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(n.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"âš™ï¸"}),"Regenerating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{size:16}),"Regenerate All"]})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"px-6 py-2 border-2 border-red-300 dark:border-red-600 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-all shadow-lg",children:"âŒ Reject"}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg flex items-center gap-2",children:[e.jsx(S,{size:18}),"Approve & Publish"]})]})]})}),ct=({campaignData:t,onApprove:s,onReject:l,onRegenerateAll:r,onSectionRegenerate:i})=>{const[o,d]=g.useState(t.platforms[0]),[u,p]=g.useState("preview"),[a,m]=g.useState(null),[h,c]=g.useState(t),[y,f]=g.useState(!1),j=C=>{p(C),C==="preview"&&m(null)},v=C=>{m(C),p("edit")},k=()=>{m(null),p("preview")},N=()=>{c(t),m(null),p("preview")},x=C=>{a&&c(T=>({...T,content:{...T.content,[o]:{...T.content[o],sections:{...T.content[o].sections,[a]:C}}}}))},b=async()=>{f(!0);try{await r()}catch(C){console.error("Failed to regenerate all:",C)}finally{f(!1)}},R=async C=>{if(!a||!i)throw new Error("Section regeneration not available");return await i(o,a,C)},I=h.content[o],w=a?I.sections[a]:"";return e.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900",children:[e.jsx(ot,{campaignName:h.campaignName,campaignType:h.campaignType,createdAt:h.createdAt}),e.jsx(tt,{platforms:h.platforms,activePlatform:o,onPlatformChange:d,platformContent:h.content,mode:u,onModeChange:j}),e.jsx("div",{className:"container mx-auto px-6 py-8",children:e.jsx(B,{mode:"wait",children:u==="preview"?e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsx(X,{content:I,platform:o,editable:!0,showSocialPreview:!0,onEditSection:v})},"preview"):e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50/50 via-blue-50/50 to-violet-50/50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-700 p-4 rounded-xl border border-purple-200 dark:border-purple-700 shadow-lg",children:[e.jsxs("h3",{className:"text-sm font-semibold text-purple-900 dark:text-purple-200 mb-3 flex items-center gap-2",children:[e.jsx(S,{size:16}),"Current Preview"]}),e.jsx(X,{content:I,platform:o,editable:!1,showSocialPreview:!1,onEditSection:v})]}),a?e.jsx(it,{section:a,value:w,limit:I.characterCounts[a],onChange:x,onSave:k,onCancel:N,onRegenerate:i?R:void 0}):e.jsx("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl border-2 border-dashed border-purple-300 dark:border-purple-700 text-center shadow-lg",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:'Click "Edit" on any section above to start editing'})})]},"edit")})}),e.jsx(dt,{onEdit:()=>j(u==="preview"?"edit":"preview"),onApprove:s,onReject:l,onRegenerateAll:b,isEditing:u==="edit",isLoading:y})]})},pt=t=>t.replace(/_/g,"-");function Nt(){const t=ue(),[s]=ge(),l=s.get("businessId")||"demo-business",[r,i]=g.useState(null),[o,d]=g.useState(!0),[u,p]=g.useState(null),[a,m]=g.useState("IDLE"),[h,c]=g.useState(null),y={business:{profile:{id:l,name:"Acme Consulting",industry:"Professional Services",naicsCode:"541611",website:"https://acme-consulting.com",location:{city:"San Francisco",state:"CA",country:"USA",lat:37.7749,lon:-122.4194},keywords:["consulting","strategy","transformation"],competitors:["Big Consulting Inc"]},brandVoice:{tone:["professional","authoritative"],values:["Excellence"],personality:["Expert"],avoidWords:[],signaturePhrases:[]},uniqueAdvantages:["20 years experience"],goals:[{goal:"Increase brand awareness",priority:"primary",timeframe:"Q1 2025",metrics:[]}]},industry:{profile:null,trends:[{trend:"Digital transformation",direction:"rising",strength:.85,timeframe:"2025",impact:"high",sources:[]}],seasonality:[],competitiveLandscape:{topCompetitors:[],marketConcentration:"moderate",barrierToEntry:"high"},economicFactors:[]},realTimeCultural:{weather:null,localEvents:[],trendingTopics:[],culturalMoments:[],seasonalContext:null,reviews:null},competitiveIntel:{blindSpots:[],mistakes:[],opportunities:[],contentGaps:[],positioningWeaknesses:[]},customerPsychology:{unarticulated:[],emotional:[],behavioral:[],identityDesires:[],purchaseMotivations:[],objections:[]},synthesis:{keyInsights:["Digital transformation is top priority","Change management critical"],hiddenPatterns:[],opportunityScore:82,recommendedAngles:[],confidenceLevel:.85,generatedAt:new Date},metadata:{aggregatedAt:new Date,dataSourcesUsed:["Website"],processingTimeMs:5e3,version:"1.0.0"}},f={byCategory:{local:[],trending:[{id:"trending-1",type:"predictive_opportunity",thinkingStyle:"analytical",category:"trending",insight:"Digital transformation spending expected to reach $3.4T",whyProfound:"Massive market shift",whyNow:"Post-pandemic acceleration",contentAngle:"Industry leadership",expectedReaction:"High engagement",evidence:["IDC Research"],displayTitle:"Digital Transformation Growth",confidence:.9,dataSource:"IDC Research",metadata:{generatedAt:new Date,model:"mock"}}],seasonal:[],industry:[{id:"industry-1",type:"strategic_implication",thinkingStyle:"analytical",category:"industry",insight:"Professional services seeing 40% increase in demand",whyProfound:"Sustained growth trend",whyNow:"Economic recovery",contentAngle:"Market opportunity",expectedReaction:"Business interest",evidence:["Industry Analysis"],displayTitle:"Consulting Demand Surge",confidence:.85,dataSource:"Industry Analysis",metadata:{generatedAt:new Date,model:"mock"}}],reviews:[],competitive:[]},totalCount:2,countByCategory:{local:0,trending:1,seasonal:0,industry:1,reviews:0,competitive:0}};g.useEffect(()=>{(async()=>{try{d(!0);const b=await A.initialize({businessId:l,context:y});i(b),m(b.state),p(null)}catch(b){p(b instanceof Error?b.message:"Failed to initialize campaign")}finally{d(!1)}})()},[l]),g.useEffect(()=>A.onStateChange(b=>{i(b),m(b.state)}),[]);const j=x=>{try{const b=A.selectCampaignType(x);i(b)}catch(b){p(b instanceof Error?b.message:"Failed to select campaign type")}},v=async x=>{try{const b=x.insights.slice(0,3);await A.selectSmartPick({smartPickId:x.id,insights:b}),await A.generateCampaign()}catch(b){p(b instanceof Error?b.message:"Failed to generate campaign")}},k=async x=>{try{await A.selectCustomInsights(x),await A.generateCampaign()}catch(b){p(b instanceof Error?b.message:"Failed to generate campaign")}},N=async()=>{try{await A.approveCampaign(),t("/content-calendar")}catch(x){p(x instanceof Error?x.message:"Failed to approve campaign")}};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 flex items-center justify-center",children:e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center space-y-4",children:[e.jsx($,{className:"h-16 w-16 animate-spin text-purple-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Initializing Campaign Workflow"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Preparing your intelligent campaign builder..."})]})}):u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 flex items-center justify-center p-4",children:e.jsxs(_,{className:"max-w-md p-6 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:[e.jsx("h2",{className:"text-xl font-semibold text-red-900 dark:text-red-100 mb-2",children:"Error"}),e.jsx("p",{className:"text-red-700 dark:text-red-300 mb-4",children:u}),e.jsx(E,{onClick:()=>window.location.reload(),className:"w-full",children:"Retry"})]})}):r?(console.log("[CampaignPage] Rendering with state:",a,"selectionMode:",h),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900",children:[e.jsx("div",{className:"border-b border-purple-100 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-purple-100 dark:hover:bg-slate-800 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center flex-shrink-0","aria-label":"Go back",children:e.jsx(F,{className:"h-5 w-5 text-gray-600 dark:text-slate-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-1",children:[e.jsx(S,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 dark:text-purple-400 flex-shrink-0"}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 dark:text-white truncate",children:"Campaign Builder"})]}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400 mt-1 line-clamp-1",children:[a==="IDLE"&&"Select your campaign type",a==="TYPE_SELECTED"&&"Choose how to build your campaign",a==="GENERATING"&&"Creating your campaign content...",a==="PREVIEW"&&"Review and approve your campaign"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3 flex-shrink-0",children:[e.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 whitespace-nowrap",children:[r.progress,"% Complete"]}),e.jsx("div",{className:"w-24 sm:w-32 h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx(n.div,{initial:{width:0},animate:{width:`${r.progress}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-purple-600 to-blue-600"})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(B,{mode:"wait",children:[a==="IDLE"&&r.context&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsx(Fe,{context:r.context,onContinue:j})},"type-selection"),a==="TYPE_SELECTED"&&!h&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-4xl mx-auto",children:e.jsxs(_,{className:"p-8 bg-white dark:bg-slate-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"How would you like to build your campaign?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("button",{onClick:()=>c("smart-picks"),className:"group text-left p-4 sm:p-6 border-2 border-purple-200 dark:border-purple-800 rounded-xl hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all min-h-[160px]",children:[e.jsx(P,{className:"h-8 w-8 sm:h-10 sm:w-10 text-purple-600 dark:text-purple-400 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Smart Picks"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"AI-curated campaign recommendations. Select one and go!"}),e.jsx("span",{className:"inline-block mt-2 sm:mt-3 text-xs sm:text-sm font-medium text-purple-600 dark:text-purple-400",children:"Recommended â†’"})]}),e.jsxs("button",{onClick:()=>c("mixer"),className:"group text-left p-4 sm:p-6 border-2 border-blue-200 dark:border-blue-800 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all min-h-[160px]",children:[e.jsx(S,{className:"h-8 w-8 sm:h-10 sm:w-10 text-blue-600 dark:text-blue-400 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Content Mixer"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300",children:"Build custom campaigns by selecting specific insights"}),e.jsx("span",{className:"inline-block mt-2 sm:mt-3 text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400",children:"For custom campaigns â†’"})]})]})]})},"mode-selection"),a==="TYPE_SELECTED"&&h==="smart-picks"&&r.context&&r.selectedType&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsxs(E,{variant:"ghost",onClick:()=>c(null),className:"mb-4",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(_e,{context:r.context,campaignType:r.selectedType?pt(r.selectedType):void 0,onGenerateCampaign:v,onSwitchToMixer:()=>c("mixer")})]},"smart-picks"),a==="TYPE_SELECTED"&&h==="mixer"&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[e.jsxs(E,{variant:"ghost",onClick:()=>c(null),className:"mb-4",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(Ze,{pool:f,onGenerate:k,maxInsights:5})]},"content-mixer"),a==="GENERATING"&&e.jsx(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx($,{className:"h-20 w-20 animate-spin text-purple-600 mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Generating Your Campaign"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Creating personalized content for all platforms..."})]})},"generating"),(a==="PREVIEW"||a==="APPROVED")&&r.generatedContent&&e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx(ct,{campaignData:r.generatedContent,onApprove:N,onReject:()=>console.log("Rejected"),onRegenerateAll:async()=>console.log("Regenerate all")})},"preview")]})})]})):(console.log("[CampaignPage] No session, returning null"),null)}export{Nt as CampaignPage};
//# sourceMappingURL=CampaignPage-qp2N_cxh.js.map
