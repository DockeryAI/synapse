{"version":3,"file":"CampaignPage-BSFdj4Dl.js","sources":["../../src/components/campaign/CampaignTypeCard.tsx","../../src/components/campaign/CampaignTypeSelector.tsx","../../src/components/campaign/smart-picks/SmartPickCard.tsx","../../src/components/campaign/smart-picks/QuickPreview.tsx","../../src/components/campaign/smart-picks/SmartPicks.tsx","../../src/components/campaign/content-mixer/InsightCard.tsx","../../src/components/campaign/content-mixer/InsightPool.tsx","../../src/components/campaign/content-mixer/SelectionArea.tsx","../../src/components/campaign/content-mixer/LivePreview.tsx","../../src/components/campaign/content-mixer/ContentMixer.tsx","../../src/types/campaign-preview.types.ts","../../src/components/campaign/preview/PlatformTabs.tsx","../../src/components/campaign/preview/CampaignPreviewCard.tsx","../../src/components/campaign/preview/EditSection.tsx","../../src/components/campaign/preview/CampaignPreview.tsx","../../src/pages/CampaignPage.tsx"],"sourcesContent":["/**\n * CampaignTypeCard Component\n *\n * Displays a single campaign type option with:\n * - Icon and title\n * - Description\n * - \"Recommended\" badge\n * - Ideal for tags\n * - Selection state\n * - Click interaction\n */\n\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { cn } from '@/lib/utils';\nimport { CampaignType } from '../../types/campaign.types';\nimport * as Icons from 'lucide-react';\nimport { Sparkles } from 'lucide-react';\n\nexport interface CampaignTypeCardProps {\n  type: CampaignType;\n  selected: boolean;\n  onClick: () => void;\n}\n\nexport const CampaignTypeCard: React.FC<CampaignTypeCardProps> = ({\n  type,\n  selected,\n  onClick\n}) => {\n  // Get icon component dynamically\n  const IconComponent = (Icons as any)[type.icon] || Icons.HelpCircle;\n\n  // Synapse purple/blue gradient color scheme\n  const colorClasses = {\n    blue: {\n      badge: 'bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/30 dark:to-purple-900/30',\n      icon: 'text-blue-600 dark:text-blue-400',\n      border: 'ring-purple-500 dark:ring-purple-400',\n      recommended: 'bg-gradient-to-r from-purple-600 to-blue-600'\n    },\n    green: {\n      badge: 'bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/30 dark:to-blue-900/30',\n      icon: 'text-purple-600 dark:text-purple-400',\n      border: 'ring-purple-500 dark:ring-purple-400',\n      recommended: 'bg-gradient-to-r from-purple-600 to-blue-600'\n    },\n    orange: {\n      badge: 'bg-gradient-to-br from-violet-50 to-blue-50 dark:from-violet-900/30 dark:to-blue-900/30',\n      icon: 'text-violet-600 dark:text-violet-400',\n      border: 'ring-purple-500 dark:ring-purple-400',\n      recommended: 'bg-gradient-to-r from-purple-600 to-blue-600'\n    }\n  };\n\n  const colors = colorClasses[type.color as keyof typeof colorClasses] || colorClasses.blue;\n\n  return (\n    <motion.div\n      whileHover={{ scale: 1.02, y: -4 }}\n      whileTap={{ scale: 0.98 }}\n      transition={{ duration: 0.2 }}\n    >\n      <Card\n        className={cn(\n          'cursor-pointer transition-all duration-300 relative overflow-hidden h-full',\n          'bg-white dark:bg-slate-800 border-2',\n          selected\n            ? `${colors.border} ring-2 shadow-xl`\n            : 'border-purple-100 dark:border-purple-900/30 hover:border-purple-300 dark:hover:border-purple-700 hover:shadow-lg'\n        )}\n        onClick={onClick}\n      >\n        {/* Recommended Badge */}\n        {type.recommended && (\n          <motion.div\n            className=\"absolute top-0 right-0 z-10\"\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.3 }}\n          >\n            <div className={cn(\n              'px-3 py-1 text-xs font-semibold text-white rounded-bl-lg shadow-md flex items-center gap-1',\n              colors.recommended\n            )}>\n              <Sparkles className=\"h-3 w-3\" />\n              Recommended\n            </div>\n          </motion.div>\n        )}\n\n        <CardHeader className=\"pb-3\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={cn(\n                'w-12 h-12 rounded-xl flex items-center justify-center shadow-sm',\n                colors.badge\n              )}>\n                <IconComponent className={cn('w-6 h-6', colors.icon)} />\n              </div>\n              <div>\n                <CardTitle className=\"text-xl text-gray-900 dark:text-white\">\n                  {type.name}\n                </CardTitle>\n                {type.confidenceScore !== undefined && (\n                  <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1 flex items-center gap-1\">\n                    <span className=\"font-semibold text-purple-600 dark:text-purple-400\">\n                      {Math.round(type.confidenceScore * 100)}%\n                    </span>\n                    data match\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <CardDescription className=\"mt-3 text-sm text-gray-600 dark:text-gray-300\">\n            {type.description}\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent className=\"space-y-4\">\n          {/* Recommendation Reason */}\n          {type.recommendationReason && (\n            <div className=\"bg-gradient-to-br from-purple-50/50 to-blue-50/50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg p-3 text-sm border border-purple-100 dark:border-purple-800\">\n              <p className=\"text-gray-700 dark:text-gray-300\">\n                <span className=\"font-medium text-purple-700 dark:text-purple-300\">Why this works: </span>\n                {type.recommendationReason}\n              </p>\n            </div>\n          )}\n\n          {/* Ideal For */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-2 text-gray-700 dark:text-gray-300\">Best for:</h4>\n            <div className=\"flex flex-wrap gap-1.5\">\n              {type.idealFor.slice(0, 3).map((ideal, idx) => (\n                <Badge\n                  key={idx}\n                  variant=\"secondary\"\n                  className=\"text-xs bg-purple-100 text-purple-800 dark:bg-purple-800/40 dark:text-purple-200 hover:bg-purple-200 dark:hover:bg-purple-800/60 border-0\"\n                >\n                  {ideal}\n                </Badge>\n              ))}\n              {type.idealFor.length > 3 && (\n                <Badge\n                  variant=\"secondary\"\n                  className=\"text-xs bg-purple-100 text-purple-800 dark:bg-purple-800/40 dark:text-purple-200 border-0\"\n                >\n                  +{type.idealFor.length - 3} more\n                </Badge>\n              )}\n            </div>\n          </div>\n\n          {/* Platforms */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-2 text-gray-700 dark:text-gray-300\">Top platforms:</h4>\n            <div className=\"flex flex-wrap gap-1.5\">\n              {type.platforms.slice(0, 4).map((platform, idx) => (\n                <Badge\n                  key={idx}\n                  variant=\"outline\"\n                  className=\"text-xs border-purple-300 text-purple-800 dark:border-purple-600 dark:text-purple-300 bg-transparent\"\n                >\n                  {platform}\n                </Badge>\n              ))}\n            </div>\n          </div>\n        </CardContent>\n\n        {/* Selection Indicator */}\n        {selected && (\n          <motion.div\n            className=\"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-600 to-blue-600\"\n            layoutId=\"selectedCard\"\n            transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n          />\n        )}\n      </Card>\n    </motion.div>\n  );\n};\n","/**\n * CampaignTypeSelector Component\n *\n * Container component that:\n * - Accepts DeepContext intelligence data\n * - Uses AI recommender to suggest best campaign type\n * - Displays 3 campaign type options in grid\n * - Auto-selects recommended type\n * - Allows manual selection override\n * - Provides continue button when selection made\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { DeepContext } from '../../types/synapse/deepContext.types';\nimport { CampaignType, CampaignTypeId } from '../../types/campaign.types';\nimport { campaignRecommender } from '../../services/campaign/CampaignRecommender';\nimport { CampaignTypeCard } from './CampaignTypeCard';\nimport { Button } from '@/components/ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '@/components/ui/dialog';\nimport { HelpCircle, ArrowRight, Sparkles, Zap } from 'lucide-react';\n\nexport interface CampaignTypeSelectorProps {\n  context: DeepContext;\n  onContinue: (selectedType: CampaignTypeId) => void;\n  className?: string;\n}\n\nexport const CampaignTypeSelector: React.FC<CampaignTypeSelectorProps> = ({\n  context,\n  onContinue,\n  className = ''\n}) => {\n  const [campaignTypes, setCampaignTypes] = useState<CampaignType[]>([]);\n  const [selectedType, setSelectedType] = useState<CampaignTypeId | null>(null);\n  const [recommendedType, setRecommendedType] = useState<CampaignTypeId | null>(null);\n  const [reasoning, setReasoning] = useState<string>('');\n  const [confidenceScore, setConfidenceScore] = useState<number>(0);\n\n  // Run AI recommendation on mount\n  useEffect(() => {\n    const result = campaignRecommender.recommendCampaignType(context);\n\n    setCampaignTypes(result.all);\n    setRecommendedType(result.recommended.id);\n    setSelectedType(result.recommended.id); // Auto-select recommended\n    setReasoning(result.reasoning);\n    setConfidenceScore(result.confidenceScore);\n  }, [context]);\n\n  // Handle selection change\n  const handleTypeSelect = (typeId: CampaignTypeId) => {\n    setSelectedType(typeId);\n  };\n\n  // Handle continue\n  const handleContinue = () => {\n    if (selectedType) {\n      onContinue(selectedType);\n    }\n  };\n\n  return (\n    <div className={className}>\n      {/* Header */}\n      <motion.div\n        className=\"mb-6 sm:mb-8\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.1 }}\n      >\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4 mb-4\">\n          <div className=\"flex items-center gap-2 sm:gap-3\">\n            <Sparkles className=\"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 dark:text-purple-400 flex-shrink-0\" />\n            <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white\">\n              Choose Your Campaign Type\n            </h2>\n          </div>\n\n          {/* Why this type? Dialog */}\n          <Dialog>\n            <DialogTrigger asChild>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"border-purple-300 text-gray-700 hover:bg-purple-50 hover:text-purple-700 hover:border-purple-400 dark:border-purple-700 dark:text-gray-300 dark:hover:bg-purple-900/20 dark:hover:text-purple-300 dark:hover:border-purple-600 transition-colors w-full sm:w-auto min-h-[44px]\"\n              >\n                <HelpCircle className=\"w-4 h-4 mr-2\" />\n                <span className=\"hidden sm:inline\">Why these recommendations?</span>\n                <span className=\"sm:hidden\">Why these?</span>\n              </Button>\n            </DialogTrigger>\n            <DialogContent className=\"max-w-2xl\">\n              <DialogHeader>\n                <DialogTitle className=\"text-2xl text-gray-900 dark:text-white\">\n                  How We Recommend Campaign Types\n                </DialogTitle>\n                <DialogDescription className=\"space-y-4 pt-4\">\n                  <p className=\"text-base\">\n                    Our AI analyzes your business intelligence data to recommend\n                    the best campaign type for your unique situation.\n                  </p>\n\n                  <div className=\"space-y-3\">\n                    <div className=\"p-4 rounded-lg bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20\">\n                      <h4 className=\"font-semibold mb-1 text-purple-700 dark:text-purple-300 flex items-center gap-2\">\n                        <Zap className=\"h-4 w-4\" />\n                        Authority Builder\n                      </h4>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Recommended when you have strong industry expertise,\n                        competitive insights, or thought leadership opportunities.\n                      </p>\n                    </div>\n\n                    <div className=\"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20\">\n                      <h4 className=\"font-semibold mb-1 text-blue-700 dark:text-blue-300 flex items-center gap-2\">\n                        <Sparkles className=\"h-4 w-4\" />\n                        Social Proof\n                      </h4>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Recommended when you have customer reviews, testimonials,\n                        or strong local presence to leverage.\n                      </p>\n                    </div>\n\n                    <div className=\"p-4 rounded-lg bg-gradient-to-br from-violet-50 to-blue-50 dark:from-violet-900/20 dark:to-blue-900/20\">\n                      <h4 className=\"font-semibold mb-1 text-violet-700 dark:text-violet-300 flex items-center gap-2\">\n                        <Zap className=\"h-4 w-4\" />\n                        Local Pulse\n                      </h4>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Recommended when you have location data, weather patterns,\n                        or local events to create timely campaigns.\n                      </p>\n                    </div>\n                  </div>\n\n                  {recommendedType && (\n                    <motion.div\n                      className=\"mt-4 p-4 bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-lg border border-purple-200 dark:border-purple-700\"\n                      initial={{ opacity: 0, scale: 0.95 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      <h4 className=\"font-semibold mb-2 text-purple-700 dark:text-purple-300\">\n                        For Your Business:\n                      </h4>\n                      <p className=\"text-sm\">{reasoning}</p>\n                      <p className=\"text-sm text-muted-foreground mt-2\">\n                        Confidence: {Math.round(confidenceScore * 100)}%\n                      </p>\n                    </motion.div>\n                  )}\n                </DialogDescription>\n              </DialogHeader>\n            </DialogContent>\n          </Dialog>\n        </div>\n\n        <p className=\"text-gray-600 dark:text-gray-400 text-lg\">\n          Based on your business intelligence, we've analyzed the best campaign\n          strategy for your goals. Select one to continue.\n        </p>\n      </motion.div>\n\n      {/* Campaign Type Grid */}\n      <motion.div\n        className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.2 }}\n      >\n        {campaignTypes.map((type, index) => (\n          <motion.div\n            key={type.id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5, delay: 0.3 + index * 0.1 }}\n          >\n            <CampaignTypeCard\n              type={type}\n              selected={selectedType === type.id}\n              onClick={() => handleTypeSelect(type.id)}\n            />\n          </motion.div>\n        ))}\n      </motion.div>\n\n      {/* Data Strength Indicator */}\n      <AnimatePresence>\n        {selectedType && (\n          <motion.div\n            className=\"mb-8 p-6 bg-gradient-to-br from-purple-50/50 via-blue-50/50 to-violet-50/50 dark:from-purple-900/10 dark:via-blue-900/10 dark:to-violet-900/10 rounded-xl border border-purple-200/50 dark:border-purple-700/50\"\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            transition={{ duration: 0.3 }}\n          >\n            <h3 className=\"font-semibold mb-4 text-purple-700 dark:text-purple-300\">\n              Data Strength for Selected Type\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <DataStrengthBar\n                label=\"Authority Data\"\n                score={campaignTypes.find(t => t.id === 'authority_builder')?.confidenceScore || 0}\n                active={selectedType === 'authority_builder'}\n              />\n              <DataStrengthBar\n                label=\"Social Proof Data\"\n                score={campaignTypes.find(t => t.id === 'trust_builder')?.confidenceScore || 0}\n                active={selectedType === 'trust_builder'}\n              />\n              <DataStrengthBar\n                label=\"Local Pulse Data\"\n                score={campaignTypes.find(t => t.id === 'community_champion')?.confidenceScore || 0}\n                active={selectedType === 'community_champion'}\n              />\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Continue Button */}\n      <motion.div\n        className=\"flex justify-end\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: 0.5, delay: 0.6 }}\n      >\n        <Button\n          size=\"lg\"\n          disabled={!selectedType}\n          onClick={handleContinue}\n          className=\"w-full sm:w-auto sm:min-w-[200px] min-h-[44px] bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200\"\n        >\n          <span className=\"hidden sm:inline\">\n            Continue with{' '}\n            {selectedType && campaignTypes.find(t => t.id === selectedType)?.name}\n          </span>\n          <span className=\"sm:hidden\">\n            Continue\n          </span>\n          <ArrowRight className=\"w-4 h-4 ml-2\" />\n        </Button>\n      </motion.div>\n    </div>\n  );\n};\n\n/**\n * Data Strength Bar Component\n * Shows confidence score for each campaign type's available data\n */\ninterface DataStrengthBarProps {\n  label: string;\n  score: number;\n  active: boolean;\n}\n\nconst DataStrengthBar: React.FC<DataStrengthBarProps> = ({\n  label,\n  score,\n  active\n}) => {\n  const percentage = Math.round(score * 100);\n\n  return (\n    <motion.div\n      className={active ? 'opacity-100' : 'opacity-50'}\n      initial={{ opacity: 0, x: -20 }}\n      animate={{ opacity: active ? 1 : 0.5, x: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      <div className=\"flex justify-between mb-2\">\n        <span className=\"text-sm font-medium text-purple-700 dark:text-purple-300\">{label}</span>\n        <span className=\"text-sm text-muted-foreground\">{percentage}%</span>\n      </div>\n      <div className=\"h-2 bg-purple-100 dark:bg-purple-900/30 rounded-full overflow-hidden\">\n        <motion.div\n          className=\"h-full bg-gradient-to-r from-purple-600 to-blue-600 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: `${percentage}%` }}\n          transition={{ duration: 0.5, ease: 'easeOut' }}\n        />\n      </div>\n    </motion.div>\n  );\n};\n","/**\n * Smart Pick Card Component\n *\n * Displays a single AI-recommended campaign with:\n * - Headline and hook preview\n * - Confidence/quality indicators\n * - Data sources used\n * - Generate and Preview actions\n *\n * Created: 2025-11-15\n */\n\nimport React from 'react'\nimport { motion } from 'framer-motion'\nimport { Sparkles, TrendingUp, Clock, CheckCircle2, ChevronRight, Zap } from 'lucide-react'\nimport type { SmartPick } from '@/types/smart-picks.types'\n\n// Icon mapping for data sources\nconst SOURCE_ICONS: Record<string, React.ComponentType<any>> = {\n  Cloud: (props: any) => <span {...props}>‚òÅÔ∏è</span>,\n  Star: (props: any) => <span {...props}>‚≠ê</span>,\n  TrendingUp: (props: any) => <TrendingUp {...props} size={16} />,\n  Newspaper: (props: any) => <span {...props}>üì∞</span>,\n  MessageCircle: (props: any) => <span {...props}>üí¨</span>,\n  Video: (props: any) => <span {...props}>üé•</span>,\n  Target: (props: any) => <span {...props}>üéØ</span>,\n  Building: (props: any) => <span {...props}>üè¢</span>,\n  MapPin: (props: any) => <span {...props}>üìç</span>\n}\n\nexport interface SmartPickCardProps {\n  pick: SmartPick\n  onGenerate: (pick: SmartPick) => void\n  onPreview: (pick: SmartPick) => void\n  rank?: number\n}\n\nexport function SmartPickCard({ pick, onGenerate, onPreview, rank }: SmartPickCardProps) {\n  // Format confidence as percentage\n  const confidencePercent = Math.round(pick.confidence * 100)\n  const overallScorePercent = Math.round(pick.overallScore * 100)\n\n  // Determine badge color based on score (purple/blue theme)\n  const getBadgeColor = (score: number) => {\n    if (score >= 0.8) return 'bg-gradient-to-r from-purple-100 to-blue-100 text-purple-800 border-purple-200 dark:from-purple-900/30 dark:to-blue-900/30 dark:text-purple-300 dark:border-purple-700'\n    if (score >= 0.6) return 'bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700'\n    return 'bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700'\n  }\n\n  // Check if time-sensitive\n  const isTimeSensitive = pick.timeliness > 0.7\n  const isExpiring = pick.metadata.expiresAt && (\n    pick.metadata.expiresAt.getTime() - Date.now() < 48 * 60 * 60 * 1000 // 48 hours\n  )\n\n  return (\n    <motion.div\n      whileHover={{ scale: 1.02, y: -4 }}\n      transition={{ duration: 0.2 }}\n      className=\"bg-white dark:bg-slate-800 rounded-xl border border-purple-200 dark:border-purple-700 hover:border-purple-300 dark:hover:border-purple-600 shadow-lg hover:shadow-xl transition-all p-6 relative\"\n    >\n      {/* Rank badge (if provided) */}\n      {rank && (\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ type: \"spring\", stiffness: 200, delay: 0.1 }}\n          className=\"absolute top-4 right-4\"\n        >\n          <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-lg\">\n            {rank}\n          </div>\n        </motion.div>\n      )}\n\n      {/* Header: Title and Campaign Type */}\n      <div className=\"mb-4\">\n        <div className=\"flex items-start gap-2 mb-2\">\n          <motion.div\n            animate={{ rotate: [0, 10, -10, 0] }}\n            transition={{ duration: 2, repeat: Infinity, repeatDelay: 3 }}\n          >\n            <Sparkles className=\"text-purple-600 dark:text-purple-400 flex-shrink-0 mt-1\" size={20} />\n          </motion.div>\n          <div>\n            <h3 className=\"font-semibold text-gray-900 dark:text-gray-100 text-lg leading-tight\">\n              {pick.title}\n            </h3>\n            <span className=\"inline-block mt-1 px-2 py-0.5 text-xs font-medium rounded-full bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 dark:from-purple-900/40 dark:to-blue-900/40 dark:text-purple-300 border border-purple-200 dark:border-purple-700\">\n              {pick.campaignType.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ')}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Preview Content */}\n      {pick.preview.headline && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.2 }}\n          className=\"mb-4 p-3 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-700 dark:via-slate-700 dark:to-slate-600 rounded-lg border border-purple-200 dark:border-purple-700\"\n        >\n          <p className=\"font-semibold text-gray-900 dark:text-gray-100 mb-1\">\n            {pick.preview.headline}\n          </p>\n          <p className=\"text-sm text-gray-600 dark:text-gray-300 line-clamp-2\">\n            {pick.preview.hook}\n          </p>\n          <span className=\"inline-block mt-2 text-xs text-purple-600 dark:text-purple-400 flex items-center gap-1\">\n            <Zap size={12} />\n            Optimized for {pick.preview.platform}\n          </span>\n        </motion.div>\n      )}\n\n      {/* Confidence and Quality Indicators */}\n      <div className=\"mb-4 flex flex-wrap gap-2\">\n        {/* Overall Score */}\n        <div className={`inline-flex items-center gap-1 px-2 py-1 rounded-full border text-xs font-medium ${getBadgeColor(pick.overallScore)}`}>\n          <CheckCircle2 size={12} />\n          <span>{overallScorePercent}% Match</span>\n        </div>\n\n        {/* Confidence */}\n        <div className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full border border-purple-200 dark:border-purple-700 bg-purple-50 dark:bg-purple-900/30 text-xs font-medium text-purple-700 dark:text-purple-300\">\n          <TrendingUp size={12} />\n          <span>{confidencePercent}% Confidence</span>\n        </div>\n\n        {/* Time-sensitive indicator */}\n        {isTimeSensitive && (\n          <div className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full border border-orange-200 bg-orange-50 text-xs font-medium text-orange-700\">\n            <Clock size={12} />\n            <span>{isExpiring ? 'Expires Soon' : 'Time-Sensitive'}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Data Sources */}\n      <div className=\"mb-4\">\n        <p className=\"text-xs text-gray-500 mb-2\">Data Sources:</p>\n        <div className=\"flex flex-wrap gap-2\">\n          {pick.dataSources.map((source, idx) => {\n            const IconComponent = SOURCE_ICONS[source.icon] || SOURCE_ICONS.Building\n\n            return (\n              <div\n                key={idx}\n                className=\"inline-flex items-center gap-1 px-2 py-1 rounded bg-gray-100 text-xs text-gray-700\"\n                title={`${source.label} - ${source.freshness} updates`}\n              >\n                <IconComponent className=\"flex-shrink-0\" />\n                <span>{source.label}</span>\n                {source.verified && (\n                  <CheckCircle2 size={12} className=\"text-green-600\" />\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Expected Performance */}\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.3 }}\n        className=\"mb-4 p-3 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-700 dark:via-slate-700 dark:to-slate-600 rounded-lg border border-purple-200 dark:border-purple-700\"\n      >\n        <p className=\"text-xs font-medium text-purple-900 dark:text-purple-200 mb-1 flex items-center gap-1\">\n          <Zap size={12} className=\"text-purple-600 dark:text-purple-400\" />\n          Expected Performance\n        </p>\n        <div className=\"flex gap-4 text-xs\">\n          <div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Engagement:</span>{' '}\n            <span className=\"font-medium text-purple-700 dark:text-purple-300 capitalize\">{pick.expectedPerformance.engagement}</span>\n          </div>\n          <div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Reach:</span>{' '}\n            <span className=\"font-medium text-blue-700 dark:text-blue-300 capitalize\">{pick.expectedPerformance.reach}</span>\n          </div>\n          <div>\n            <span className=\"text-gray-600 dark:text-gray-400\">Conversions:</span>{' '}\n            <span className=\"font-medium text-purple-700 dark:text-purple-300 capitalize\">{pick.expectedPerformance.conversions}</span>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Reasoning */}\n      <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2\">\n        {pick.reasoning}\n      </p>\n\n      {/* Action Buttons */}\n      <div className=\"flex gap-2\">\n        <motion.button\n          whileHover={{ scale: 1.02 }}\n          whileTap={{ scale: 0.98 }}\n          onClick={() => onGenerate(pick)}\n          className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2.5 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg flex items-center justify-center gap-2\"\n        >\n          <Sparkles size={16} />\n          Generate This Campaign\n        </motion.button>\n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={() => onPreview(pick)}\n          className=\"px-4 py-2.5 border-2 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-lg font-medium hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all flex items-center gap-1\"\n          title=\"See full preview\"\n        >\n          <span>Preview</span>\n          <ChevronRight size={16} />\n        </motion.button>\n      </div>\n    </motion.div>\n  )\n}\n","/**\n * Quick Preview Modal Component\n *\n * Shows full content preview for one platform before generating\n * Allows user to:\n * - See complete content preview\n * - Switch between platform previews\n * - Generate full campaign or close\n *\n * Created: 2025-11-15\n */\n\nimport React, { useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { X, Sparkles, CheckCircle2, TrendingUp, Zap } from 'lucide-react'\nimport type { SmartPick } from '@/types/smart-picks.types'\nimport type { DeepContext } from '@/types/synapse/deepContext.types'\n\nconst PLATFORMS = [\n  { id: 'linkedin', name: 'LinkedIn', emoji: 'üíº' },\n  { id: 'facebook', name: 'Facebook', emoji: 'üë•' },\n  { id: 'instagram', name: 'Instagram', emoji: 'üì∏' },\n  { id: 'twitter', name: 'Twitter/X', emoji: 'üê¶' }\n]\n\nexport interface QuickPreviewProps {\n  pick: SmartPick\n  context: DeepContext\n  onClose: () => void\n  onGenerate: () => void\n}\n\nexport function QuickPreview({ pick, context, onClose, onGenerate }: QuickPreviewProps) {\n  const [selectedPlatform, setSelectedPlatform] = useState(pick.preview.platform.toLowerCase())\n\n  // Simulate platform-specific preview (in real implementation, this would call generator)\n  const generatePlatformPreview = (platform: string) => {\n    // For now, use the existing preview\n    return {\n      headline: pick.preview.headline,\n      hook: pick.preview.hook,\n      body: pick.insights[0].insight,\n      cta: `Learn more about ${context.business.profile.name}`,\n      hashtags: generateHashtags(platform)\n    }\n  }\n\n  const generateHashtags = (platform: string) => {\n    const industry = context.business.profile.industry.toLowerCase().replace(/\\s+/g, '')\n    const city = context.business.profile.location.city.toLowerCase().replace(/\\s+/g, '')\n\n    const baseTags = [`#${industry}`, `#${city}`]\n\n    if (platform === 'linkedin') {\n      return [...baseTags, '#BusinessGrowth', '#ThoughtLeadership']\n    }\n    if (platform === 'instagram') {\n      return [...baseTags, '#SmallBusiness', '#LocalBusiness', '#Entrepreneur']\n    }\n    if (platform === 'twitter') {\n      return [...baseTags, '#Business', '#Marketing']\n    }\n    if (platform === 'facebook') {\n      return [...baseTags, '#Community', '#LocalBusiness']\n    }\n\n    return baseTags\n  }\n\n  const preview = generatePlatformPreview(selectedPlatform)\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4\"\n      onClick={onClose}\n    >\n      <motion.div\n        initial={{ scale: 0.9, y: 20 }}\n        animate={{ scale: 1, y: 0 }}\n        exit={{ scale: 0.9, y: 20 }}\n        onClick={(e) => e.stopPropagation()}\n        className=\"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col border border-purple-200 dark:border-purple-700\"\n      >\n        {/* Header */}\n        <div className=\"p-6 border-b border-purple-200 dark:border-purple-700 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <motion.div\n              animate={{ rotate: [0, 10, -10, 0] }}\n              transition={{ duration: 2, repeat: Infinity, repeatDelay: 3 }}\n            >\n              <Sparkles className=\"text-purple-600 dark:text-purple-400\" size={24} />\n            </motion.div>\n            <div>\n              <h2 className=\"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n                Campaign Preview\n              </h2>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">{pick.title}</p>\n            </div>\n          </div>\n          <motion.button\n            whileHover={{ scale: 1.1, rotate: 90 }}\n            whileTap={{ scale: 0.9 }}\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors\"\n            aria-label=\"Close preview\"\n          >\n            <X size={24} />\n          </motion.button>\n        </div>\n\n        {/* Platform Tabs */}\n        <div className=\"border-b border-purple-200 dark:border-purple-700 px-6 pt-4 bg-gradient-to-r from-purple-50/50 to-blue-50/50 dark:from-slate-800/50 dark:to-slate-700/50\">\n          <div className=\"flex gap-2 overflow-x-auto\">\n            {PLATFORMS.map(platform => (\n              <motion.button\n                key={platform.id}\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={() => setSelectedPlatform(platform.id)}\n                className={`\n                  px-4 py-2 text-sm font-medium rounded-t-lg transition-all\n                  ${selectedPlatform === platform.id\n                    ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30'\n                  }\n                `}\n              >\n                <span className=\"mr-1\">{platform.emoji}</span>\n                {platform.name}\n              </motion.button>\n            ))}\n          </div>\n        </div>\n\n        {/* Content Preview */}\n        <div className=\"flex-1 overflow-y-auto p-6 bg-gradient-to-br from-purple-50/30 via-blue-50/30 to-violet-50/30 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800\">\n          {/* Preview Card (simulates social media post) */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-white dark:bg-slate-700 border border-purple-200 dark:border-purple-700 rounded-xl p-6 mb-6 shadow-lg\"\n          >\n            {/* Post Header */}\n            <div className=\"flex items-center gap-3 mb-4\">\n              <motion.div\n                whileHover={{ scale: 1.1, rotate: 5 }}\n                className=\"w-12 h-12 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center text-white font-bold shadow-lg\"\n              >\n                {context.business.profile.name.charAt(0)}\n              </motion.div>\n              <div>\n                <p className=\"font-semibold text-gray-900 dark:text-gray-100\">{context.business.profile.name}</p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  {context.business.profile.location.city}, {context.business.profile.location.state}\n                </p>\n              </div>\n            </div>\n\n            {/* Post Content */}\n            <div className=\"space-y-3\">\n              <h3 className=\"font-bold text-lg bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n                {preview.headline}\n              </h3>\n              <p className=\"text-gray-800 dark:text-gray-200 leading-relaxed\">{preview.hook}</p>\n              <p className=\"text-gray-700 dark:text-gray-300\">{preview.body}</p>\n              <p className=\"font-medium text-purple-600 dark:text-purple-400 flex items-center gap-1\">\n                <Zap size={16} />\n                {preview.cta}\n              </p>\n\n              {/* Hashtags */}\n              <div className=\"flex flex-wrap gap-2 pt-2\">\n                {preview.hashtags.map((tag, idx) => (\n                  <motion.span\n                    key={idx}\n                    initial={{ opacity: 0, scale: 0.8 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    transition={{ delay: idx * 0.1 }}\n                    className=\"text-sm text-purple-600 dark:text-purple-400 font-medium\"\n                  >\n                    {tag}\n                  </motion.span>\n                ))}\n              </div>\n            </div>\n          </motion.div>\n\n          {/* Meta Info */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <motion.div\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-purple-900/30 dark:via-blue-900/30 dark:to-violet-900/30 rounded-xl p-4 border border-purple-200 dark:border-purple-700 shadow-lg\"\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <TrendingUp className=\"text-purple-600 dark:text-purple-400\" size={16} />\n                <span className=\"text-sm font-medium text-purple-900 dark:text-purple-200\">Performance Score</span>\n              </div>\n              <p className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n                {Math.round(pick.overallScore * 100)}%\n              </p>\n              <p className=\"text-xs text-purple-600 dark:text-purple-400 mt-1\">Relevance + Timeliness + Evidence</p>\n            </motion.div>\n\n            <motion.div\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.3 }}\n              className=\"bg-gradient-to-br from-blue-50 via-purple-50 to-violet-50 dark:from-blue-900/30 dark:via-purple-900/30 dark:to-violet-900/30 rounded-xl p-4 border border-blue-200 dark:border-blue-700 shadow-lg\"\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <CheckCircle2 className=\"text-blue-600 dark:text-blue-400\" size={16} />\n                <span className=\"text-sm font-medium text-blue-900 dark:text-blue-200\">Confidence</span>\n              </div>\n              <p className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                {Math.round(pick.confidence * 100)}%\n              </p>\n              <p className=\"text-xs text-blue-600 dark:text-blue-400 mt-1\">AI model confidence</p>\n            </motion.div>\n          </div>\n\n          {/* Why This Works */}\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.4 }}\n            className=\"mt-6 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-purple-900/30 dark:via-blue-900/30 dark:to-violet-900/30 border border-purple-200 dark:border-purple-700 rounded-xl p-4 shadow-lg\"\n          >\n            <h4 className=\"font-semibold text-purple-900 dark:text-purple-200 mb-2 flex items-center gap-2\">\n              <Zap size={16} className=\"text-purple-600 dark:text-purple-400\" />\n              Why This Campaign Works\n            </h4>\n            <p className=\"text-sm text-purple-800 dark:text-purple-300\">{pick.reasoning}</p>\n          </motion.div>\n\n          {/* Data Sources */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.5 }}\n            className=\"mt-4\"\n          >\n            <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\n              Powered by {pick.dataSources.length} data sources:\n            </p>\n            <div className=\"flex flex-wrap gap-2\">\n              {pick.dataSources.map((source, idx) => (\n                <motion.span\n                  key={idx}\n                  initial={{ opacity: 0, scale: 0.8 }}\n                  animate={{ opacity: 1, scale: 1 }}\n                  transition={{ delay: 0.6 + idx * 0.05 }}\n                  className=\"inline-flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-purple-100 to-blue-100 dark:from-purple-900/40 dark:to-blue-900/40 text-xs text-purple-700 dark:text-purple-300 rounded border border-purple-200 dark:border-purple-700\"\n                >\n                  {source.label}\n                  {source.verified && (\n                    <CheckCircle2 size={12} className=\"text-purple-600 dark:text-purple-400\" />\n                  )}\n                </motion.span>\n              ))}\n            </div>\n          </motion.div>\n        </div>\n\n        {/* Footer Actions */}\n        <div className=\"p-6 border-t border-purple-200 dark:border-purple-700 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 flex gap-3\">\n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={onClose}\n            className=\"flex-1 px-4 py-3 border-2 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-white dark:hover:bg-slate-700 transition-all font-medium shadow-lg\"\n          >\n            Close\n          </motion.button>\n          <motion.button\n            whileHover={{ scale: 1.02 }}\n            whileTap={{ scale: 0.98 }}\n            onClick={onGenerate}\n            className=\"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-medium flex items-center justify-center gap-2 shadow-lg\"\n          >\n            <Sparkles size={18} />\n            Generate Full Campaign\n          </motion.button>\n        </div>\n      </motion.div>\n    </motion.div>\n  )\n}\n","/**\n * Smart Picks Container Component\n *\n * Main component that:\n * - Generates smart picks from DeepContext\n * - Displays grid of SmartPickCards\n * - Handles pick selection and preview\n * - Provides fallback to Content Mixer\n *\n * Created: 2025-11-15\n */\n\nimport React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Sparkles, Loader2, AlertCircle, Lightbulb, Zap } from 'lucide-react'\nimport type { DeepContext } from '@/types/synapse/deepContext.types'\nimport type { SmartPick, CampaignType } from '@/types/smart-picks.types'\nimport { generateSmartPicks } from '@/services/campaign/SmartPickGenerator'\nimport { SmartPickCard } from './SmartPickCard'\nimport { QuickPreview } from './QuickPreview'\n\nexport interface SmartPicksProps {\n  /** Deep context with business intelligence */\n  context: DeepContext\n\n  /** Optional filter by campaign type */\n  campaignType?: CampaignType\n\n  /** Callback when user wants to generate a campaign */\n  onGenerateCampaign: (pick: SmartPick) => void\n\n  /** Callback when user wants to use Content Mixer instead */\n  onSwitchToMixer?: () => void\n\n  /** Maximum number of picks to show */\n  maxPicks?: number\n}\n\nexport function SmartPicks({\n  context,\n  campaignType,\n  onGenerateCampaign,\n  onSwitchToMixer,\n  maxPicks = 5\n}: SmartPicksProps) {\n  const [picks, setPicks] = useState<SmartPick[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [previewPick, setPreviewPick] = useState<SmartPick | null>(null)\n\n  // Generate picks on mount\n  useEffect(() => {\n    async function generate() {\n      try {\n        setLoading(true)\n        setError(null)\n\n        console.log('[SmartPicks] Generating picks for:', context.business.profile.name)\n\n        const result = await generateSmartPicks(context, campaignType, {\n          maxPicks,\n          minConfidence: 0.6,\n          preferTimely: true,\n          includePreview: true\n        })\n\n        console.log(`[SmartPicks] Generated ${result.picks.length} picks in ${result.metadata.generationTimeMs}ms`)\n\n        setPicks(result.picks)\n      } catch (err) {\n        console.error('[SmartPicks] Generation failed:', err)\n        setError(err instanceof Error ? err.message : 'Failed to generate picks')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    generate()\n  }, [context, campaignType, maxPicks])\n\n  // Loading state\n  if (loading) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"flex flex-col items-center justify-center py-16 px-4\"\n      >\n        <div className=\"relative\">\n          <Loader2 className=\"text-purple-600 animate-spin\" size={48} />\n          <motion.div\n            animate={{\n              scale: [1, 1.2, 1],\n              rotate: [0, 180, 360]\n            }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\"\n            }}\n          >\n            <Sparkles className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-purple-400\" size={24} />\n          </motion.div>\n        </div>\n        <motion.h3\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.2 }}\n          className=\"mt-6 text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\"\n        >\n          Analyzing Your Business Intelligence...\n        </motion.h3>\n        <motion.p\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.4 }}\n          className=\"mt-2 text-sm text-gray-600 dark:text-gray-400 text-center max-w-md\"\n        >\n          AI is reviewing {context.business.profile.name}'s data across 10+ sources\n          to find the best campaign opportunities\n        </motion.p>\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.6 }}\n          className=\"mt-4 flex flex-wrap justify-center gap-2 text-xs text-gray-600 dark:text-gray-400\"\n        >\n          {['Industry trends', 'Competitor gaps', 'Customer psychology', 'Local events', 'Seasonal opportunities'].map((item, idx) => (\n            <motion.span\n              key={item}\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{ opacity: 1, scale: 1 }}\n              transition={{ delay: 0.7 + idx * 0.1 }}\n              className=\"px-2 py-1 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-700 border border-purple-200 dark:border-purple-700 rounded\"\n            >\n              ‚úì {item}\n            </motion.span>\n          ))}\n        </motion.div>\n      </motion.div>\n    )\n  }\n\n  // Error state\n  if (error) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, scale: 0.9 }}\n        animate={{ opacity: 1, scale: 1 }}\n        className=\"flex flex-col items-center justify-center py-16 px-4\"\n      >\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ type: \"spring\", stiffness: 200 }}\n          className=\"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4\"\n        >\n          <AlertCircle className=\"text-red-600\" size={32} />\n        </motion.div>\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2\">\n          Oops! Something went wrong\n        </h3>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center max-w-md mb-6\">\n          {error}\n        </p>\n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all shadow-lg\"\n        >\n          Try Again\n        </motion.button>\n      </motion.div>\n    )\n  }\n\n  // Empty state\n  if (picks.length === 0) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"flex flex-col items-center justify-center py-16 px-4\"\n      >\n        <motion.div\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          transition={{ type: \"spring\", stiffness: 200 }}\n          className=\"w-16 h-16 bg-gradient-to-br from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 rounded-full flex items-center justify-center mb-4\"\n        >\n          <Lightbulb className=\"text-yellow-600 dark:text-yellow-400\" size={32} />\n        </motion.div>\n        <h3 className=\"text-lg font-semibold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2\">\n          No Strong Recommendations Found\n        </h3>\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center max-w-md mb-6\">\n          We couldn't find enough high-quality insights to make confident recommendations.\n          Try using the Content Mixer to manually select insights instead.\n        </p>\n        {onSwitchToMixer && (\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={onSwitchToMixer}\n            className=\"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-medium shadow-lg\"\n          >\n            <span className=\"flex items-center gap-2\">\n              <Zap size={18} />\n              Open Content Mixer\n            </span>\n          </motion.button>\n        )}\n      </motion.div>\n    )\n  }\n\n  // Main content\n  return (\n    <div className=\"py-8 px-4 bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 min-h-screen\">\n      {/* Header */}\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"max-w-5xl mx-auto mb-8\"\n      >\n        <div className=\"flex items-center gap-3 mb-3\">\n          <motion.div\n            whileHover={{ rotate: 360, scale: 1.1 }}\n            transition={{ duration: 0.5 }}\n            className=\"p-2 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg shadow-lg\"\n          >\n            <Sparkles className=\"text-white\" size={24} />\n          </motion.div>\n          <div>\n            <h2 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n              AI-Recommended Campaigns\n            </h2>\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Based on {context.business.profile.name}'s intelligence data\n            </p>\n          </div>\n        </div>\n\n        {/* Explainer */}\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ delay: 0.2 }}\n          className=\"bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-700 border border-purple-200 dark:border-purple-700 rounded-xl p-4 shadow-lg\"\n        >\n          <p className=\"text-sm text-purple-900 dark:text-purple-200\">\n            <strong className=\"flex items-center gap-2\">\n              <Zap size={16} className=\"text-purple-600\" />\n              How this works:\n            </strong> Our AI analyzed your business data across 10+ sources\n            and scored {picks.length} campaign opportunities by relevance, timeliness, and evidence quality.\n            The top picks are shown below, ranked by overall score.\n          </p>\n        </motion.div>\n      </motion.div>\n\n      {/* Grid of picks */}\n      <div className=\"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n        {picks.map((pick, idx) => (\n          <motion.div\n            key={pick.id}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: idx * 0.1 }}\n          >\n            <SmartPickCard\n              pick={pick}\n              rank={idx + 1}\n              onGenerate={onGenerateCampaign}\n              onPreview={setPreviewPick}\n            />\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Alternative option */}\n      {onSwitchToMixer && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.5 }}\n          className=\"max-w-5xl mx-auto text-center\"\n        >\n          <div className=\"border-t border-purple-200 dark:border-purple-700 pt-8\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\n              Want more control over your campaign?\n            </p>\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={onSwitchToMixer}\n              className=\"px-6 py-3 border-2 border-purple-600 dark:border-purple-500 text-purple-600 dark:text-purple-400 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all font-medium shadow-lg\"\n            >\n              Show Me More Options (Content Mixer)\n            </motion.button>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Quick Preview Modal */}\n      <AnimatePresence>\n        {previewPick && (\n          <QuickPreview\n            pick={previewPick}\n            context={context}\n            onClose={() => setPreviewPick(null)}\n            onGenerate={() => {\n              setPreviewPick(null)\n              onGenerateCampaign(previewPick)\n            }}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  )\n}\n","/**\n * Draggable Insight Card Component\n *\n * Displays a single insight with drag-and-drop capability\n * Used in both the Insight Pool and Selection Area\n */\n\nimport { motion } from 'framer-motion';\nimport { useSortable } from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { GripVertical, X, TrendingUp, MapPin, Calendar, Building2, Star, Users, Zap } from 'lucide-react';\nimport type { CategorizedInsight } from '@/types/content-mixer.types';\n\ninterface InsightCardProps {\n  insight: CategorizedInsight;\n  draggable?: boolean;\n  inSelection?: boolean;\n  onRemove?: () => void;\n}\n\nconst categoryIcons = {\n  local: MapPin,\n  trending: TrendingUp,\n  seasonal: Calendar,\n  industry: Building2,\n  reviews: Star,\n  competitive: Users\n};\n\nconst categoryColors = {\n  local: 'text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-900/30',\n  trending: 'text-purple-600 bg-purple-50 dark:text-purple-400 dark:bg-purple-900/30',\n  seasonal: 'text-green-600 bg-green-50 dark:text-green-400 dark:bg-green-900/30',\n  industry: 'text-orange-600 bg-orange-50 dark:text-orange-400 dark:bg-orange-900/30',\n  reviews: 'text-yellow-600 bg-yellow-50 dark:text-yellow-400 dark:bg-yellow-900/30',\n  competitive: 'text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/30'\n};\n\nexport function InsightCard({ insight, draggable = true, inSelection = false, onRemove }: InsightCardProps) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging\n  } = useSortable({\n    id: insight.id,\n    disabled: !draggable\n  });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1\n  };\n\n  const Icon = categoryIcons[insight.category];\n  const colorClass = categoryColors[insight.category];\n\n  // Confidence badge color (purple/blue theme)\n  const confidenceColor =\n    insight.confidence >= 0.8 ? 'bg-gradient-to-r from-purple-100 to-blue-100 text-purple-800 dark:from-purple-900/30 dark:to-blue-900/30 dark:text-purple-300' :\n    insight.confidence >= 0.6 ? 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300' :\n    'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300';\n\n  return (\n    <motion.div\n      ref={setNodeRef}\n      style={style}\n      whileHover={draggable ? { scale: 1.02 } : undefined}\n      className={`\n        group relative rounded-xl border bg-white dark:bg-slate-800 p-3 shadow-lg\n        transition-all duration-200\n        ${draggable ? 'cursor-grab active:cursor-grabbing hover:shadow-xl hover:border-purple-300 dark:hover:border-purple-600' : ''}\n        ${isDragging ? 'shadow-2xl ring-2 ring-purple-400' : ''}\n        ${inSelection ? 'border-purple-200 dark:border-purple-700 bg-gradient-to-br from-purple-50/30 via-blue-50/30 to-violet-50/30 dark:from-purple-900/20 dark:via-blue-900/20 dark:to-violet-900/20' : 'border-purple-200 dark:border-purple-700'}\n      `}\n    >\n      {/* Drag Handle */}\n      {draggable && (\n        <motion.div\n          {...listeners}\n          {...attributes}\n          whileHover={{ scale: 1.1 }}\n          className=\"absolute left-0 top-0 bottom-0 w-8 flex items-center justify-center cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity\"\n        >\n          <GripVertical className=\"h-4 w-4 text-purple-400 dark:text-purple-500\" />\n        </motion.div>\n      )}\n\n      {/* Remove Button (if in selection) */}\n      {inSelection && onRemove && (\n        <motion.button\n          whileHover={{ scale: 1.1, rotate: 90 }}\n          whileTap={{ scale: 0.9 }}\n          onClick={onRemove}\n          className=\"absolute right-2 top-2 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors opacity-0 group-hover:opacity-100\"\n          aria-label=\"Remove insight\"\n        >\n          <X className=\"h-4 w-4\" />\n        </motion.button>\n      )}\n\n      <div className={`${draggable ? 'pl-6' : ''} ${inSelection ? 'pr-6' : ''}`}>\n        {/* Header: Category Icon + Title */}\n        <div className=\"flex items-start gap-2 mb-2\">\n          <motion.div\n            whileHover={{ scale: 1.1, rotate: 5 }}\n            className={`rounded-full p-1.5 ${colorClass} shadow-sm`}\n          >\n            <Icon className=\"h-4 w-4\" />\n          </motion.div>\n          <div className=\"flex-1 min-w-0\">\n            <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100 line-clamp-2\">\n              {insight.displayTitle}\n            </h4>\n          </div>\n        </div>\n\n        {/* Insight Content */}\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 line-clamp-2 mb-2 pl-9\">\n          {insight.insight}\n        </p>\n\n        {/* Footer: Confidence + Data Source */}\n        <div className=\"flex items-center justify-between pl-9 text-xs\">\n          {/* Data Source */}\n          <span className=\"text-gray-500 dark:text-gray-400 truncate flex items-center gap-1\">\n            <Zap size={10} className=\"text-purple-500\" />\n            {insight.dataSource}\n          </span>\n\n          {/* Confidence Badge */}\n          <span className={`px-2 py-0.5 rounded-full font-medium ${confidenceColor} border border-purple-200 dark:border-purple-700`}>\n            {Math.round(insight.confidence * 100)}%\n          </span>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n","/**\n * Insight Pool Component\n *\n * Left sidebar showing available insights organized by category tabs\n * Users drag insights from here into the Selection Area\n */\n\nimport { useState } from 'react';\nimport { Search } from 'lucide-react';\nimport { useDroppable } from '@dnd-kit/core';\nimport { InsightCard } from './InsightCard';\nimport type { InsightPool as InsightPoolType, InsightCategory, CategorizedInsight } from '@/types/content-mixer.types';\n\ninterface InsightPoolProps {\n  pool: InsightPoolType;\n  selectedInsightIds: string[];\n  onInsightClick?: (insight: CategorizedInsight) => void;\n}\n\nconst categoryLabels: Record<InsightCategory, string> = {\n  local: 'Local',\n  trending: 'Trending',\n  seasonal: 'Seasonal',\n  industry: 'Industry',\n  reviews: 'Reviews',\n  competitive: 'Competitive'\n};\n\nconst categoryDescriptions: Record<InsightCategory, string> = {\n  local: 'Location-based insights and local events',\n  trending: 'Viral moments and cultural trends',\n  seasonal: 'Seasonal patterns and holidays',\n  industry: 'Industry news and expert insights',\n  reviews: 'Customer feedback and testimonials',\n  competitive: 'Market gaps and opportunities'\n};\n\nexport function InsightPool({ pool, selectedInsightIds, onInsightClick }: InsightPoolProps) {\n  const [activeTab, setActiveTab] = useState<InsightCategory>('trending');\n  const [searchFilter, setSearchFilter] = useState('');\n\n  // Make the pool droppable (for returning insights)\n  const { setNodeRef } = useDroppable({\n    id: 'insight-pool'\n  });\n\n  // Get insights for active category\n  const categoryInsights = pool.byCategory[activeTab] || [];\n\n  // Filter insights based on search\n  const filteredInsights = categoryInsights.filter(insight => {\n    if (!searchFilter) return true;\n    const search = searchFilter.toLowerCase();\n    return (\n      insight.displayTitle.toLowerCase().includes(search) ||\n      insight.insight.toLowerCase().includes(search) ||\n      insight.dataSource.toLowerCase().includes(search)\n    );\n  });\n\n  // Filter out already selected insights\n  const availableInsights = filteredInsights.filter(\n    insight => !selectedInsightIds.includes(insight.id)\n  );\n\n  const categories: InsightCategory[] = ['local', 'trending', 'seasonal', 'industry', 'reviews', 'competitive'];\n\n  return (\n    <div className=\"flex flex-col h-full bg-white border-r border-gray-200\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-gray-200\">\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-1\">\n          Insight Pool\n        </h2>\n        <p className=\"text-sm text-gray-600\">\n          Drag insights to build your campaign\n        </p>\n\n        {/* Search */}\n        <div className=\"mt-3 relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search insights...\"\n            value={searchFilter}\n            onChange={(e) => setSearchFilter(e.target.value)}\n            className=\"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n      </div>\n\n      {/* Category Tabs */}\n      <div className=\"border-b border-gray-200 px-2 overflow-x-auto\">\n        <div className=\"flex gap-1 min-w-max\">\n          {categories.map(category => {\n            const count = pool.countByCategory[category] || 0;\n            const isActive = activeTab === category;\n\n            return (\n              <button\n                key={category}\n                onClick={() => setActiveTab(category)}\n                className={`\n                  px-3 py-2 text-sm font-medium rounded-t-lg transition-colors whitespace-nowrap\n                  ${isActive\n                    ? 'bg-blue-50 text-blue-700 border-t border-x border-blue-200'\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\n                  }\n                `}\n              >\n                {categoryLabels[category]}\n                <span className={`ml-1.5 px-1.5 py-0.5 rounded text-xs ${isActive ? 'bg-blue-100' : 'bg-gray-200'}`}>\n                  {count}\n                </span>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Active Tab Description */}\n      <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\n        <p className=\"text-xs text-gray-600\">\n          {categoryDescriptions[activeTab]}\n        </p>\n        <p className=\"text-xs text-gray-500 mt-1\">\n          Available: {availableInsights.length} insights\n        </p>\n      </div>\n\n      {/* Insights List */}\n      <div ref={setNodeRef} className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n        {availableInsights.length > 0 ? (\n          availableInsights.map(insight => (\n            <InsightCard\n              key={insight.id}\n              insight={insight}\n              draggable={true}\n              inSelection={false}\n              onRemove={undefined}\n            />\n          ))\n        ) : (\n          <div className=\"text-center py-12\">\n            <p className=\"text-sm text-gray-500\">\n              {searchFilter ? (\n                <>No insights match \"{searchFilter}\"</>\n              ) : selectedInsightIds.length > 0 ? (\n                <>All {categoryLabels[activeTab].toLowerCase()} insights are selected</>\n              ) : (\n                <>No {categoryLabels[activeTab].toLowerCase()} insights available</>\n              )}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","/**\n * Selection Area Component\n *\n * Middle column where users drop and reorder selected insights\n * Supports drag-to-reorder and removal\n */\n\nimport { useDroppable } from '@dnd-kit/core';\nimport { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';\nimport { Trash2, Sparkles } from 'lucide-react';\nimport { InsightCard } from './InsightCard';\nimport type { CategorizedInsight } from '@/types/content-mixer.types';\n\ninterface SelectionAreaProps {\n  selectedInsights: CategorizedInsight[];\n  maxInsights: number;\n  onRemoveInsight: (insightId: string) => void;\n  onClearAll: () => void;\n}\n\nexport function SelectionArea({\n  selectedInsights,\n  maxInsights,\n  onRemoveInsight,\n  onClearAll\n}: SelectionAreaProps) {\n  const { setNodeRef, isOver } = useDroppable({\n    id: 'selection-area'\n  });\n\n  const isEmpty = selectedInsights.length === 0;\n  const isFull = selectedInsights.length >= maxInsights;\n\n  return (\n    <div className=\"flex flex-col h-full bg-white border-r border-gray-200\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between mb-1\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            Selected Insights\n          </h2>\n          {!isEmpty && (\n            <button\n              onClick={onClearAll}\n              className=\"text-xs text-gray-600 hover:text-red-600 flex items-center gap-1 px-2 py-1 rounded hover:bg-red-50 transition-colors\"\n            >\n              <Trash2 className=\"h-3 w-3\" />\n              Clear all\n            </button>\n          )}\n        </div>\n        <p className=\"text-sm text-gray-600\">\n          {selectedInsights.length} of {maxInsights} insights selected\n        </p>\n\n        {/* Progress Bar */}\n        <div className=\"mt-3 h-2 bg-gray-100 rounded-full overflow-hidden\">\n          <div\n            className={`h-full transition-all duration-300 ${\n              isFull ? 'bg-green-500' :\n              selectedInsights.length > 0 ? 'bg-blue-500' :\n              'bg-gray-300'\n            }`}\n            style={{ width: `${(selectedInsights.length / maxInsights) * 100}%` }}\n          />\n        </div>\n      </div>\n\n      {/* Drop Zone */}\n      <SortableContext\n        items={selectedInsights.map(i => i.id)}\n        strategy={verticalListSortingStrategy}\n      >\n        <div\n          ref={setNodeRef}\n          className={`\n            flex-1 overflow-y-auto p-4\n            ${isOver ? 'bg-blue-50' : ''}\n            ${isEmpty ? 'flex items-center justify-center' : 'space-y-3'}\n          `}\n        >\n          {isEmpty ? (\n            /* Empty State */\n            <div className=\"text-center max-w-xs\">\n              <div className=\"mx-auto w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4\">\n                <Sparkles className=\"h-8 w-8 text-gray-400\" />\n              </div>\n              <h3 className=\"text-sm font-medium text-gray-900 mb-2\">\n                No insights selected yet\n              </h3>\n              <p className=\"text-sm text-gray-600\">\n                Drag insights from the pool on the left to start building your campaign\n              </p>\n            </div>\n          ) : (\n            /* Selected Insights */\n            selectedInsights.map(insight => (\n              <InsightCard\n                key={insight.id}\n                insight={insight}\n                draggable={true}\n                inSelection={true}\n                onRemove={() => onRemoveInsight(insight.id)}\n              />\n            ))\n          )}\n        </div>\n      </SortableContext>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n        <div className=\"text-xs text-gray-600\">\n          {isFull ? (\n            <p className=\"text-green-700\">\n              ‚úì Maximum insights selected. Ready to generate!\n            </p>\n          ) : selectedInsights.length > 0 ? (\n            <p>\n              üí° Add {maxInsights - selectedInsights.length} more insight{maxInsights - selectedInsights.length !== 1 ? 's' : ''} or generate now\n            </p>\n          ) : (\n            <p>\n              Select 1-{maxInsights} insights to build your campaign\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * Live Preview Component\n *\n * Right column showing real-time campaign preview\n * Updates debounced (500ms) as insights are selected\n */\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { Loader2, Eye, RefreshCw } from 'lucide-react';\nimport type { CategorizedInsight, CampaignPreview } from '@/types/content-mixer.types';\n\ninterface LivePreviewProps {\n  selectedInsights: CategorizedInsight[];\n  platform: 'linkedin' | 'facebook' | 'instagram' | 'twitter' | 'tiktok';\n  onPlatformChange: (platform: LivePreviewProps['platform']) => void;\n  onGenerate?: () => void;\n}\n\nconst platforms = [\n  { id: 'linkedin' as const, name: 'LinkedIn', emoji: 'üíº' },\n  { id: 'facebook' as const, name: 'Facebook', emoji: 'üëç' },\n  { id: 'instagram' as const, name: 'Instagram', emoji: 'üì∏' },\n  { id: 'twitter' as const, name: 'Twitter', emoji: 'üê¶' },\n  { id: 'tiktok' as const, name: 'TikTok', emoji: 'üéµ' }\n];\n\nexport function LivePreview({\n  selectedInsights,\n  platform,\n  onPlatformChange,\n  onGenerate\n}: LivePreviewProps) {\n  const [preview, setPreview] = useState<CampaignPreview | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [updateTrigger, setUpdateTrigger] = useState(0);\n\n  // Debounced preview generation\n  const generatePreview = useCallback(async () => {\n    if (selectedInsights.length === 0) {\n      setPreview(null);\n      return;\n    }\n\n    setIsLoading(true);\n\n    // Simulate preview generation (replace with actual API call)\n    setTimeout(() => {\n      const mockPreview: CampaignPreview = {\n        headline: `${selectedInsights.length} Powerful Insights Combined`,\n        hook: selectedInsights[0]?.displayTitle || 'Building your campaign...',\n        bodyPreview: selectedInsights.map(i => i.insight.substring(0, 80) + '...').join('\\n\\n'),\n        fullBody: selectedInsights.map(i => i.insight).join('\\n\\n'),\n        cta: 'Learn more',\n        hashtags: ['#Marketing', '#Business', '#Growth'],\n        engagementScore: Math.round(selectedInsights.reduce((acc, i) => acc + i.confidence, 0) / selectedInsights.length * 100),\n        platform,\n        isLoading: false\n      };\n\n      setPreview(mockPreview);\n      setIsLoading(false);\n    }, 500); // 500ms delay to simulate API call\n  }, [selectedInsights, platform]);\n\n  // Debounce updates (500ms)\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      generatePreview();\n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [updateTrigger, generatePreview]);\n\n  // Trigger update when insights or platform changes\n  useEffect(() => {\n    setUpdateTrigger(prev => prev + 1);\n  }, [selectedInsights, platform]);\n\n  const hasInsights = selectedInsights.length > 0;\n\n  return (\n    <div className=\"flex flex-col h-full bg-white\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <Eye className=\"h-5 w-5\" />\n            Live Preview\n          </h2>\n          {preview && (\n            <button\n              onClick={() => setUpdateTrigger(prev => prev + 1)}\n              className=\"text-xs text-gray-600 hover:text-blue-600 flex items-center gap-1 px-2 py-1 rounded hover:bg-blue-50 transition-colors\"\n              disabled={isLoading}\n            >\n              <RefreshCw className={`h-3 w-3 ${isLoading ? 'animate-spin' : ''}`} />\n              Refresh\n            </button>\n          )}\n        </div>\n\n        {/* Platform Selector */}\n        <div className=\"flex gap-1 overflow-x-auto\">\n          {platforms.map(p => (\n            <button\n              key={p.id}\n              onClick={() => onPlatformChange(p.id)}\n              className={`\n                px-3 py-1.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap\n                ${platform === p.id\n                  ? 'bg-blue-100 text-blue-700'\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }\n              `}\n            >\n              <span className=\"mr-1\">{p.emoji}</span>\n              {p.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Preview Content */}\n      <div className=\"flex-1 overflow-y-auto p-4\">\n        {!hasInsights ? (\n          /* Empty State */\n          <div className=\"h-full flex items-center justify-center\">\n            <div className=\"text-center max-w-xs\">\n              <div className=\"mx-auto w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4\">\n                <Eye className=\"h-8 w-8 text-gray-400\" />\n              </div>\n              <h3 className=\"text-sm font-medium text-gray-900 mb-2\">\n                No preview yet\n              </h3>\n              <p className=\"text-sm text-gray-600\">\n                Select insights to see a live preview of your campaign content\n              </p>\n            </div>\n          </div>\n        ) : isLoading ? (\n          /* Loading State */\n          <div className=\"h-full flex items-center justify-center\">\n            <div className=\"text-center\">\n              <Loader2 className=\"h-8 w-8 text-blue-600 animate-spin mx-auto mb-3\" />\n              <p className=\"text-sm text-gray-600\">\n                Generating preview...\n              </p>\n            </div>\n          </div>\n        ) : preview ? (\n          /* Preview */\n          <div className=\"space-y-4\">\n            {/* Engagement Score */}\n            {preview.engagementScore !== undefined && (\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm font-medium text-blue-900\">\n                    Estimated Engagement\n                  </span>\n                  <span className=\"text-lg font-bold text-blue-700\">\n                    {preview.engagementScore}%\n                  </span>\n                </div>\n                <div className=\"mt-2 h-2 bg-blue-100 rounded-full overflow-hidden\">\n                  <div\n                    className=\"h-full bg-blue-600 transition-all duration-500\"\n                    style={{ width: `${preview.engagementScore}%` }}\n                  />\n                </div>\n              </div>\n            )}\n\n            {/* Headline */}\n            <div>\n              <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block\">\n                Headline\n              </label>\n              <p className=\"text-lg font-semibold text-gray-900\">\n                {preview.headline}\n              </p>\n            </div>\n\n            {/* Hook */}\n            <div>\n              <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block\">\n                Hook\n              </label>\n              <p className=\"text-sm text-gray-700 leading-relaxed\">\n                {preview.hook}\n              </p>\n            </div>\n\n            {/* Body Preview */}\n            <div>\n              <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block\">\n                Body Preview\n              </label>\n              <div className=\"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap bg-gray-50 border border-gray-200 rounded-lg p-3\">\n                {preview.bodyPreview}\n                <p className=\"text-xs text-gray-500 mt-2 italic\">\n                  ... (full content will be generated)\n                </p>\n              </div>\n            </div>\n\n            {/* CTA */}\n            {preview.cta && (\n              <div>\n                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block\">\n                  Call to Action\n                </label>\n                <div className=\"inline-block px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg\">\n                  {preview.cta}\n                </div>\n              </div>\n            )}\n\n            {/* Hashtags */}\n            {preview.hashtags && preview.hashtags.length > 0 && (\n              <div>\n                <label className=\"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1 block\">\n                  Hashtags\n                </label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {preview.hashtags.map((tag, idx) => (\n                    <span\n                      key={idx}\n                      className=\"text-sm text-blue-600 font-medium\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        ) : null}\n      </div>\n\n      {/* Footer - Generate Button */}\n      {hasInsights && (\n        <div className=\"p-4 border-t border-gray-200 bg-gray-50\">\n          <button\n            onClick={onGenerate}\n            disabled={isLoading}\n            className={`\n              w-full px-4 py-3 rounded-lg font-medium transition-colors\n              ${isLoading\n                ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                : 'bg-blue-600 text-white hover:bg-blue-700'\n              }\n            `}\n          >\n            {isLoading ? (\n              <span className=\"flex items-center justify-center gap-2\">\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n                Generating...\n              </span>\n            ) : (\n              'Generate Full Campaign'\n            )}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * Content Mixer Container\n *\n * Main component orchestrating the 3-column drag-and-drop interface:\n * - Left: Insight Pool (categorized insights)\n * - Middle: Selection Area (drag insights here)\n * - Right: Live Preview (real-time campaign preview)\n */\n\nimport { useState, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { Sparkles, Zap } from 'lucide-react';\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  PointerSensor,\n  TouchSensor,\n  MouseSensor,\n  useSensor,\n  useSensors,\n  closestCenter\n} from '@dnd-kit/core';\nimport { arrayMove } from '@dnd-kit/sortable';\nimport { InsightPool } from './InsightPool';\nimport { SelectionArea } from './SelectionArea';\nimport { LivePreview } from './LivePreview';\nimport { InsightCard } from './InsightCard';\nimport type { CategorizedInsight, InsightPool as InsightPoolType } from '@/types/content-mixer.types';\n\ninterface ContentMixerProps {\n  /** Available insights organized by category */\n  pool: InsightPoolType;\n\n  /** Callback when user generates campaign */\n  onGenerate: (selectedInsights: CategorizedInsight[]) => void | Promise<void>;\n\n  /** Maximum insights allowed in selection */\n  maxInsights?: number;\n}\n\nexport function ContentMixer({ pool, onGenerate, maxInsights = 5 }: ContentMixerProps) {\n  const [selectedInsights, setSelectedInsights] = useState<CategorizedInsight[]>([]);\n  const [activeInsight, setActiveInsight] = useState<CategorizedInsight | null>(null);\n  const [platform, setPlatform] = useState<'linkedin' | 'facebook' | 'instagram' | 'twitter' | 'tiktok'>('linkedin');\n\n  // Configure drag sensors - optimized for both mouse and touch\n  const sensors = useSensors(\n    useSensor(MouseSensor, {\n      activationConstraint: {\n        distance: 8 // 8px movement required to start drag on desktop\n      }\n    }),\n    useSensor(TouchSensor, {\n      activationConstraint: {\n        delay: 200, // 200ms hold before drag starts on touch\n        tolerance: 5 // Allow 5px of movement during hold\n      }\n    })\n  );\n\n  // Handle drag start\n  const handleDragStart = useCallback((event: DragStartEvent) => {\n    const insightId = event.active.id as string;\n\n    // Find insight in pool or selection\n    let insight: CategorizedInsight | undefined;\n\n    // Check selected insights first\n    insight = selectedInsights.find(i => i.id === insightId);\n\n    // If not in selection, search pool\n    if (!insight) {\n      for (const category of Object.keys(pool.byCategory)) {\n        const found = pool.byCategory[category as keyof typeof pool.byCategory]?.find(\n          i => i.id === insightId\n        );\n        if (found) {\n          insight = found;\n          break;\n        }\n      }\n    }\n\n    setActiveInsight(insight || null);\n  }, [selectedInsights, pool.byCategory]);\n\n  // Handle drag end\n  const handleDragEnd = useCallback((event: DragEndEvent) => {\n    const { active, over } = event;\n\n    setActiveInsight(null);\n\n    if (!over) return;\n\n    const activeId = active.id as string;\n    const overId = over.id as string;\n\n    // Find the active insight\n    let activeInsight: CategorizedInsight | undefined;\n\n    // Check if it's from selection\n    const fromSelection = selectedInsights.find(i => i.id === activeId);\n    if (fromSelection) {\n      activeInsight = fromSelection;\n    } else {\n      // Find in pool\n      for (const category of Object.keys(pool.byCategory)) {\n        const found = pool.byCategory[category as keyof typeof pool.byCategory]?.find(\n          i => i.id === activeId\n        );\n        if (found) {\n          activeInsight = found;\n          break;\n        }\n      }\n    }\n\n    if (!activeInsight) return;\n\n    // Case 1: Dropped on selection area (adding new insight)\n    if (overId === 'selection-area') {\n      // Don't add if already in selection or selection is full\n      if (selectedInsights.some(i => i.id === activeId)) return;\n      if (selectedInsights.length >= maxInsights) return;\n\n      setSelectedInsights(prev => [...prev, activeInsight!]);\n      return;\n    }\n\n    // Case 2: Dropped on insight pool (removing from selection)\n    if (overId === 'insight-pool') {\n      setSelectedInsights(prev => prev.filter(i => i.id !== activeId));\n      return;\n    }\n\n    // Case 3: Reordering within selection\n    if (selectedInsights.some(i => i.id === activeId) && selectedInsights.some(i => i.id === overId)) {\n      const oldIndex = selectedInsights.findIndex(i => i.id === activeId);\n      const newIndex = selectedInsights.findIndex(i => i.id === overId);\n\n      if (oldIndex !== -1 && newIndex !== -1) {\n        setSelectedInsights(prev => arrayMove(prev, oldIndex, newIndex));\n      }\n    }\n  }, [selectedInsights, pool.byCategory, maxInsights]);\n\n  // Handle removing an insight\n  const handleRemoveInsight = useCallback((insightId: string) => {\n    setSelectedInsights(prev => prev.filter(i => i.id !== insightId));\n  }, []);\n\n  // Handle clearing all insights\n  const handleClearAll = useCallback(() => {\n    setSelectedInsights([]);\n  }, []);\n\n  // Handle generate button\n  const handleGenerate = useCallback(() => {\n    if (selectedInsights.length > 0) {\n      onGenerate(selectedInsights);\n    }\n  }, [selectedInsights, onGenerate]);\n\n  return (\n    <div className=\"h-full bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900\">\n      {/* Header */}\n      <motion.div\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"px-4 sm:px-6 py-3 sm:py-4 border-b border-purple-200 dark:border-purple-700 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm\"\n      >\n        <div className=\"flex items-center gap-2 sm:gap-3\">\n          <motion.div\n            whileHover={{ rotate: 360, scale: 1.1 }}\n            transition={{ duration: 0.5 }}\n            className=\"p-1.5 sm:p-2 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg shadow-lg flex-shrink-0\"\n          >\n            <Sparkles className=\"text-white\" size={20} />\n          </motion.div>\n          <div className=\"min-w-0\">\n            <h2 className=\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n              Content Mixer\n            </h2>\n            <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate\">\n              Drag insights to create your perfect campaign mix\n            </p>\n          </div>\n        </div>\n      </motion.div>\n\n      <DndContext\n        sensors={sensors}\n        collisionDetection={closestCenter}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        {/* 3-Column Layout */}\n        <div className=\"h-[calc(100%-80px)] flex flex-col lg:flex-row gap-0\">\n          {/* Left Column: Insight Pool */}\n          <div className=\"w-full lg:w-80 xl:w-96 lg:h-full flex-shrink-0\">\n            <InsightPool\n              pool={pool}\n              selectedInsightIds={selectedInsights.map(i => i.id)}\n            />\n          </div>\n\n          {/* Middle Column: Selection Area */}\n          <div className=\"w-full lg:w-80 xl:w-96 lg:h-full flex-shrink-0 border-x border-purple-200 dark:border-purple-700\">\n            <SelectionArea\n              selectedInsights={selectedInsights}\n              maxInsights={maxInsights}\n              onRemoveInsight={handleRemoveInsight}\n              onClearAll={handleClearAll}\n            />\n          </div>\n\n          {/* Right Column: Live Preview */}\n          <div className=\"flex-1 lg:h-full\">\n            <LivePreview\n              selectedInsights={selectedInsights}\n              platform={platform}\n              onPlatformChange={setPlatform}\n              onGenerate={handleGenerate}\n            />\n          </div>\n        </div>\n\n        {/* Drag Overlay (shows while dragging) */}\n        <DragOverlay>\n          {activeInsight ? (\n            <motion.div\n              initial={{ rotate: 0, scale: 1 }}\n              animate={{ rotate: 3, scale: 1.05 }}\n              className=\"opacity-90\"\n            >\n              <InsightCard\n                insight={activeInsight}\n                draggable={false}\n                inSelection={false}\n              />\n            </motion.div>\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n    </div>\n  );\n}\n","/**\n * CAMPAIGN PREVIEW & APPROVAL TYPES\n *\n * Type definitions for the campaign preview and approval workflow.\n * Supports multi-platform preview, editing, and approval.\n */\n\nimport type { CampaignType, PlatformContent } from './campaign-workflow.types';\n\n// ============================================================================\n// PLATFORM TYPES\n// ============================================================================\n\nexport type SupportedPlatform = 'linkedin' | 'facebook' | 'instagram' | 'x' | 'tiktok' | 'youtube';\n\nexport interface PlatformConfig {\n  platform: SupportedPlatform;\n  displayName: string;\n  icon: string; // Icon name or path\n  characterLimits: {\n    headline?: number;\n    hook: number;\n    body: number;\n    cta: number;\n    hashtags: number; // Max number of hashtags\n  };\n  supportsVideo: boolean;\n  supportsImages: boolean;\n  recommendedAspectRatio?: string;\n}\n\nexport const PLATFORM_CONFIGS: Record<SupportedPlatform, PlatformConfig> = {\n  linkedin: {\n    platform: 'linkedin',\n    displayName: 'LinkedIn',\n    icon: 'linkedin',\n    characterLimits: {\n      headline: 120,\n      hook: 150,\n      body: 3000,\n      cta: 100,\n      hashtags: 5\n    },\n    supportsVideo: true,\n    supportsImages: true,\n    recommendedAspectRatio: '1:1'\n  },\n  facebook: {\n    platform: 'facebook',\n    displayName: 'Facebook',\n    icon: 'facebook',\n    characterLimits: {\n      hook: 120,\n      body: 63206,\n      cta: 100,\n      hashtags: 30\n    },\n    supportsVideo: true,\n    supportsImages: true,\n    recommendedAspectRatio: '1.91:1'\n  },\n  instagram: {\n    platform: 'instagram',\n    displayName: 'Instagram',\n    icon: 'instagram',\n    characterLimits: {\n      hook: 125,\n      body: 2200,\n      cta: 80,\n      hashtags: 30\n    },\n    supportsVideo: true,\n    supportsImages: true,\n    recommendedAspectRatio: '1:1'\n  },\n  x: {\n    platform: 'x',\n    displayName: 'X (Twitter)',\n    icon: 'twitter',\n    characterLimits: {\n      hook: 280,\n      body: 280,\n      cta: 100,\n      hashtags: 2\n    },\n    supportsVideo: true,\n    supportsImages: true,\n    recommendedAspectRatio: '16:9'\n  },\n  tiktok: {\n    platform: 'tiktok',\n    displayName: 'TikTok',\n    icon: 'tiktok',\n    characterLimits: {\n      hook: 100,\n      body: 2200,\n      cta: 80,\n      hashtags: 5\n    },\n    supportsVideo: true,\n    supportsImages: false,\n    recommendedAspectRatio: '9:16'\n  },\n  youtube: {\n    platform: 'youtube',\n    displayName: 'YouTube',\n    icon: 'youtube',\n    characterLimits: {\n      headline: 100,\n      hook: 100,\n      body: 5000,\n      cta: 100,\n      hashtags: 15\n    },\n    supportsVideo: true,\n    supportsImages: true,\n    recommendedAspectRatio: '16:9'\n  }\n};\n\n// ============================================================================\n// CONTENT SECTIONS\n// ============================================================================\n\nexport type ContentSection = 'headline' | 'hook' | 'body' | 'cta' | 'hashtags';\n\nexport interface SectionContent {\n  section: ContentSection;\n  value: string | string[]; // string for text, array for hashtags\n  characterCount: number;\n  isOverLimit: boolean;\n  limit?: number;\n}\n\n// ============================================================================\n// PREVIEW MODE\n// ============================================================================\n\nexport type PreviewMode = 'preview' | 'edit';\n\nexport interface PreviewState {\n  mode: PreviewMode;\n  selectedPlatform: SupportedPlatform;\n  editingSection?: ContentSection;\n}\n\n// ============================================================================\n// CAMPAIGN PREVIEW DATA\n// ============================================================================\n\nexport interface CampaignPreviewData {\n  campaignId: string;\n  campaignName: string;\n  campaignType: CampaignType;\n  platforms: SupportedPlatform[];\n  content: Record<SupportedPlatform, PlatformPreviewContent>;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface PlatformPreviewContent {\n  platform: SupportedPlatform;\n  sections: {\n    headline?: string;\n    hook: string;\n    body: string;\n    cta: string;\n    hashtags: string[];\n  };\n  characterCounts: {\n    headline?: number;\n    hook: number;\n    body: number;\n    cta: number;\n    total: number;\n  };\n  warnings: ContentWarning[];\n  mediaUrls?: string[];\n}\n\nexport interface ContentWarning {\n  section: ContentSection;\n  type: 'over_limit' | 'missing_required' | 'low_quality';\n  message: string;\n  severity: 'error' | 'warning' | 'info';\n}\n\n// ============================================================================\n// EDITING & REGENERATION\n// ============================================================================\n\nexport interface SectionEditRequest {\n  campaignId: string;\n  platform: SupportedPlatform;\n  section: ContentSection;\n  currentValue: string | string[];\n  improvementDirection?: string; // Optional guidance for regeneration\n}\n\nexport interface RegenerationOptions {\n  tone?: 'professional' | 'casual' | 'humorous' | 'authoritative';\n  length?: 'shorter' | 'longer' | 'same';\n  focus?: string; // What to emphasize\n  avoid?: string; // What to avoid\n}\n\nexport interface RegenerationResult {\n  section: ContentSection;\n  alternatives: Array<{\n    value: string | string[];\n    characterCount: number;\n    reasoning: string; // Why this alternative might work better\n  }>;\n}\n\n// ============================================================================\n// APPROVAL WORKFLOW\n// ============================================================================\n\nexport type ApprovalStatus = 'pending' | 'approved' | 'rejected' | 'changes_requested';\n\nexport interface ApprovalDecision {\n  status: ApprovalStatus;\n  approvedPlatforms?: SupportedPlatform[];\n  feedback?: string;\n  requestedChanges?: Array<{\n    platform: SupportedPlatform;\n    section: ContentSection;\n    change: string;\n  }>;\n  approvedAt?: Date;\n  approvedBy?: string;\n}\n\nexport interface CampaignApprovalRecord {\n  campaignId: string;\n  decision: ApprovalDecision;\n  history: Array<{\n    timestamp: Date;\n    action: 'submitted' | 'approved' | 'rejected' | 'changes_requested' | 'regenerated';\n    user?: string;\n    details?: string;\n  }>;\n}\n\n// ============================================================================\n// PUBLISH INTEGRATION\n// ============================================================================\n\nexport interface PublishRequest {\n  campaignId: string;\n  platforms: SupportedPlatform[];\n  scheduleType: 'immediate' | 'scheduled';\n  scheduledTimes?: Record<SupportedPlatform, Date>;\n  publishTo: 'socialpilot' | 'buffer' | 'hootsuite' | 'draft'; // Which publishing tool\n}\n\nexport interface PublishResult {\n  success: boolean;\n  publishedPlatforms: SupportedPlatform[];\n  failedPlatforms: Array<{\n    platform: SupportedPlatform;\n    error: string;\n  }>;\n  publishedAt: Date;\n}\n","/**\n * PLATFORM TABS COMPONENT\n *\n * Displays tabs for switching between different social media platforms\n * in the campaign preview interface.\n *\n * Features:\n * - Platform logos and names\n * - Active tab indicator\n * - Character count per platform\n * - Preview/Edit mode toggle\n * - Platform warnings (over limit)\n */\n\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  type SupportedPlatform,\n  type PreviewMode,\n  type PlatformPreviewContent,\n  PLATFORM_CONFIGS\n} from '@/types/campaign-preview.types';\n\n// ============================================================================\n// PLATFORM ICONS (Simple SVG placeholders - replace with actual icons)\n// ============================================================================\n\nconst PlatformIcon: React.FC<{ platform: SupportedPlatform; className?: string }> = ({\n  platform,\n  className = 'w-5 h-5'\n}) => {\n  // In production, use actual SVG icons from a library like lucide-react or heroicons\n  const iconMap: Record<SupportedPlatform, string> = {\n    linkedin: 'üíº',\n    facebook: 'üìò',\n    instagram: 'üì∏',\n    x: '‚úñÔ∏è',\n    tiktok: 'üéµ',\n    youtube: '‚ñ∂Ô∏è'\n  };\n\n  return (\n    <span className={`${className} flex items-center justify-center text-lg`}>\n      {iconMap[platform]}\n    </span>\n  );\n};\n\n// ============================================================================\n// PLATFORM TAB COMPONENT\n// ============================================================================\n\ninterface PlatformTabProps {\n  platform: SupportedPlatform;\n  isActive: boolean;\n  characterCount: number;\n  hasWarnings: boolean;\n  onClick: () => void;\n}\n\nconst PlatformTab: React.FC<PlatformTabProps> = ({\n  platform,\n  isActive,\n  characterCount,\n  hasWarnings,\n  onClick\n}) => {\n  const config = PLATFORM_CONFIGS[platform];\n\n  return (\n    <motion.button\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      onClick={onClick}\n      aria-label={`${config.displayName} platform${isActive ? ' (selected)' : ''}${hasWarnings ? ' - has warnings' : ''}`}\n      className={`\n        relative flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-t-lg transition-all shadow-lg min-h-[44px] flex-shrink-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n        ${isActive\n          ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white'\n          : 'bg-white/50 dark:bg-slate-800/50 text-gray-600 dark:text-gray-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 border border-purple-200 dark:border-purple-700'\n        }\n      `}\n      aria-current={isActive ? 'page' : undefined}\n    >\n      {/* Platform Icon */}\n      <PlatformIcon platform={platform} className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n\n      {/* Platform Name */}\n      <span className=\"font-medium text-xs sm:text-sm whitespace-nowrap\">\n        {config.displayName}\n      </span>\n\n      {/* Character Count Badge */}\n      <span className={`\n        px-1.5 sm:px-2 py-0.5 rounded-full text-xs font-medium border whitespace-nowrap\n        ${hasWarnings\n          ? 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 border-red-300 dark:border-red-700'\n          : isActive\n          ? 'bg-white/20 text-white border-white/40'\n          : 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border-purple-300 dark:border-purple-700'\n        }\n      `}>\n        {characterCount}\n      </span>\n\n      {/* Warning Indicator */}\n      {hasWarnings && (\n        <motion.span\n          animate={{ scale: [1, 1.2, 1] }}\n          transition={{ duration: 1.5, repeat: Infinity }}\n          className=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full border-2 border-white dark:border-slate-900\"\n        />\n      )}\n    </motion.button>\n  );\n};\n\n// ============================================================================\n// PLATFORM TABS COMPONENT\n// ============================================================================\n\ninterface PlatformTabsProps {\n  platforms: SupportedPlatform[];\n  activePlatform: SupportedPlatform;\n  onPlatformChange: (platform: SupportedPlatform) => void;\n  platformContent: Record<SupportedPlatform, PlatformPreviewContent>;\n  mode: PreviewMode;\n  onModeChange: (mode: PreviewMode) => void;\n}\n\nexport const PlatformTabs: React.FC<PlatformTabsProps> = ({\n  platforms,\n  activePlatform,\n  onPlatformChange,\n  platformContent,\n  mode,\n  onModeChange\n}) => {\n  return (\n    <div className=\"w-full border-b border-purple-200 dark:border-purple-700 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-slate-900 dark:to-slate-800\">\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 px-3 sm:px-4 py-2\">\n        {/* Platform Tabs */}\n        <div className=\"flex gap-1 overflow-x-auto scrollbar-hide pb-1 sm:pb-0\">\n          {platforms.map((platform) => {\n            const content = platformContent[platform];\n            const hasWarnings = content?.warnings && content.warnings.length > 0;\n            const characterCount = content?.characterCounts?.total || 0;\n\n            return (\n              <PlatformTab\n                key={platform}\n                platform={platform}\n                isActive={activePlatform === platform}\n                characterCount={characterCount}\n                hasWarnings={hasWarnings}\n                onClick={() => onPlatformChange(platform)}\n              />\n            );\n          })}\n        </div>\n\n        {/* Mode Toggle */}\n        <div className=\"flex items-center gap-1.5 sm:gap-2 sm:ml-4 flex-shrink-0\" role=\"group\" aria-label=\"View mode\">\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => onModeChange('preview')}\n            aria-label=\"Preview mode\"\n            aria-pressed={mode === 'preview'}\n            className={`\n              flex-1 sm:flex-none px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all shadow-lg min-h-[44px] sm:min-h-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n              ${mode === 'preview'\n                ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white'\n                : 'bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 border border-purple-200 dark:border-purple-700'\n              }\n            `}\n          >\n            <span className=\"hidden sm:inline\">üëÅÔ∏è Preview</span>\n            <span className=\"sm:hidden\">üëÅÔ∏è</span>\n          </motion.button>\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => onModeChange('edit')}\n            aria-label=\"Edit mode\"\n            aria-pressed={mode === 'edit'}\n            className={`\n              flex-1 sm:flex-none px-2.5 sm:px-3 py-2 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all shadow-lg min-h-[44px] sm:min-h-0 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n              ${mode === 'edit'\n                ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white'\n                : 'bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 border border-purple-200 dark:border-purple-700'\n              }\n            `}\n          >\n            <span className=\"hidden sm:inline\">‚úèÔ∏è Edit</span>\n            <span className=\"sm:hidden\">‚úèÔ∏è</span>\n          </motion.button>\n        </div>\n      </div>\n\n      {/* Active Platform Info */}\n      <div className=\"px-3 sm:px-4 py-2 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm border-t border-purple-200 dark:border-purple-700\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-xs sm:text-sm\">\n          <div className=\"flex items-center gap-2 text-purple-600 dark:text-purple-400\">\n            <span className=\"font-medium\">Total Characters:</span>\n            <span className=\"font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n              {platformContent[activePlatform]?.characterCounts?.total || 0}\n            </span>\n          </div>\n\n          {/* Platform Capabilities */}\n          <div className=\"flex items-center gap-1.5 sm:gap-2 text-xs text-gray-600 dark:text-gray-400 overflow-x-auto scrollbar-hide\">\n            {PLATFORM_CONFIGS[activePlatform].supportsImages && (\n              <span className=\"flex items-center gap-1 px-1.5 sm:px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded border border-purple-200 dark:border-purple-700 whitespace-nowrap flex-shrink-0\">\n                üñºÔ∏è <span className=\"hidden sm:inline\">Images</span>\n              </span>\n            )}\n            {PLATFORM_CONFIGS[activePlatform].supportsVideo && (\n              <span className=\"flex items-center gap-1 px-1.5 sm:px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded border border-purple-200 dark:border-purple-700 whitespace-nowrap flex-shrink-0\">\n                üé• <span className=\"hidden sm:inline\">Video</span>\n              </span>\n            )}\n            <span className=\"flex items-center gap-1 px-1.5 sm:px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded border border-purple-200 dark:border-purple-700 whitespace-nowrap flex-shrink-0\">\n              üìê {PLATFORM_CONFIGS[activePlatform].recommendedAspectRatio}\n            </span>\n          </div>\n        </div>\n\n        {/* Warnings Summary */}\n        {platformContent[activePlatform]?.warnings && platformContent[activePlatform].warnings.length > 0 && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            className=\"mt-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg shadow-lg\"\n          >\n            <div className=\"flex items-start gap-2\">\n              <motion.span\n                animate={{ rotate: [0, -10, 10, 0] }}\n                transition={{ duration: 0.5, repeat: Infinity, repeatDelay: 2 }}\n                className=\"text-red-500\"\n              >\n                ‚ö†Ô∏è\n              </motion.span>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-red-700 dark:text-red-400\">\n                  {platformContent[activePlatform].warnings.length} warning(s) for this platform\n                </p>\n                <ul className=\"mt-1 space-y-1\">\n                  {platformContent[activePlatform].warnings.map((warning, idx) => (\n                    <li key={idx} className=\"text-xs text-red-600 dark:text-red-400\">\n                      {warning.section}: {warning.message}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n};\n","/**\n * CAMPAIGN PREVIEW CARD COMPONENT\n *\n * Displays the campaign content for a specific platform with:\n * - Platform-specific formatting and preview\n * - Section-by-section breakdown (headline, hook, body, CTA, hashtags)\n * - Character count per section\n * - Warning indicators for over-limit sections\n * - Visual separator between sections\n * - Simulated social media post appearance\n *\n * Props:\n * - content: Platform-specific content to display\n * - platform: Which platform this is for\n * - editable: Whether edit buttons should be shown\n * - onEditSection: Callback when user wants to edit a section\n */\n\nimport React from 'react';\nimport {\n  type SupportedPlatform,\n  type PlatformPreviewContent,\n  type ContentSection,\n  PLATFORM_CONFIGS\n} from '@/types/campaign-preview.types';\n\n// ============================================================================\n// CONTENT SECTION DISPLAY\n// ============================================================================\n\ninterface ContentSectionDisplayProps {\n  section: ContentSection;\n  value: string | string[];\n  characterCount: number;\n  limit?: number;\n  isOverLimit: boolean;\n  editable: boolean;\n  onEdit?: () => void;\n}\n\nconst ContentSectionDisplay: React.FC<ContentSectionDisplayProps> = ({\n  section,\n  value,\n  characterCount,\n  limit,\n  isOverLimit,\n  editable,\n  onEdit\n}) => {\n  const sectionLabels: Record<ContentSection, string> = {\n    headline: 'Headline',\n    hook: 'Hook',\n    body: 'Body',\n    cta: 'Call to Action',\n    hashtags: 'Hashtags'\n  };\n\n  const renderValue = () => {\n    if (section === 'hashtags' && Array.isArray(value)) {\n      return (\n        <div className=\"flex flex-wrap gap-2\">\n          {value.map((tag, idx) => (\n            <span\n              key={idx}\n              className=\"px-2 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-md text-sm font-medium\"\n            >\n              #{tag}\n            </span>\n          ))}\n        </div>\n      );\n    }\n\n    return (\n      <p className=\"text-gray-800 dark:text-gray-200 whitespace-pre-wrap\">\n        {value as string}\n      </p>\n    );\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      {/* Section Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <h4 className=\"font-semibold text-sm text-gray-700 dark:text-gray-300\">\n            {sectionLabels[section]}\n          </h4>\n          {editable && (\n            <button\n              onClick={onEdit}\n              aria-label={`Edit ${sectionLabels[section]}`}\n              className=\"px-3 py-2 min-h-[44px] min-w-[44px] text-xs bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center justify-center gap-1\"\n            >\n              <span>‚úèÔ∏è</span>\n              <span className=\"hidden sm:inline\">Edit</span>\n            </button>\n          )}\n        </div>\n\n        {/* Character Count */}\n        <div className=\"flex items-center gap-2\">\n          <span className={`\n            text-xs font-medium\n            ${isOverLimit\n              ? 'text-red-600 dark:text-red-400'\n              : characterCount > (limit || 0) * 0.9\n                ? 'text-yellow-600 dark:text-yellow-400'\n                : 'text-gray-500 dark:text-gray-400'\n            }\n          `}>\n            {characterCount}{limit ? ` / ${limit}` : ''}\n          </span>\n          {isOverLimit && (\n            <span className=\"text-red-500 text-xs\">‚ö†Ô∏è</span>\n          )}\n        </div>\n      </div>\n\n      {/* Section Content */}\n      <div className={`\n        p-3 rounded-lg border\n        ${isOverLimit\n          ? 'bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800'\n          : 'bg-gray-50 border-gray-200 dark:bg-gray-800 dark:border-gray-700'\n        }\n      `}>\n        {renderValue()}\n      </div>\n    </div>\n  );\n};\n\n// ============================================================================\n// SOCIAL MEDIA POST PREVIEW (Simulated)\n// ============================================================================\n\ninterface SocialMediaPreviewProps {\n  platform: SupportedPlatform;\n  content: PlatformPreviewContent;\n}\n\nconst SocialMediaPreview: React.FC<SocialMediaPreviewProps> = ({ platform, content }) => {\n  const { sections } = content;\n\n  return (\n    <div className=\"w-full max-w-lg mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden\">\n      {/* Post Header (simulated) */}\n      <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full\" />\n          <div>\n            <p className=\"font-semibold text-sm text-gray-900 dark:text-gray-100\">Your Business</p>\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">Just now ¬∑ üåê</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Post Content */}\n      <div className=\"p-4 space-y-3\">\n        {/* Headline (if exists) */}\n        {sections.headline && (\n          <h3 className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">\n            {sections.headline}\n          </h3>\n        )}\n\n        {/* Hook */}\n        {sections.hook && (\n          <p className=\"text-base font-medium text-gray-800 dark:text-gray-200\">\n            {sections.hook}\n          </p>\n        )}\n\n        {/* Body */}\n        {sections.body && (\n          <p className=\"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap\">\n            {sections.body}\n          </p>\n        )}\n\n        {/* CTA */}\n        {sections.cta && (\n          <p className=\"text-sm font-semibold text-blue-600 dark:text-blue-400\">\n            {sections.cta}\n          </p>\n        )}\n\n        {/* Hashtags */}\n        {sections.hashtags && sections.hashtags.length > 0 && (\n          <p className=\"text-sm text-blue-600 dark:text-blue-400\">\n            {sections.hashtags.map(tag => `#${tag}`).join(' ')}\n          </p>\n        )}\n      </div>\n\n      {/* Media Placeholder (if applicable) */}\n      {content.mediaUrls && content.mediaUrls.length > 0 && (\n        <div className=\"bg-gray-200 dark:bg-gray-700 h-64 flex items-center justify-center\">\n          <span className=\"text-gray-500 dark:text-gray-400\">üì∑ Media Preview</span>\n        </div>\n      )}\n\n      {/* Post Footer (simulated) */}\n      <div className=\"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700\">\n        <div className=\"flex items-center justify-between text-xs sm:text-sm text-gray-500 dark:text-gray-400\">\n          <button\n            aria-label=\"Like this post\"\n            className=\"flex items-center gap-1.5 sm:gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-h-[44px] px-2 rounded\"\n          >\n            <span>üëç</span>\n            <span className=\"hidden sm:inline\">Like</span>\n          </button>\n          <button\n            aria-label=\"Comment on this post\"\n            className=\"flex items-center gap-1.5 sm:gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-h-[44px] px-2 rounded\"\n          >\n            <span>üí¨</span>\n            <span className=\"hidden sm:inline\">Comment</span>\n          </button>\n          <button\n            aria-label=\"Share this post\"\n            className=\"flex items-center gap-1.5 sm:gap-2 hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-200 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-h-[44px] px-2 rounded\"\n          >\n            <span>üîÑ</span>\n            <span className=\"hidden sm:inline\">Share</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ============================================================================\n// CAMPAIGN PREVIEW CARD (Main Component)\n// ============================================================================\n\ninterface CampaignPreviewCardProps {\n  content: PlatformPreviewContent;\n  platform: SupportedPlatform;\n  editable: boolean;\n  showSocialPreview?: boolean;\n  onEditSection?: (section: ContentSection) => void;\n}\n\nexport const CampaignPreviewCard: React.FC<CampaignPreviewCardProps> = ({\n  content,\n  platform,\n  editable,\n  showSocialPreview = true,\n  onEditSection\n}) => {\n  const config = PLATFORM_CONFIGS[platform];\n  const { sections, characterCounts, warnings } = content;\n\n  const getSectionLimit = (section: ContentSection): number | undefined => {\n    return config.characterLimits[section as keyof typeof config.characterLimits];\n  };\n\n  const isSectionOverLimit = (section: ContentSection): boolean => {\n    const limit = getSectionLimit(section);\n    if (!limit) return false;\n\n    if (section === 'hashtags') {\n      return sections.hashtags.length > limit;\n    }\n\n    const count = characterCounts[section as keyof typeof characterCounts] || 0;\n    return count > limit;\n  };\n\n  return (\n    <div className=\"w-full space-y-6\">\n      {/* Social Media Preview */}\n      {showSocialPreview && (\n        <div>\n          <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3\">\n            üì± Social Media Preview\n          </h3>\n          <SocialMediaPreview platform={platform} content={content} />\n        </div>\n      )}\n\n      {/* Detailed Section Breakdown */}\n      <div>\n        <h3 className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3\">\n          üìù Content Breakdown\n        </h3>\n        <div className=\"space-y-4 bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700\">\n          {/* Headline (if exists) */}\n          {sections.headline && (\n            <ContentSectionDisplay\n              section=\"headline\"\n              value={sections.headline}\n              characterCount={characterCounts.headline || sections.headline.length}\n              limit={getSectionLimit('headline')}\n              isOverLimit={isSectionOverLimit('headline')}\n              editable={editable}\n              onEdit={() => onEditSection?.('headline')}\n            />\n          )}\n\n          {/* Hook */}\n          <ContentSectionDisplay\n            section=\"hook\"\n            value={sections.hook}\n            characterCount={characterCounts.hook}\n            limit={getSectionLimit('hook')}\n            isOverLimit={isSectionOverLimit('hook')}\n            editable={editable}\n            onEdit={() => onEditSection?.('hook')}\n          />\n\n          {/* Visual Separator */}\n          <div className=\"border-t border-gray-200 dark:border-gray-700\" />\n\n          {/* Body */}\n          <ContentSectionDisplay\n            section=\"body\"\n            value={sections.body}\n            characterCount={characterCounts.body}\n            limit={getSectionLimit('body')}\n            isOverLimit={isSectionOverLimit('body')}\n            editable={editable}\n            onEdit={() => onEditSection?.('body')}\n          />\n\n          {/* Visual Separator */}\n          <div className=\"border-t border-gray-200 dark:border-gray-700\" />\n\n          {/* CTA */}\n          <ContentSectionDisplay\n            section=\"cta\"\n            value={sections.cta}\n            characterCount={sections.cta.length}\n            limit={getSectionLimit('cta')}\n            isOverLimit={isSectionOverLimit('cta')}\n            editable={editable}\n            onEdit={() => onEditSection?.('cta')}\n          />\n\n          {/* Hashtags */}\n          {sections.hashtags && sections.hashtags.length > 0 && (\n            <>\n              {/* Visual Separator */}\n              <div className=\"border-t border-gray-200 dark:border-gray-700\" />\n\n              <ContentSectionDisplay\n                section=\"hashtags\"\n                value={sections.hashtags}\n                characterCount={sections.hashtags.length}\n                limit={getSectionLimit('hashtags')}\n                isOverLimit={isSectionOverLimit('hashtags')}\n                editable={editable}\n                onEdit={() => onEditSection?.('hashtags')}\n              />\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Warning Summary */}\n      {warnings && warnings.length > 0 && (\n        <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4\">\n          <h4 className=\"font-semibold text-sm text-yellow-800 dark:text-yellow-400 mb-2\">\n            ‚ö†Ô∏è Platform Warnings\n          </h4>\n          <ul className=\"space-y-1\">\n            {warnings.map((warning, idx) => (\n              <li key={idx} className=\"text-sm text-yellow-700 dark:text-yellow-400\">\n                <span className=\"font-medium\">{warning.section}:</span> {warning.message}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n","/**\n * EDIT SECTION COMPONENT\n *\n * Inline editor for campaign content sections with:\n * - Auto-resizing textarea\n * - Character count display\n * - \"Regenerate\" button per section\n * - Multiple regeneration alternatives\n * - Save/Cancel buttons\n * - Real-time character validation\n *\n * Props:\n * - section: Which section is being edited (headline|hook|body|cta|hashtags)\n * - value: Current value\n * - limit: Character limit (optional)\n * - onChange: Callback when value changes\n * - onSave: Callback when user saves changes\n * - onCancel: Callback when user cancels editing\n * - onRegenerate: Callback when user requests regeneration\n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport {\n  type ContentSection,\n  type RegenerationOptions,\n  type RegenerationResult\n} from '@/types/campaign-preview.types';\n\n// ============================================================================\n// AUTO-RESIZE TEXTAREA\n// ============================================================================\n\ninterface AutoResizeTextareaProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  className?: string;\n  maxLength?: number;\n}\n\nconst AutoResizeTextarea: React.FC<AutoResizeTextareaProps> = ({\n  value,\n  onChange,\n  placeholder,\n  className = '',\n  maxLength\n}) => {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Auto-resize on value change\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = `${textarea.scrollHeight}px`;\n    }\n  }, [value]);\n\n  return (\n    <textarea\n      ref={textareaRef}\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n      className={className}\n      maxLength={maxLength}\n      rows={3}\n    />\n  );\n};\n\n// ============================================================================\n// HASHTAG EDITOR\n// ============================================================================\n\ninterface HashtagEditorProps {\n  hashtags: string[];\n  onChange: (hashtags: string[]) => void;\n  maxHashtags?: number;\n}\n\nconst HashtagEditor: React.FC<HashtagEditorProps> = ({\n  hashtags,\n  onChange,\n  maxHashtags\n}) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const addHashtag = () => {\n    const cleaned = inputValue.trim().replace(/^#/, '');\n    if (cleaned && !hashtags.includes(cleaned)) {\n      if (!maxHashtags || hashtags.length < maxHashtags) {\n        onChange([...hashtags, cleaned]);\n        setInputValue('');\n      }\n    }\n  };\n\n  const removeHashtag = (index: number) => {\n    onChange(hashtags.filter((_, idx) => idx !== index));\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      addHashtag();\n    }\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      {/* Existing Hashtags */}\n      <div className=\"flex flex-wrap gap-2\">\n        {hashtags.map((tag, idx) => (\n          <div\n            key={idx}\n            className=\"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full\"\n          >\n            <span className=\"text-sm font-medium\">#{tag}</span>\n            <button\n              onClick={() => removeHashtag(idx)}\n              className=\"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200\"\n            >\n              √ó\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* Add New Hashtag */}\n      <div className=\"flex items-center gap-2\">\n        <input\n          type=\"text\"\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Add hashtag...\"\n          className=\"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <button\n          onClick={addHashtag}\n          disabled={!inputValue.trim() || (maxHashtags !== undefined && hashtags.length >= maxHashtags)}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors\"\n        >\n          Add\n        </button>\n      </div>\n\n      {maxHashtags && (\n        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n          {hashtags.length} / {maxHashtags} hashtags\n        </p>\n      )}\n    </div>\n  );\n};\n\n// ============================================================================\n// REGENERATION ALTERNATIVES\n// ============================================================================\n\ninterface RegenerationAlternativesProps {\n  alternatives: RegenerationResult['alternatives'];\n  onSelect: (index: number) => void;\n  onClose: () => void;\n}\n\nconst RegenerationAlternatives: React.FC<RegenerationAlternativesProps> = ({\n  alternatives,\n  onSelect,\n  onClose\n}) => {\n  return (\n    <div className=\"mt-4 space-y-3\">\n      <div className=\"flex items-center justify-between\">\n        <h4 className=\"font-semibold text-sm text-gray-700 dark:text-gray-300\">\n          ‚ú® AI-Generated Alternatives\n        </h4>\n        <button\n          onClick={onClose}\n          className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n        >\n          √ó\n        </button>\n      </div>\n\n      {alternatives.map((alt, idx) => (\n        <div\n          key={idx}\n          className=\"p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\"\n        >\n          <div className=\"space-y-2\">\n            {/* Alternative Content */}\n            <p className=\"text-sm text-gray-800 dark:text-gray-200\">\n              {Array.isArray(alt.value) ? alt.value.join(', ') : alt.value}\n            </p>\n\n            {/* Reasoning */}\n            <p className=\"text-xs text-gray-600 dark:text-gray-400 italic\">\n              üí° {alt.reasoning}\n            </p>\n\n            {/* Character Count */}\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                {alt.characterCount} characters\n              </span>\n              <button\n                onClick={() => onSelect(idx)}\n                className=\"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n              >\n                Use This\n              </button>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// ============================================================================\n// EDIT SECTION COMPONENT (Main)\n// ============================================================================\n\ninterface EditSectionProps {\n  section: ContentSection;\n  value: string | string[];\n  limit?: number;\n  onChange: (value: string | string[]) => void;\n  onSave: () => void;\n  onCancel: () => void;\n  onRegenerate?: (options?: RegenerationOptions) => Promise<RegenerationResult>;\n}\n\nexport const EditSection: React.FC<EditSectionProps> = ({\n  section,\n  value,\n  limit,\n  onChange,\n  onSave,\n  onCancel,\n  onRegenerate\n}) => {\n  const [isRegenerating, setIsRegenerating] = useState(false);\n  const [regenerationResult, setRegenerationResult] = useState<RegenerationResult | null>(null);\n  const [showOptions, setShowOptions] = useState(false);\n\n  const sectionLabels: Record<ContentSection, string> = {\n    headline: 'Headline',\n    hook: 'Hook',\n    body: 'Body',\n    cta: 'Call to Action',\n    hashtags: 'Hashtags'\n  };\n\n  const placeholders: Record<ContentSection, string> = {\n    headline: 'Enter a compelling headline...',\n    hook: 'Write an attention-grabbing opening...',\n    body: 'Craft your main message...',\n    cta: 'Add a clear call to action...',\n    hashtags: 'Add relevant hashtags...'\n  };\n\n  const characterCount = Array.isArray(value)\n    ? value.length\n    : (value as string).length;\n\n  const isOverLimit = limit ? characterCount > limit : false;\n\n  const handleRegenerate = async (options?: RegenerationOptions) => {\n    if (!onRegenerate) return;\n\n    setIsRegenerating(true);\n    try {\n      const result = await onRegenerate(options);\n      setRegenerationResult(result);\n    } catch (error) {\n      console.error('Regeneration failed:', error);\n    } finally {\n      setIsRegenerating(false);\n    }\n  };\n\n  const handleSelectAlternative = (index: number) => {\n    if (regenerationResult && regenerationResult.alternatives[index]) {\n      onChange(regenerationResult.alternatives[index].value);\n      setRegenerationResult(null);\n    }\n  };\n\n  return (\n    <div className=\"w-full space-y-4 p-6 bg-white dark:bg-gray-800 rounded-lg border-2 border-blue-500\">\n      {/* Section Header */}\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n          ‚úèÔ∏è Editing: {sectionLabels[section]}\n        </h3>\n        <div className=\"flex items-center gap-2\">\n          <span className={`\n            text-sm font-medium\n            ${isOverLimit ? 'text-red-600 dark:text-red-400' : 'text-gray-600 dark:text-gray-400'}\n          `}>\n            {characterCount}{limit ? ` / ${limit}` : ''}\n          </span>\n          {isOverLimit && (\n            <span className=\"text-red-500\">‚ö†Ô∏è</span>\n          )}\n        </div>\n      </div>\n\n      {/* Editor */}\n      {section === 'hashtags' ? (\n        <HashtagEditor\n          hashtags={value as string[]}\n          onChange={onChange as (hashtags: string[]) => void}\n          maxHashtags={limit}\n        />\n      ) : (\n        <AutoResizeTextarea\n          value={value as string}\n          onChange={onChange as (value: string) => void}\n          placeholder={placeholders[section]}\n          maxLength={limit}\n          className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n        />\n      )}\n\n      {/* Regeneration Button & Options */}\n      <div className=\"flex items-center gap-3\">\n        <button\n          onClick={() => handleRegenerate()}\n          disabled={isRegenerating || !onRegenerate}\n          className=\"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 disabled:from-gray-300 disabled:to-gray-400 dark:disabled:from-gray-600 dark:disabled:to-gray-700 disabled:cursor-not-allowed transition-all flex items-center gap-2\"\n        >\n          {isRegenerating ? (\n            <>\n              <span className=\"animate-spin\">‚öôÔ∏è</span>\n              <span>Regenerating...</span>\n            </>\n          ) : (\n            <>\n              <span>‚ú®</span>\n              <span>Regenerate with AI</span>\n            </>\n          )}\n        </button>\n\n        {onRegenerate && (\n          <button\n            onClick={() => setShowOptions(!showOptions)}\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n          >\n            {showOptions ? '‚ñº' : '‚ñ∂'} Options\n          </button>\n        )}\n      </div>\n\n      {/* Regeneration Options (TODO: Add tone, length, focus controls) */}\n      {showOptions && (\n        <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600\">\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            üöß Advanced regeneration options coming soon (tone, length, focus)\n          </p>\n        </div>\n      )}\n\n      {/* Regeneration Alternatives */}\n      {regenerationResult && (\n        <RegenerationAlternatives\n          alternatives={regenerationResult.alternatives}\n          onSelect={handleSelectAlternative}\n          onClose={() => setRegenerationResult(null)}\n        />\n      )}\n\n      {/* Action Buttons */}\n      <div className=\"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700\">\n        <button\n          onClick={onCancel}\n          className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          onClick={onSave}\n          disabled={isOverLimit}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed transition-colors\"\n        >\n          üíæ Save Changes\n        </button>\n      </div>\n    </div>\n  );\n};\n","/**\n * CAMPAIGN PREVIEW CONTAINER\n *\n * Main container component that orchestrates the entire campaign preview and editing workflow.\n *\n * Features:\n * - Header with campaign name and type badge\n * - Platform tabs for switching between platforms\n * - Preview card per platform\n * - Inline editing with EditSection component\n * - Footer actions: \"Edit\", \"Approve\", \"Regenerate All\"\n * - Loading states\n * - Integration with content generators for regeneration\n *\n * Props:\n * - campaignData: The campaign content to preview\n * - onApprove: Callback when user approves campaign\n * - onReject: Callback when user rejects campaign\n * - onRegenerateAll: Callback to regenerate all content\n * - onSectionRegenerate: Callback to regenerate a specific section\n */\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Sparkles, Zap } from 'lucide-react';\nimport {\n  type SupportedPlatform,\n  type PreviewMode,\n  type ContentSection,\n  type CampaignPreviewData,\n  type RegenerationResult,\n  type RegenerationOptions\n} from '@/types/campaign-preview.types';\nimport { PlatformTabs } from './PlatformTabs';\nimport { CampaignPreviewCard } from './CampaignPreviewCard';\nimport { EditSection } from './EditSection';\n\n// ============================================================================\n// CAMPAIGN TYPE BADGE\n// ============================================================================\n\ninterface CampaignTypeBadgeProps {\n  type: 'authority-builder' | 'social-proof' | 'local-pulse';\n}\n\nconst CampaignTypeBadge: React.FC<CampaignTypeBadgeProps> = ({ type }) => {\n  const badgeConfig = {\n    'authority-builder': {\n      label: 'üéì Authority Builder',\n      className: 'bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 dark:from-purple-900/30 dark:to-blue-900/30 dark:text-purple-400 border border-purple-200 dark:border-purple-700'\n    },\n    'social-proof': {\n      label: '‚≠ê Social Proof',\n      className: 'bg-gradient-to-r from-green-100 to-blue-100 text-green-700 dark:from-green-900/30 dark:to-blue-900/30 dark:text-green-400 border border-green-200 dark:border-green-700'\n    },\n    'local-pulse': {\n      label: 'üìç Local Pulse',\n      className: 'bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 dark:from-blue-900/30 dark:to-purple-900/30 dark:text-blue-400 border border-blue-200 dark:border-blue-700'\n    }\n  };\n\n  const config = badgeConfig[type];\n\n  return (\n    <motion.span\n      whileHover={{ scale: 1.05 }}\n      className={`px-3 py-1 rounded-full text-sm font-medium shadow-sm ${config.className}`}\n    >\n      {config.label}\n    </motion.span>\n  );\n};\n\n// ============================================================================\n// CAMPAIGN PREVIEW HEADER\n// ============================================================================\n\ninterface CampaignPreviewHeaderProps {\n  campaignName: string;\n  campaignType: 'authority-builder' | 'social-proof' | 'local-pulse';\n  createdAt: Date;\n}\n\nconst CampaignPreviewHeader: React.FC<CampaignPreviewHeaderProps> = ({\n  campaignName,\n  campaignType,\n  createdAt\n}) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-900 dark:via-slate-900 dark:to-slate-800 border-b border-purple-200 dark:border-purple-700 p-6\"\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"space-y-2\">\n          <h1 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n            {campaignName}\n          </h1>\n          <div className=\"flex items-center gap-3\">\n            <CampaignTypeBadge type={campaignType} />\n            <span className=\"text-sm text-gray-600 dark:text-gray-400\">\n              Created {new Date(createdAt).toLocaleDateString()}\n            </span>\n          </div>\n        </div>\n\n        {/* Campaign Status Indicator */}\n        <motion.div\n          initial={{ scale: 0.9 }}\n          animate={{ scale: 1 }}\n          className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg shadow-lg\"\n        >\n          <motion.span\n            animate={{ scale: [1, 1.2, 1] }}\n            transition={{ duration: 2, repeat: Infinity }}\n            className=\"w-2 h-2 bg-yellow-500 rounded-full\"\n          />\n          <span className=\"text-sm font-medium text-yellow-700 dark:text-yellow-400\">\n            Awaiting Approval\n          </span>\n        </motion.div>\n      </div>\n    </motion.div>\n  );\n};\n\n// ============================================================================\n// CAMPAIGN PREVIEW ACTIONS\n// ============================================================================\n\ninterface CampaignPreviewActionsProps {\n  onEdit: () => void;\n  onApprove: () => void;\n  onReject: () => void;\n  onRegenerateAll: () => void;\n  isEditing: boolean;\n  isLoading: boolean;\n}\n\nconst CampaignPreviewActions: React.FC<CampaignPreviewActionsProps> = ({\n  onEdit,\n  onApprove,\n  onReject,\n  onRegenerateAll,\n  isEditing,\n  isLoading\n}) => {\n  return (\n    <div className=\"sticky bottom-0 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-slate-800 dark:to-slate-700 border-t border-purple-200 dark:border-purple-700 p-6 shadow-lg\">\n      <div className=\"flex items-center justify-between\">\n        {/* Left Actions */}\n        <div className=\"flex items-center gap-3\">\n          {isEditing && (\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={onEdit}\n              className=\"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg\"\n            >\n              üëÅÔ∏è Back to Preview\n            </motion.button>\n          )}\n\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={onRegenerateAll}\n            disabled={isLoading}\n            className=\"px-4 py-2 border-2 border-purple-300 dark:border-purple-600 text-purple-700 dark:text-purple-400 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg flex items-center gap-2\"\n          >\n            {isLoading ? (\n              <>\n                <motion.span\n                  animate={{ rotate: 360 }}\n                  transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n                >\n                  ‚öôÔ∏è\n                </motion.span>\n                Regenerating...\n              </>\n            ) : (\n              <>\n                <Zap size={16} />\n                Regenerate All\n              </>\n            )}\n          </motion.button>\n        </div>\n\n        {/* Right Actions */}\n        <div className=\"flex items-center gap-3\">\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={onReject}\n            className=\"px-6 py-2 border-2 border-red-300 dark:border-red-600 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-all shadow-lg\"\n          >\n            ‚ùå Reject\n          </motion.button>\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={onApprove}\n            className=\"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg flex items-center gap-2\"\n          >\n            <Sparkles size={18} />\n            Approve & Publish\n          </motion.button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// ============================================================================\n// CAMPAIGN PREVIEW (Main Container)\n// ============================================================================\n\ninterface CampaignPreviewProps {\n  campaignData: CampaignPreviewData;\n  onApprove: () => void;\n  onReject: () => void;\n  onRegenerateAll: () => Promise<void>;\n  onSectionRegenerate?: (\n    platform: SupportedPlatform,\n    section: ContentSection,\n    options?: RegenerationOptions\n  ) => Promise<RegenerationResult>;\n}\n\nexport const CampaignPreview: React.FC<CampaignPreviewProps> = ({\n  campaignData,\n  onApprove,\n  onReject,\n  onRegenerateAll,\n  onSectionRegenerate\n}) => {\n  const [activePlatform, setActivePlatform] = useState<SupportedPlatform>(campaignData.platforms[0]);\n  const [mode, setMode] = useState<PreviewMode>('preview');\n  const [editingSection, setEditingSection] = useState<ContentSection | null>(null);\n  const [editedContent, setEditedContent] = useState<CampaignPreviewData>(campaignData);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleModeChange = (newMode: PreviewMode) => {\n    setMode(newMode);\n    if (newMode === 'preview') {\n      setEditingSection(null);\n    }\n  };\n\n  const handleEditSection = (section: ContentSection) => {\n    setEditingSection(section);\n    setMode('edit');\n  };\n\n  const handleSaveSection = () => {\n    setEditingSection(null);\n    setMode('preview');\n  };\n\n  const handleCancelEdit = () => {\n    // Revert changes\n    setEditedContent(campaignData);\n    setEditingSection(null);\n    setMode('preview');\n  };\n\n  const handleSectionValueChange = (value: string | string[]) => {\n    if (!editingSection) return;\n\n    setEditedContent((prev) => ({\n      ...prev,\n      content: {\n        ...prev.content,\n        [activePlatform]: {\n          ...prev.content[activePlatform],\n          sections: {\n            ...prev.content[activePlatform].sections,\n            [editingSection]: value\n          }\n        }\n      }\n    }));\n  };\n\n  const handleRegenerateAll = async () => {\n    setIsLoading(true);\n    try {\n      await onRegenerateAll();\n    } catch (error) {\n      console.error('Failed to regenerate all:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleSectionRegenerate = async (options?: RegenerationOptions): Promise<RegenerationResult> => {\n    if (!editingSection || !onSectionRegenerate) {\n      throw new Error('Section regeneration not available');\n    }\n\n    return await onSectionRegenerate(activePlatform, editingSection, options);\n  };\n\n  const currentPlatformContent = editedContent.content[activePlatform];\n  const currentSectionValue = editingSection\n    ? currentPlatformContent.sections[editingSection]\n    : '';\n\n  return (\n    <div className=\"w-full min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900\">\n      {/* Header */}\n      <CampaignPreviewHeader\n        campaignName={editedContent.campaignName}\n        campaignType={editedContent.campaignType}\n        createdAt={editedContent.createdAt}\n      />\n\n      {/* Platform Tabs */}\n      <PlatformTabs\n        platforms={editedContent.platforms}\n        activePlatform={activePlatform}\n        onPlatformChange={setActivePlatform}\n        platformContent={editedContent.content}\n        mode={mode}\n        onModeChange={handleModeChange}\n      />\n\n      {/* Main Content Area */}\n      <div className=\"container mx-auto px-6 py-8\">\n        <AnimatePresence mode=\"wait\">\n          {mode === 'preview' ? (\n            // Preview Mode\n            <motion.div\n              key=\"preview\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <CampaignPreviewCard\n                content={currentPlatformContent}\n                platform={activePlatform}\n                editable={true}\n                showSocialPreview={true}\n                onEditSection={handleEditSection}\n              />\n            </motion.div>\n          ) : (\n            // Edit Mode\n            <motion.div\n              key=\"edit\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className=\"space-y-6\"\n            >\n              {/* Current Preview */}\n              <div className=\"bg-gradient-to-br from-purple-50/50 via-blue-50/50 to-violet-50/50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-700 p-4 rounded-xl border border-purple-200 dark:border-purple-700 shadow-lg\">\n                <h3 className=\"text-sm font-semibold text-purple-900 dark:text-purple-200 mb-3 flex items-center gap-2\">\n                  <Sparkles size={16} />\n                  Current Preview\n                </h3>\n                <CampaignPreviewCard\n                  content={currentPlatformContent}\n                  platform={activePlatform}\n                  editable={false}\n                  showSocialPreview={false}\n                  onEditSection={handleEditSection}\n                />\n              </div>\n\n              {/* Editor */}\n              {editingSection ? (\n                <EditSection\n                  section={editingSection}\n                  value={currentSectionValue}\n                  limit={currentPlatformContent.characterCounts[editingSection as keyof typeof currentPlatformContent.characterCounts]}\n                  onChange={handleSectionValueChange}\n                  onSave={handleSaveSection}\n                  onCancel={handleCancelEdit}\n                  onRegenerate={onSectionRegenerate ? handleSectionRegenerate : undefined}\n                />\n              ) : (\n                <div className=\"p-8 bg-white dark:bg-slate-800 rounded-xl border-2 border-dashed border-purple-300 dark:border-purple-700 text-center shadow-lg\">\n                  <p className=\"text-gray-500 dark:text-gray-400\">\n                    Click \"Edit\" on any section above to start editing\n                  </p>\n                </div>\n              )}\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n\n      {/* Footer Actions */}\n      <CampaignPreviewActions\n        onEdit={() => handleModeChange(mode === 'preview' ? 'edit' : 'preview')}\n        onApprove={onApprove}\n        onReject={onReject}\n        onRegenerateAll={handleRegenerateAll}\n        isEditing={mode === 'edit'}\n        isLoading={isLoading}\n      />\n    </div>\n  );\n};\n","/**\n * Campaign Generation Page - Synapse Style\n *\n * Beautiful, modern campaign workflow matching Synapse's design language:\n * - Purple/Blue gradients\n * - Framer Motion animations\n * - Clean card-based layout\n * - Sparkles and visual delight\n */\n\nimport { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CampaignTypeSelector } from '../components/campaign/CampaignTypeSelector';\nimport { SmartPicks } from '../components/campaign/smart-picks/SmartPicks';\nimport { ContentMixer } from '../components/campaign/content-mixer/ContentMixer';\nimport { CampaignPreview } from '../components/campaign/preview/CampaignPreview';\nimport { campaignOrchestrator } from '../services/campaign';\nimport type { CampaignSession, CampaignState, CampaignType } from '../types/campaign-workflow.types';\nimport type { SmartPick } from '../types/smart-picks.types';\nimport type { CategorizedInsight, InsightPool } from '../types/content-mixer.types';\nimport type { DeepContext } from '../types/synapse/deepContext.types';\nimport { ArrowLeft, Loader2, Sparkles, CheckCircle, Zap } from 'lucide-react';\nimport { Card } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\n\n// Helper function to convert underscore IDs to hyphenated format for SmartPicks\nconst convertCampaignTypeId = (id: string): string => {\n  return id.replace(/_/g, '-');\n};\n\nexport function CampaignPage() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const businessId = searchParams.get('businessId') || 'demo-business';\n\n  // Campaign state\n  const [session, setSession] = useState<CampaignSession | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentStep, setCurrentStep] = useState<CampaignState>('IDLE');\n  const [selectionMode, setSelectionMode] = useState<'smart-picks' | 'mixer' | null>(null);\n\n  // Mock DeepContext (replace with real data)\n  const mockDeepContext: DeepContext = {\n    business: {\n      profile: {\n        id: businessId,\n        name: 'Acme Consulting',\n        industry: 'Professional Services',\n        naicsCode: '541611',\n        website: 'https://acme-consulting.com',\n        location: { city: 'San Francisco', state: 'CA', country: 'USA', lat: 37.7749, lon: -122.4194 },\n        keywords: ['consulting', 'strategy', 'transformation'],\n        competitors: ['Big Consulting Inc']\n      },\n      brandVoice: { tone: ['professional', 'authoritative'], values: ['Excellence'], personality: ['Expert'], avoidWords: [], signaturePhrases: [] },\n      uniqueAdvantages: ['20 years experience'],\n      goals: [{ goal: 'Increase brand awareness', priority: 'primary', timeframe: 'Q1 2025', metrics: [] }]\n    },\n    industry: { profile: null, trends: [{ trend: 'Digital transformation', direction: 'rising', strength: 0.85, timeframe: '2025', impact: 'high', sources: [] }], seasonality: [], competitiveLandscape: { topCompetitors: [], marketConcentration: 'moderate', barrierToEntry: 'high' }, economicFactors: [] },\n    realTimeCultural: { weather: null, localEvents: [], trendingTopics: [], culturalMoments: [], seasonalContext: null, reviews: null },\n    competitiveIntel: { blindSpots: [], mistakes: [], opportunities: [], contentGaps: [], positioningWeaknesses: [] },\n    customerPsychology: { unarticulated: [], emotional: [], behavioral: [], identityDesires: [], purchaseMotivations: [], objections: [] },\n    synthesis: { keyInsights: ['Digital transformation is top priority', 'Change management critical'], hiddenPatterns: [], opportunityScore: 82, recommendedAngles: [], confidenceLevel: 0.85, generatedAt: new Date() },\n    metadata: { aggregatedAt: new Date(), dataSourcesUsed: ['Website'], processingTimeMs: 5000, version: '1.0.0' }\n  };\n\n  const mockInsightPool: InsightPool = {\n    byCategory: {\n      local: [],\n      trending: [{ id: 'trending-1', type: 'predictive_opportunity', thinkingStyle: 'analytical', category: 'trending', insight: 'Digital transformation spending expected to reach $3.4T', whyProfound: 'Massive market shift', whyNow: 'Post-pandemic acceleration', contentAngle: 'Industry leadership', expectedReaction: 'High engagement', evidence: ['IDC Research'], displayTitle: 'Digital Transformation Growth', confidence: 0.9, dataSource: 'IDC Research', metadata: { generatedAt: new Date(), model: 'mock' } }],\n      seasonal: [],\n      industry: [{ id: 'industry-1', type: 'strategic_implication', thinkingStyle: 'analytical', category: 'industry', insight: 'Professional services seeing 40% increase in demand', whyProfound: 'Sustained growth trend', whyNow: 'Economic recovery', contentAngle: 'Market opportunity', expectedReaction: 'Business interest', evidence: ['Industry Analysis'], displayTitle: 'Consulting Demand Surge', confidence: 0.85, dataSource: 'Industry Analysis', metadata: { generatedAt: new Date(), model: 'mock' } }],\n      reviews: [],\n      competitive: []\n    },\n    totalCount: 2,\n    countByCategory: { local: 0, trending: 1, seasonal: 0, industry: 1, reviews: 0, competitive: 0 }\n  };\n\n  useEffect(() => {\n    const initSession = async () => {\n      try {\n        setLoading(true);\n        const newSession = await campaignOrchestrator.initialize({ businessId, context: mockDeepContext });\n        setSession(newSession);\n        setCurrentStep(newSession.state);\n        setError(null);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to initialize campaign');\n      } finally {\n        setLoading(false);\n      }\n    };\n    initSession();\n  }, [businessId]);\n\n  useEffect(() => {\n    const unsubscribe = campaignOrchestrator.onStateChange((updatedSession) => {\n      setSession(updatedSession);\n      setCurrentStep(updatedSession.state);\n    });\n    return unsubscribe;\n  }, []);\n\n  const handleCampaignTypeSelect = (campaignTypeId: string) => {\n    try {\n      const updatedSession = campaignOrchestrator.selectCampaignType(campaignTypeId as CampaignType);\n      setSession(updatedSession);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to select campaign type');\n    }\n  };\n\n  const handleSmartPickSelect = async (pick: SmartPick) => {\n    try {\n      const mockInsights = pick.insights.slice(0, 3);\n      await campaignOrchestrator.selectSmartPick({ smartPickId: pick.id, insights: mockInsights });\n      await campaignOrchestrator.generateCampaign();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to generate campaign');\n    }\n  };\n\n  const handleMixerGenerate = async (selectedInsights: CategorizedInsight[]) => {\n    try {\n      // Convert CategorizedInsight to SynapseInsight by passing the original insights\n      // which already have all required properties\n      await campaignOrchestrator.selectCustomInsights(selectedInsights);\n      await campaignOrchestrator.generateCampaign();\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to generate campaign');\n    }\n  };\n\n  const handleApprove = async () => {\n    try {\n      await campaignOrchestrator.approveCampaign();\n      navigate('/content-calendar');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to approve campaign');\n    }\n  };\n\n  const handlePublish = async (platforms: string[]) => {\n    try {\n      await campaignOrchestrator.publishCampaign(platforms);\n      navigate('/content-calendar');\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to publish campaign');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 flex items-center justify-center\">\n        <motion.div\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"text-center space-y-4\"\n        >\n          <Loader2 className=\"h-16 w-16 animate-spin text-purple-600 mx-auto\" />\n          <h2 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n            Initializing Campaign Workflow\n          </h2>\n          <p className=\"text-gray-600 dark:text-slate-400\">Preparing your intelligent campaign builder...</p>\n        </motion.div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900 flex items-center justify-center p-4\">\n        <Card className=\"max-w-md p-6 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800\">\n          <h2 className=\"text-xl font-semibold text-red-900 dark:text-red-100 mb-2\">Error</h2>\n          <p className=\"text-red-700 dark:text-red-300 mb-4\">{error}</p>\n          <Button onClick={() => window.location.reload()} className=\"w-full\">\n            Retry\n          </Button>\n        </Card>\n      </div>\n    );\n  }\n\n  if (!session) {\n    console.log('[CampaignPage] No session, returning null');\n    return null;\n  }\n\n  console.log('[CampaignPage] Rendering with state:', currentStep, 'selectionMode:', selectionMode);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-violet-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-900\">\n      {/* Header */}\n      <div className=\"border-b border-purple-100 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2 sm:gap-4\">\n              <button\n                onClick={() => navigate(-1)}\n                className=\"p-2 hover:bg-purple-100 dark:hover:bg-slate-800 rounded-lg transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center flex-shrink-0\"\n                aria-label=\"Go back\"\n              >\n                <ArrowLeft className=\"h-5 w-5 text-gray-600 dark:text-slate-400\" />\n              </button>\n              <div className=\"min-w-0 flex-1\">\n                <div className=\"flex items-center gap-2 sm:gap-3 mb-1\">\n                  <Sparkles className=\"h-6 w-6 sm:h-8 sm:w-8 text-purple-600 dark:text-purple-400 flex-shrink-0\" />\n                  <h1 className=\"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 dark:text-white truncate\">\n                    Campaign Builder\n                  </h1>\n                </div>\n                <p className=\"text-xs sm:text-sm text-gray-600 dark:text-slate-400 mt-1 line-clamp-1\">\n                  {currentStep === 'IDLE' && 'Select your campaign type'}\n                  {currentStep === 'TYPE_SELECTED' && 'Choose how to build your campaign'}\n                  {currentStep === 'GENERATING' && 'Creating your campaign content...'}\n                  {currentStep === 'PREVIEW' && 'Review and approve your campaign'}\n                </p>\n              </div>\n            </div>\n\n            {/* Progress */}\n            <div className=\"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3 flex-shrink-0\">\n              <span className=\"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 whitespace-nowrap\">\n                {session.progress}% Complete\n              </span>\n              <div className=\"w-24 sm:w-32 h-2 bg-gray-200 dark:bg-slate-700 rounded-full overflow-hidden\">\n                <motion.div\n                  initial={{ width: 0 }}\n                  animate={{ width: `${session.progress}%` }}\n                  transition={{ duration: 0.5 }}\n                  className=\"h-full bg-gradient-to-r from-purple-600 to-blue-600\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <AnimatePresence mode=\"wait\">\n          {/* Step 1: Campaign Type Selection */}\n          {currentStep === 'IDLE' && session.context && (\n            <motion.div\n              key=\"type-selection\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <CampaignTypeSelector\n                context={session.context}\n                onContinue={handleCampaignTypeSelect}\n              />\n            </motion.div>\n          )}\n\n          {/* Step 2: Content Selection Mode */}\n          {currentStep === 'TYPE_SELECTED' && !selectionMode && (\n            <motion.div\n              key=\"mode-selection\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              className=\"max-w-4xl mx-auto\"\n            >\n              <Card className=\"p-8 bg-white dark:bg-slate-800\">\n                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">\n                  How would you like to build your campaign?\n                </h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6\">\n                  <button\n                    onClick={() => setSelectionMode('smart-picks')}\n                    className=\"group text-left p-4 sm:p-6 border-2 border-purple-200 dark:border-purple-800 rounded-xl hover:border-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20 transition-all min-h-[160px]\"\n                  >\n                    <Zap className=\"h-8 w-8 sm:h-10 sm:w-10 text-purple-600 dark:text-purple-400 mb-3 group-hover:scale-110 transition-transform\" />\n                    <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                      Smart Picks\n                    </h3>\n                    <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-300\">\n                      AI-curated campaign recommendations. Select one and go!\n                    </p>\n                    <span className=\"inline-block mt-2 sm:mt-3 text-xs sm:text-sm font-medium text-purple-600 dark:text-purple-400\">\n                      Recommended ‚Üí\n                    </span>\n                  </button>\n\n                  <button\n                    onClick={() => setSelectionMode('mixer')}\n                    className=\"group text-left p-4 sm:p-6 border-2 border-blue-200 dark:border-blue-800 rounded-xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all min-h-[160px]\"\n                  >\n                    <Sparkles className=\"h-8 w-8 sm:h-10 sm:w-10 text-blue-600 dark:text-blue-400 mb-3 group-hover:scale-110 transition-transform\" />\n                    <h3 className=\"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-2\">\n                      Content Mixer\n                    </h3>\n                    <p className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-300\">\n                      Build custom campaigns by selecting specific insights\n                    </p>\n                    <span className=\"inline-block mt-2 sm:mt-3 text-xs sm:text-sm font-medium text-blue-600 dark:text-blue-400\">\n                      For custom campaigns ‚Üí\n                    </span>\n                  </button>\n                </div>\n              </Card>\n            </motion.div>\n          )}\n\n          {/* Step 2a: Smart Picks */}\n          {currentStep === 'TYPE_SELECTED' && selectionMode === 'smart-picks' && session.context && session.selectedType && (\n            <motion.div\n              key=\"smart-picks\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <Button\n                variant=\"ghost\"\n                onClick={() => setSelectionMode(null)}\n                className=\"mb-4\"\n              >\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\n                Back\n              </Button>\n              <SmartPicks\n                context={session.context}\n                campaignType={session.selectedType ? convertCampaignTypeId(session.selectedType) as any : undefined}\n                onGenerateCampaign={handleSmartPickSelect}\n                onSwitchToMixer={() => setSelectionMode('mixer')}\n              />\n            </motion.div>\n          )}\n\n          {/* Step 2b: Content Mixer */}\n          {currentStep === 'TYPE_SELECTED' && selectionMode === 'mixer' && (\n            <motion.div\n              key=\"content-mixer\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n            >\n              <Button\n                variant=\"ghost\"\n                onClick={() => setSelectionMode(null)}\n                className=\"mb-4\"\n              >\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\n                Back\n              </Button>\n              <ContentMixer\n                pool={mockInsightPool}\n                onGenerate={handleMixerGenerate}\n                maxInsights={5}\n              />\n            </motion.div>\n          )}\n\n          {/* Step 3: Generating */}\n          {currentStep === 'GENERATING' && (\n            <motion.div\n              key=\"generating\"\n              initial={{ opacity: 0, scale: 0.9 }}\n              animate={{ opacity: 1, scale: 1 }}\n              className=\"flex items-center justify-center py-20\"\n            >\n              <div className=\"text-center space-y-4\">\n                <Loader2 className=\"h-20 w-20 animate-spin text-purple-600 mx-auto\" />\n                <h2 className=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\n                  Generating Your Campaign\n                </h2>\n                <p className=\"text-gray-600 dark:text-slate-400\">\n                  Creating personalized content for all platforms...\n                </p>\n              </div>\n            </motion.div>\n          )}\n\n          {/* Step 4: Preview */}\n          {(currentStep === 'PREVIEW' || currentStep === 'APPROVED') && session.generatedContent && (\n            <motion.div\n              key=\"preview\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n            >\n              <CampaignPreview\n                content={session.generatedContent}\n                onApprove={handleApprove}\n                onPublish={handlePublish}\n                onEdit={(sectionId, newContent) => console.log('Edit:', sectionId)}\n                onRegenerate={(sectionId) => console.log('Regenerate:', sectionId)}\n              />\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n"],"names":["CampaignTypeCard","type","selected","onClick","IconComponent","Icons","Icons.HelpCircle","colorClasses","colors","jsx","motion","jsxs","Card","cn","Sparkles","CardHeader","CardTitle","CardDescription","CardContent","ideal","idx","Badge","platform","CampaignTypeSelector","context","onContinue","className","campaignTypes","setCampaignTypes","useState","selectedType","setSelectedType","recommendedType","setRecommendedType","reasoning","setReasoning","confidenceScore","setConfidenceScore","useEffect","result","campaignRecommender","handleTypeSelect","typeId","handleContinue","Dialog","DialogTrigger","Button","HelpCircle","DialogContent","DialogHeader","DialogTitle","DialogDescription","Zap","index","AnimatePresence","DataStrengthBar","_a","t","_b","_c","_d","ArrowRight","label","score","active","percentage","SOURCE_ICONS","props","TrendingUp","SmartPickCard","pick","onGenerate","onPreview","rank","confidencePercent","overallScorePercent","getBadgeColor","isTimeSensitive","isExpiring","w","CheckCircle2","Clock","source","ChevronRight","PLATFORMS","QuickPreview","onClose","selectedPlatform","setSelectedPlatform","generatePlatformPreview","generateHashtags","industry","city","baseTags","preview","e","X","tag","SmartPicks","campaignType","onGenerateCampaign","onSwitchToMixer","maxPicks","picks","setPicks","loading","setLoading","error","setError","previewPick","setPreviewPick","generate","generateSmartPicks","err","Loader2","item","AlertCircle","Lightbulb","categoryIcons","MapPin","Calendar","Building2","Star","Users","categoryColors","InsightCard","insight","draggable","inSelection","onRemove","attributes","listeners","setNodeRef","transform","transition","isDragging","useSortable","style","CSS","Icon","colorClass","confidenceColor","GripVertical","categoryLabels","categoryDescriptions","InsightPool","pool","selectedInsightIds","onInsightClick","activeTab","setActiveTab","searchFilter","setSearchFilter","useDroppable","availableInsights","search","categories","Search","category","count","isActive","Fragment","SelectionArea","selectedInsights","maxInsights","onRemoveInsight","onClearAll","isOver","isEmpty","isFull","Trash2","SortableContext","i","verticalListSortingStrategy","platforms","LivePreview","onPlatformChange","setPreview","isLoading","setIsLoading","updateTrigger","setUpdateTrigger","generatePreview","useCallback","mockPreview","acc","timer","prev","hasInsights","Eye","RefreshCw","p","ContentMixer","setSelectedInsights","activeInsight","setActiveInsight","setPlatform","sensors","useSensors","useSensor","MouseSensor","TouchSensor","handleDragStart","event","insightId","found","handleDragEnd","over","activeId","overId","fromSelection","oldIndex","newIndex","arrayMove","handleRemoveInsight","handleClearAll","handleGenerate","DndContext","closestCenter","DragOverlay","PLATFORM_CONFIGS","PlatformIcon","iconMap","PlatformTab","characterCount","hasWarnings","config","PlatformTabs","activePlatform","platformContent","mode","onModeChange","content","warning","ContentSectionDisplay","section","value","limit","isOverLimit","editable","onEdit","sectionLabels","renderValue","SocialMediaPreview","sections","CampaignPreviewCard","showSocialPreview","onEditSection","characterCounts","warnings","getSectionLimit","isSectionOverLimit","AutoResizeTextarea","onChange","placeholder","maxLength","textareaRef","useRef","textarea","HashtagEditor","hashtags","maxHashtags","inputValue","setInputValue","addHashtag","cleaned","removeHashtag","_","handleKeyPress","RegenerationAlternatives","alternatives","onSelect","alt","EditSection","onSave","onCancel","onRegenerate","isRegenerating","setIsRegenerating","regenerationResult","setRegenerationResult","showOptions","setShowOptions","placeholders","handleRegenerate","options","handleSelectAlternative","CampaignTypeBadge","CampaignPreviewHeader","campaignName","createdAt","CampaignPreviewActions","onApprove","onReject","onRegenerateAll","isEditing","CampaignPreview","campaignData","onSectionRegenerate","setActivePlatform","setMode","editingSection","setEditingSection","editedContent","setEditedContent","handleModeChange","newMode","handleEditSection","handleSaveSection","handleCancelEdit","handleSectionValueChange","handleRegenerateAll","handleSectionRegenerate","currentPlatformContent","currentSectionValue","convertCampaignTypeId","id","CampaignPage","navigate","useNavigate","searchParams","useSearchParams","businessId","session","setSession","currentStep","setCurrentStep","selectionMode","setSelectionMode","mockDeepContext","mockInsightPool","newSession","campaignOrchestrator","updatedSession","handleCampaignTypeSelect","campaignTypeId","handleSmartPickSelect","mockInsights","handleMixerGenerate","handleApprove","handlePublish","ArrowLeft","sectionId","newContent"],"mappings":"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"}